module.exports=[15305,(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,s={},c={RequestCookies:()=>g,ResponseCookies:()=>m,parseCookie:()=>d,parseSetCookie:()=>p,stringifyCookie:()=>l};for(var u in c)n(s,u,{get:c[u],enumerable:!0});function l(e){var t;let r=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"partitioned"in e&&e.partitioned&&"Partitioned","priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean),n=`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}`;return 0===r.length?n:`${n}; ${r.join("; ")}`}function d(e){let t=new Map;for(let r of e.split(/; */)){if(!r)continue;let e=r.indexOf("=");if(-1===e){t.set(r,"true");continue}let[n,i]=[r.slice(0,e),r.slice(e+1)];try{t.set(n,decodeURIComponent(null!=i?i:"true"))}catch{}}return t}function p(e){if(!e)return;let[[t,r],...n]=d(e),{domain:i,expires:o,httponly:a,maxage:s,path:c,samesite:u,secure:l,partitioned:p,priority:g}=Object.fromEntries(n.map(([e,t])=>[e.toLowerCase().replace(/-/g,""),t]));{var m,y,b={name:t,value:decodeURIComponent(r),domain:i,...o&&{expires:new Date(o)},...a&&{httpOnly:!0},..."string"==typeof s&&{maxAge:Number(s)},path:c,...u&&{sameSite:h.includes(m=(m=u).toLowerCase())?m:void 0},...l&&{secure:!0},...g&&{priority:f.includes(y=(y=g).toLowerCase())?y:void 0},...p&&{partitioned:!0}};let e={};for(let t in b)b[t]&&(e[t]=b[t]);return e}}t.exports=((e,t,r,s)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of o(t))a.call(e,c)||c===r||n(e,c,{get:()=>t[c],enumerable:!(s=i(t,c))||s.enumerable});return e})(n({},"__esModule",{value:!0}),s);var h=["strict","lax","none"],f=["low","medium","high"],g=class{constructor(e){this._parsed=new Map,this._headers=e;const t=e.get("cookie");if(t)for(const[e,r]of d(t))this._parsed.set(e,{name:e,value:r})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed);if(!e.length)return r.map(([e,t])=>t);let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(([e])=>e===n).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,r]=1===e.length?[e[0].name,e[0].value]:e,n=this._parsed;return n.set(t,{name:t,value:r}),this._headers.set("cookie",Array.from(n).map(([e,t])=>l(t)).join("; ")),this}delete(e){let t=this._parsed,r=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>l(t)).join("; ")),r}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},m=class{constructor(e){var t,r,n;this._parsed=new Map,this._headers=e;const i=null!=(n=null!=(r=null==(t=e.getSetCookie)?void 0:t.call(e))?r:e.get("set-cookie"))?n:[];for(const e of Array.isArray(i)?i:function(e){if(!e)return[];var t,r,n,i,o,a=[],s=0;function c(){for(;s<e.length&&/\s/.test(e.charAt(s));)s+=1;return s<e.length}for(;s<e.length;){for(t=s,o=!1;c();)if(","===(r=e.charAt(s))){for(n=s,s+=1,c(),i=s;s<e.length&&"="!==(r=e.charAt(s))&&";"!==r&&","!==r;)s+=1;s<e.length&&"="===e.charAt(s)?(o=!0,s=i,a.push(e.substring(t,n)),t=s):s=n+1}else s+=1;(!o||s>=e.length)&&a.push(e.substring(t,e.length))}return a}(i)){const t=p(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed.values());if(!e.length)return r;let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(e=>e.name===n)}has(e){return this._parsed.has(e)}set(...e){let[t,r,n]=1===e.length?[e[0].name,e[0].value,e[0]]:e,i=this._parsed;return i.set(t,function(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}({name:t,value:r,...n})),function(e,t){for(let[,r]of(t.delete("set-cookie"),e)){let e=l(r);t.append("set-cookie",e)}}(i,this._headers),this}delete(...e){let[t,r]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0]];return this.set({...r,name:t,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(l).join("; ")}}},34474,e=>{"use strict";function t(e){return Symbol.for(e)}var r,n,i,o,a,s,c,u,l,d,p,h,f,g=new function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(e){return r._currentContext.get(e)},r.setValue=function(t,n){var i=new e(r._currentContext);return i._currentContext.set(t,n),i},r.deleteValue=function(t){var n=new e(r._currentContext);return n._currentContext.delete(t),n}},m=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},y=function(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},b=function(){function e(){}return e.prototype.active=function(){return g},e.prototype.with=function(e,t,r){for(var n=[],i=3;i<arguments.length;i++)n[i-3]=arguments[i];return t.call.apply(t,y([r],m(n),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),_="object"==typeof globalThis?globalThis:e.g,w="1.9.0",v=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,E=function(e){var t=new Set([e]),r=new Set,n=e.match(v);if(!n)return function(){return!1};var i={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=i.prerelease)return function(t){return t===e};function o(e){return r.add(e),!1}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;var n=e.match(v);if(!n)return o(e);var a={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=a.prerelease||i.major!==a.major)return o(e);if(0===i.major)return i.minor===a.minor&&i.patch<=a.patch?(t.add(e),!0):o(e);return i.minor<=a.minor?(t.add(e),!0):o(e)}}(w),S=Symbol.for("opentelemetry.js.api."+w.split(".")[0]);function R(e,t,r,n){void 0===n&&(n=!1);var i,o=_[S]=null!=(i=_[S])?i:{version:w};if(!n&&o[e]){var a=Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(a.stack||a.message),!1}if(o.version!==w){var a=Error("@opentelemetry/api: Registration of version v"+o.version+" for "+e+" does not match previously registered API v"+w);return r.error(a.stack||a.message),!1}return o[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+w+"."),!0}function A(e){var t,r,n=null==(t=_[S])?void 0:t.version;if(n&&E(n))return null==(r=_[S])?void 0:r[e]}function x(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+w+".");var r=_[S];r&&delete r[e]}var P=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},O=function(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},T=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return k("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return k("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return k("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return k("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return k("verbose",this._namespace,e)},e}();function k(e,t,r){var n=A("diag");if(n)return r.unshift(t),n[e].apply(n,O([],P(r),!1))}(c=r||(r={}))[c.NONE=0]="NONE",c[c.ERROR=30]="ERROR",c[c.WARN=50]="WARN",c[c.INFO=60]="INFO",c[c.DEBUG=70]="DEBUG",c[c.VERBOSE=80]="VERBOSE",c[c.ALL=9999]="ALL";var C=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},I=function(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},N=function(){function e(){function e(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=A("diag");if(n)return n[e].apply(n,I([],C(t),!1))}}var t=this;t.setLogger=function(e,n){if(void 0===n&&(n={logLevel:r.INFO}),e===t){var i,o,a,s=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!=(i=s.stack)?i:s.message),!1}"number"==typeof n&&(n={logLevel:n});var c=A("diag"),u=function(e,t){function n(r,n){var i=t[r];return"function"==typeof i&&e>=n?i.bind(t):function(){}}return e<r.NONE?e=r.NONE:e>r.ALL&&(e=r.ALL),t=t||{},{error:n("error",r.ERROR),warn:n("warn",r.WARN),info:n("info",r.INFO),debug:n("debug",r.DEBUG),verbose:n("verbose",r.VERBOSE)}}(null!=(o=n.logLevel)?o:r.INFO,e);if(c&&!n.suppressOverrideMessage){var l=null!=(a=Error().stack)?a:"<failed to generate stacktrace>";c.warn("Current logger will be overwritten from "+l),u.warn("Current logger will overwrite one already registered from "+l)}return R("diag",u,t,!0)},t.disable=function(){x("diag",t)},t.createComponentLogger=function(e){return new T(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}(),j=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},D=function(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},U="context",L=new b,M=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return R(U,e,N.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,r){for(var n,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];return(n=this._getContextManager()).with.apply(n,D([e,t,r],j(i),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return A(U)||L},e.prototype.disable=function(){this._getContextManager().disable(),x(U,N.instance())},e}(),$=M.getInstance(),H=N.instance(),W=(u=function(e,t){return(u=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),B=function(){function e(){}return e.prototype.createGauge=function(e,t){return ee},e.prototype.createHistogram=function(e,t){return et},e.prototype.createCounter=function(e,t){return Q},e.prototype.createUpDownCounter=function(e,t){return er},e.prototype.createObservableGauge=function(e,t){return ei},e.prototype.createObservableCounter=function(e,t){return en},e.prototype.createObservableUpDownCounter=function(e,t){return eo},e.prototype.addBatchObservableCallback=function(e,t){},e.prototype.removeBatchObservableCallback=function(e){},e}(),K=function(){},q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return W(t,e),t.prototype.add=function(e,t){},t}(K),V=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return W(t,e),t.prototype.add=function(e,t){},t}(K),F=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return W(t,e),t.prototype.record=function(e,t){},t}(K),G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return W(t,e),t.prototype.record=function(e,t){},t}(K),J=function(){function e(){}return e.prototype.addCallback=function(e){},e.prototype.removeCallback=function(e){},e}(),z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return W(t,e),t}(J),X=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return W(t,e),t}(J),Y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return W(t,e),t}(J),Z=new B,Q=new q,ee=new F,et=new G,er=new V,en=new z,ei=new X,eo=new Y;function ea(){return Z}var es=new(function(){function e(){}return e.prototype.getMeter=function(e,t,r){return Z},e}()),ec="metrics",eu=(function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(e){return R(ec,e,N.instance())},e.prototype.getMeterProvider=function(){return A(ec)||es},e.prototype.getMeter=function(e,t,r){return this.getMeterProvider().getMeter(e,t,r)},e.prototype.disable=function(){x(ec,N.instance())},e})().getInstance(),el=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}(),ed={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},ep={set:function(e,t,r){null!=e&&(e[t]=r)}},eh=t("OpenTelemetry Baggage Key");function ef(e){return e.getValue(eh)||void 0}function eg(){return ef(M.getInstance().active())}function em(e,t){return e.setValue(eh,t)}function ey(e){return e.deleteValue(eh)}var eb=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},e_=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ew=function(){function e(e){this._entries=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(e){var t=eb(e,2);return[t[0],t[1]]})},e.prototype.setEntry=function(t,r){var n=new e(this._entries);return n._entries.set(t,r),n},e.prototype.removeEntry=function(t){var r=new e(this._entries);return r._entries.delete(t),r},e.prototype.removeEntries=function(){for(var t,r,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=new e(this._entries);try{for(var a=e_(n),s=a.next();!s.done;s=a.next()){var c=s.value;o._entries.delete(c)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return o},e.prototype.clear=function(){return new e},e}(),ev=Symbol("BaggageEntryMetadata"),eE=N.instance();function eS(e){return void 0===e&&(e={}),new ew(new Map(Object.entries(e)))}function eR(e){return"string"!=typeof e&&(eE.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:ev,toString:function(){return e}}}var eA="propagation",ex=new el,eP=(function(){function e(){this.createBaggage=eS,this.getBaggage=ef,this.getActiveBaggage=eg,this.setBaggage=em,this.deleteBaggage=ey}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return R(eA,e,N.instance())},e.prototype.inject=function(e,t,r){return void 0===r&&(r=ep),this._getGlobalPropagator().inject(e,t,r)},e.prototype.extract=function(e,t,r){return void 0===r&&(r=ed),this._getGlobalPropagator().extract(e,t,r)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){x(eA,N.instance())},e.prototype._getGlobalPropagator=function(){return A(eA)||ex},e})().getInstance();(l=n||(n={}))[l.NONE=0]="NONE",l[l.SAMPLED=1]="SAMPLED";var eO="0000000000000000",eT="00000000000000000000000000000000",ek={traceId:eT,spanId:eO,traceFlags:n.NONE},eC=function(){function e(e){void 0===e&&(e=ek),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.addLink=function(e){return this},e.prototype.addLinks=function(e){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}(),eI=t("OpenTelemetry Context Key SPAN");function eN(e){return e.getValue(eI)||void 0}function ej(){return eN(M.getInstance().active())}function eD(e,t){return e.setValue(eI,t)}function eU(e){return e.deleteValue(eI)}function eL(e,t){return eD(e,new eC(t))}function eM(e){var t;return null==(t=eN(e))?void 0:t.spanContext()}var e$=/^([0-9a-f]{32})$/i,eH=/^[0-9a-f]{16}$/i;function eW(e){return e$.test(e)&&e!==eT}function eB(e){return eH.test(e)&&e!==eO}function eK(e){return eW(e.traceId)&&eB(e.spanId)}function eq(e){return new eC(e)}var eV=M.getInstance(),eF=function(){function e(){}return e.prototype.startSpan=function(e,t,r){if(void 0===r&&(r=eV.active()),null==t?void 0:t.root)return new eC;var n,i=r&&eM(r);return"object"==typeof(n=i)&&"string"==typeof n.spanId&&"string"==typeof n.traceId&&"number"==typeof n.traceFlags&&eK(i)?new eC(i):new eC},e.prototype.startActiveSpan=function(e,t,r,n){if(!(arguments.length<2)){2==arguments.length?a=t:3==arguments.length?(i=t,a=r):(i=t,o=r,a=n);var i,o,a,s=null!=o?o:eV.active(),c=this.startSpan(e,i,s),u=eD(s,c);return eV.with(u,a,void 0,c)}},e}(),eG=new eF,eJ=function(){function e(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}return e.prototype.startSpan=function(e,t,r){return this._getTracer().startSpan(e,t,r)},e.prototype.startActiveSpan=function(e,t,r,n){var i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):eG},e}(),ez=new(function(){function e(){}return e.prototype.getTracer=function(e,t,r){return new eF},e}()),eX=function(){function e(){}return e.prototype.getTracer=function(e,t,r){var n;return null!=(n=this.getDelegateTracer(e,t,r))?n:new eJ(this,e,t,r)},e.prototype.getDelegate=function(){var e;return null!=(e=this._delegate)?e:ez},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,r){var n;return null==(n=this._delegate)?void 0:n.getTracer(e,t,r)},e}(),eY="trace",eZ=(function(){function e(){this._proxyTracerProvider=new eX,this.wrapSpanContext=eq,this.isSpanContextValid=eK,this.deleteSpan=eU,this.getSpan=eN,this.getActiveSpan=ej,this.getSpanContext=eM,this.setSpan=eD,this.setSpanContext=eL}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=R(eY,this._proxyTracerProvider,N.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return A(eY)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){x(eY,N.instance()),this._proxyTracerProvider=new eX},e})().getInstance();let eQ={context:$,diag:H,metrics:eu,propagation:eP,trace:eZ};e.s(["default",0,eQ],46300),e.i(46300);var e0=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],e1=function(){for(var e=0;e<e0.length;e++)this[e0[e].n]=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(console){var n=console[e];if("function"!=typeof n&&(n=console.log),"function"==typeof n)return n.apply(console,t)}}}(e0[e].c)};(d=i||(i={}))[d.INT=0]="INT",d[d.DOUBLE=1]="DOUBLE",(p=o||(o={}))[p.NOT_RECORD=0]="NOT_RECORD",p[p.RECORD=1]="RECORD",p[p.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED",(h=a||(a={}))[h.INTERNAL=0]="INTERNAL",h[h.SERVER=1]="SERVER",h[h.CLIENT=2]="CLIENT",h[h.PRODUCER=3]="PRODUCER",h[h.CONSUMER=4]="CONSUMER",(f=s||(s={}))[f.UNSET=0]="UNSET",f[f.OK=1]="OK",f[f.ERROR=2]="ERROR";var e2="[_0-9a-z-*/]",e3=RegExp("^(?:[a-z]"+e2+"{0,255}|"+("[a-z0-9]"+e2+"{0,240}@[a-z]")+e2+"{0,13})$"),e4=/^[ -~]{0,255}[!-~]$/,e8=/,|=/,e6=function(){function e(e){this._internalState=new Map,e&&this._parse(e)}return e.prototype.set=function(e,t){var r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r},e.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},e.prototype.get=function(e){return this._internalState.get(e)},e.prototype.serialize=function(){var e=this;return this._keys().reduce(function(t,r){return t.push(r+"="+e.get(r)),t},[]).join(",")},e.prototype._parse=function(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce(function(e,t){var r=t.trim(),n=r.indexOf("=");if(-1!==n){var i=r.slice(0,n),o=r.slice(n+1,t.length);e3.test(i)&&e4.test(o)&&!e8.test(o)&&e.set(i,o)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}();function e5(e){return new e6(e)}e.s(["DiagConsoleLogger",()=>e1,"DiagLogLevel",()=>r,"INVALID_SPANID",()=>eO,"INVALID_SPAN_CONTEXT",()=>ek,"INVALID_TRACEID",()=>eT,"ProxyTracer",()=>eJ,"ProxyTracerProvider",()=>eX,"ROOT_CONTEXT",()=>g,"SamplingDecision",()=>o,"SpanKind",()=>a,"SpanStatusCode",()=>s,"TraceFlags",()=>n,"ValueType",()=>i,"baggageEntryMetadataFromString",()=>eR,"context",()=>$,"createContextKey",()=>t,"createNoopMeter",()=>ea,"createTraceState",()=>e5,"default",0,eQ,"defaultTextMapGetter",()=>ed,"defaultTextMapSetter",()=>ep,"diag",()=>H,"isSpanContextValid",()=>eK,"isValidSpanId",()=>eB,"isValidTraceId",()=>eW,"metrics",()=>eu,"propagation",()=>eP,"trace",()=>eZ],34474)},78338,(e,t,r)=>{(()=>{"use strict";let r,n,i,o,a;var s,c,u,l,d,p,h,f,g,m,y,b,_,w,v,E,S={491:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContextAPI=void 0;let n=r(223),i=r(172),o=r(930),a="context",s=new n.NoopContextManager;class c{static getInstance(){return this._instance||(this._instance=new c),this._instance}setGlobalContextManager(e){return(0,i.registerGlobal)(a,e,o.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,t,r,...n){return this._getContextManager().with(e,t,r,...n)}bind(e,t){return this._getContextManager().bind(e,t)}_getContextManager(){return(0,i.getGlobal)(a)||s}disable(){this._getContextManager().disable(),(0,i.unregisterGlobal)(a,o.DiagAPI.instance())}}t.ContextAPI=c},930:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagAPI=void 0;let n=r(56),i=r(912),o=r(957),a=r(172);class s{constructor(){function e(e){return function(...t){let r=(0,a.getGlobal)("diag");if(r)return r[e](...t)}}const t=this;t.setLogger=(e,r={logLevel:o.DiagLogLevel.INFO})=>{var n,s,c;if(e===t){let e=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!=(n=e.stack)?n:e.message),!1}"number"==typeof r&&(r={logLevel:r});let u=(0,a.getGlobal)("diag"),l=(0,i.createLogLevelDiagLogger)(null!=(s=r.logLevel)?s:o.DiagLogLevel.INFO,e);if(u&&!r.suppressOverrideMessage){let e=null!=(c=Error().stack)?c:"<failed to generate stacktrace>";u.warn(`Current logger will be overwritten from ${e}`),l.warn(`Current logger will overwrite one already registered from ${e}`)}return(0,a.registerGlobal)("diag",l,t,!0)},t.disable=()=>{(0,a.unregisterGlobal)("diag",t)},t.createComponentLogger=e=>new n.DiagComponentLogger(e),t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}static instance(){return this._instance||(this._instance=new s),this._instance}}t.DiagAPI=s},653:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MetricsAPI=void 0;let n=r(660),i=r(172),o=r(930),a="metrics";class s{static getInstance(){return this._instance||(this._instance=new s),this._instance}setGlobalMeterProvider(e){return(0,i.registerGlobal)(a,e,o.DiagAPI.instance())}getMeterProvider(){return(0,i.getGlobal)(a)||n.NOOP_METER_PROVIDER}getMeter(e,t,r){return this.getMeterProvider().getMeter(e,t,r)}disable(){(0,i.unregisterGlobal)(a,o.DiagAPI.instance())}}t.MetricsAPI=s},181:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PropagationAPI=void 0;let n=r(172),i=r(874),o=r(194),a=r(277),s=r(369),c=r(930),u="propagation",l=new i.NoopTextMapPropagator;class d{constructor(){this.createBaggage=s.createBaggage,this.getBaggage=a.getBaggage,this.getActiveBaggage=a.getActiveBaggage,this.setBaggage=a.setBaggage,this.deleteBaggage=a.deleteBaggage}static getInstance(){return this._instance||(this._instance=new d),this._instance}setGlobalPropagator(e){return(0,n.registerGlobal)(u,e,c.DiagAPI.instance())}inject(e,t,r=o.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,t,r)}extract(e,t,r=o.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,t,r)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,n.unregisterGlobal)(u,c.DiagAPI.instance())}_getGlobalPropagator(){return(0,n.getGlobal)(u)||l}}t.PropagationAPI=d},997:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceAPI=void 0;let n=r(172),i=r(846),o=r(139),a=r(607),s=r(930),c="trace";class u{constructor(){this._proxyTracerProvider=new i.ProxyTracerProvider,this.wrapSpanContext=o.wrapSpanContext,this.isSpanContextValid=o.isSpanContextValid,this.deleteSpan=a.deleteSpan,this.getSpan=a.getSpan,this.getActiveSpan=a.getActiveSpan,this.getSpanContext=a.getSpanContext,this.setSpan=a.setSpan,this.setSpanContext=a.setSpanContext}static getInstance(){return this._instance||(this._instance=new u),this._instance}setGlobalTracerProvider(e){let t=(0,n.registerGlobal)(c,this._proxyTracerProvider,s.DiagAPI.instance());return t&&this._proxyTracerProvider.setDelegate(e),t}getTracerProvider(){return(0,n.getGlobal)(c)||this._proxyTracerProvider}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){(0,n.unregisterGlobal)(c,s.DiagAPI.instance()),this._proxyTracerProvider=new i.ProxyTracerProvider}}t.TraceAPI=u},277:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.deleteBaggage=t.setBaggage=t.getActiveBaggage=t.getBaggage=void 0;let n=r(491),i=(0,r(780).createContextKey)("OpenTelemetry Baggage Key");function o(e){return e.getValue(i)||void 0}t.getBaggage=o,t.getActiveBaggage=function(){return o(n.ContextAPI.getInstance().active())},t.setBaggage=function(e,t){return e.setValue(i,t)},t.deleteBaggage=function(e){return e.deleteValue(i)}},993:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageImpl=void 0;class r{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){let t=this._entries.get(e);if(t)return Object.assign({},t)}getAllEntries(){return Array.from(this._entries.entries()).map(([e,t])=>[e,t])}setEntry(e,t){let n=new r(this._entries);return n._entries.set(e,t),n}removeEntry(e){let t=new r(this._entries);return t._entries.delete(e),t}removeEntries(...e){let t=new r(this._entries);for(let r of e)t._entries.delete(r);return t}clear(){return new r}}t.BaggageImpl=r},830:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataSymbol=void 0,t.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},369:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataFromString=t.createBaggage=void 0;let n=r(930),i=r(993),o=r(830),a=n.DiagAPI.instance();t.createBaggage=function(e={}){return new i.BaggageImpl(new Map(Object.entries(e)))},t.baggageEntryMetadataFromString=function(e){return"string"!=typeof e&&(a.error(`Cannot create baggage metadata from unknown type: ${typeof e}`),e=""),{__TYPE__:o.baggageEntryMetadataSymbol,toString:()=>e}}},67:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.context=void 0,t.context=r(491).ContextAPI.getInstance()},223:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopContextManager=void 0;let n=r(780);t.NoopContextManager=class{active(){return n.ROOT_CONTEXT}with(e,t,r,...n){return t.call(r,...n)}bind(e,t){return t}enable(){return this}disable(){return this}}},780:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROOT_CONTEXT=t.createContextKey=void 0,t.createContextKey=function(e){return Symbol.for(e)};class r{constructor(e){const t=this;t._currentContext=e?new Map(e):new Map,t.getValue=e=>t._currentContext.get(e),t.setValue=(e,n)=>{let i=new r(t._currentContext);return i._currentContext.set(e,n),i},t.deleteValue=e=>{let n=new r(t._currentContext);return n._currentContext.delete(e),n}}}t.ROOT_CONTEXT=new r},506:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.diag=void 0,t.diag=r(930).DiagAPI.instance()},56:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagComponentLogger=void 0;let n=r(172);function i(e,t,r){let i=(0,n.getGlobal)("diag");if(i)return r.unshift(t),i[e](...r)}t.DiagComponentLogger=class{constructor(e){this._namespace=e.namespace||"DiagComponentLogger"}debug(...e){return i("debug",this._namespace,e)}error(...e){return i("error",this._namespace,e)}info(...e){return i("info",this._namespace,e)}warn(...e){return i("warn",this._namespace,e)}verbose(...e){return i("verbose",this._namespace,e)}}},972:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagConsoleLogger=void 0;let r=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];t.DiagConsoleLogger=class{constructor(){for(let e=0;e<r.length;e++)this[r[e].n]=function(e){return function(...t){if(console){let r=console[e];if("function"!=typeof r&&(r=console.log),"function"==typeof r)return r.apply(console,t)}}}(r[e].c)}}},912:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createLogLevelDiagLogger=void 0;let n=r(957);t.createLogLevelDiagLogger=function(e,t){function r(r,n){let i=t[r];return"function"==typeof i&&e>=n?i.bind(t):function(){}}return e<n.DiagLogLevel.NONE?e=n.DiagLogLevel.NONE:e>n.DiagLogLevel.ALL&&(e=n.DiagLogLevel.ALL),t=t||{},{error:r("error",n.DiagLogLevel.ERROR),warn:r("warn",n.DiagLogLevel.WARN),info:r("info",n.DiagLogLevel.INFO),debug:r("debug",n.DiagLogLevel.DEBUG),verbose:r("verbose",n.DiagLogLevel.VERBOSE)}}},957:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DiagLogLevel=void 0,(r=t.DiagLogLevel||(t.DiagLogLevel={}))[r.NONE=0]="NONE",r[r.ERROR=30]="ERROR",r[r.WARN=50]="WARN",r[r.INFO=60]="INFO",r[r.DEBUG=70]="DEBUG",r[r.VERBOSE=80]="VERBOSE",r[r.ALL=9999]="ALL"},172:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterGlobal=t.getGlobal=t.registerGlobal=void 0;let n=r(200),i=r(521),o=r(130),a=i.VERSION.split(".")[0],s=Symbol.for(`opentelemetry.js.api.${a}`),c=n._globalThis;t.registerGlobal=function(e,t,r,n=!1){var o;let a=c[s]=null!=(o=c[s])?o:{version:i.VERSION};if(!n&&a[e]){let t=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);return r.error(t.stack||t.message),!1}if(a.version!==i.VERSION){let t=Error(`@opentelemetry/api: Registration of version v${a.version} for ${e} does not match previously registered API v${i.VERSION}`);return r.error(t.stack||t.message),!1}return a[e]=t,r.debug(`@opentelemetry/api: Registered a global for ${e} v${i.VERSION}.`),!0},t.getGlobal=function(e){var t,r;let n=null==(t=c[s])?void 0:t.version;if(n&&(0,o.isCompatible)(n))return null==(r=c[s])?void 0:r[e]},t.unregisterGlobal=function(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${i.VERSION}.`);let r=c[s];r&&delete r[e]}},130:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isCompatible=t._makeCompatibilityCheck=void 0;let n=r(521),i=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function o(e){let t=new Set([e]),r=new Set,n=e.match(i);if(!n)return()=>!1;let o={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=o.prerelease)return function(t){return t===e};function a(e){return r.add(e),!1}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;let n=e.match(i);if(!n)return a(e);let s={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=s.prerelease||o.major!==s.major)return a(e);if(0===o.major)return o.minor===s.minor&&o.patch<=s.patch?(t.add(e),!0):a(e);return o.minor<=s.minor?(t.add(e),!0):a(e)}}t._makeCompatibilityCheck=o,t.isCompatible=o(n.VERSION)},886:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.metrics=void 0,t.metrics=r(653).MetricsAPI.getInstance()},901:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ValueType=void 0,(r=t.ValueType||(t.ValueType={}))[r.INT=0]="INT",r[r.DOUBLE=1]="DOUBLE"},102:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createNoopMeter=t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=t.NOOP_OBSERVABLE_GAUGE_METRIC=t.NOOP_OBSERVABLE_COUNTER_METRIC=t.NOOP_UP_DOWN_COUNTER_METRIC=t.NOOP_HISTOGRAM_METRIC=t.NOOP_COUNTER_METRIC=t.NOOP_METER=t.NoopObservableUpDownCounterMetric=t.NoopObservableGaugeMetric=t.NoopObservableCounterMetric=t.NoopObservableMetric=t.NoopHistogramMetric=t.NoopUpDownCounterMetric=t.NoopCounterMetric=t.NoopMetric=t.NoopMeter=void 0;class r{createHistogram(e,r){return t.NOOP_HISTOGRAM_METRIC}createCounter(e,r){return t.NOOP_COUNTER_METRIC}createUpDownCounter(e,r){return t.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,r){return t.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,r){return t.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,r){return t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}}t.NoopMeter=r;class n{}t.NoopMetric=n;class i extends n{add(e,t){}}t.NoopCounterMetric=i;class o extends n{add(e,t){}}t.NoopUpDownCounterMetric=o;class a extends n{record(e,t){}}t.NoopHistogramMetric=a;class s{addCallback(e){}removeCallback(e){}}t.NoopObservableMetric=s;class c extends s{}t.NoopObservableCounterMetric=c;class u extends s{}t.NoopObservableGaugeMetric=u;class l extends s{}t.NoopObservableUpDownCounterMetric=l,t.NOOP_METER=new r,t.NOOP_COUNTER_METRIC=new i,t.NOOP_HISTOGRAM_METRIC=new a,t.NOOP_UP_DOWN_COUNTER_METRIC=new o,t.NOOP_OBSERVABLE_COUNTER_METRIC=new c,t.NOOP_OBSERVABLE_GAUGE_METRIC=new u,t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new l,t.createNoopMeter=function(){return t.NOOP_METER}},660:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_METER_PROVIDER=t.NoopMeterProvider=void 0;let n=r(102);class i{getMeter(e,t,r){return n.NOOP_METER}}t.NoopMeterProvider=i,t.NOOP_METER_PROVIDER=new i},200:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(46),t)},651:(t,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r._globalThis=void 0,r._globalThis="object"==typeof globalThis?globalThis:e.g},46:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(651),t)},939:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.propagation=void 0,t.propagation=r(181).PropagationAPI.getInstance()},874:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTextMapPropagator=void 0,t.NoopTextMapPropagator=class{inject(e,t){}extract(e,t){return e}fields(){return[]}}},194:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultTextMapSetter=t.defaultTextMapGetter=void 0,t.defaultTextMapGetter={get(e,t){if(null!=e)return e[t]},keys:e=>null==e?[]:Object.keys(e)},t.defaultTextMapSetter={set(e,t,r){null!=e&&(e[t]=r)}}},845:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.trace=void 0,t.trace=r(997).TraceAPI.getInstance()},403:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NonRecordingSpan=void 0;let n=r(476);t.NonRecordingSpan=class{constructor(e=n.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return!1}recordException(e,t){}}},614:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracer=void 0;let n=r(491),i=r(607),o=r(403),a=r(139),s=n.ContextAPI.getInstance();t.NoopTracer=class{startSpan(e,t,r=s.active()){var n;if(null==t?void 0:t.root)return new o.NonRecordingSpan;let c=r&&(0,i.getSpanContext)(r);return"object"==typeof(n=c)&&"string"==typeof n.spanId&&"string"==typeof n.traceId&&"number"==typeof n.traceFlags&&(0,a.isSpanContextValid)(c)?new o.NonRecordingSpan(c):new o.NonRecordingSpan}startActiveSpan(e,t,r,n){let o,a,c;if(arguments.length<2)return;2==arguments.length?c=t:3==arguments.length?(o=t,c=r):(o=t,a=r,c=n);let u=null!=a?a:s.active(),l=this.startSpan(e,o,u),d=(0,i.setSpan)(u,l);return s.with(d,c,void 0,l)}}},124:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracerProvider=void 0;let n=r(614);t.NoopTracerProvider=class{getTracer(e,t,r){return new n.NoopTracer}}},125:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracer=void 0;let n=new(r(614)).NoopTracer;t.ProxyTracer=class{constructor(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}startSpan(e,t,r){return this._getTracer().startSpan(e,t,r)}startActiveSpan(e,t,r,n){let i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)}_getTracer(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):n}}},846:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracerProvider=void 0;let n=r(125),i=new(r(124)).NoopTracerProvider;t.ProxyTracerProvider=class{getTracer(e,t,r){var i;return null!=(i=this.getDelegateTracer(e,t,r))?i:new n.ProxyTracer(this,e,t,r)}getDelegate(){var e;return null!=(e=this._delegate)?e:i}setDelegate(e){this._delegate=e}getDelegateTracer(e,t,r){var n;return null==(n=this._delegate)?void 0:n.getTracer(e,t,r)}}},996:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SamplingDecision=void 0,(r=t.SamplingDecision||(t.SamplingDecision={}))[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"},607:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSpanContext=t.setSpanContext=t.deleteSpan=t.setSpan=t.getActiveSpan=t.getSpan=void 0;let n=r(780),i=r(403),o=r(491),a=(0,n.createContextKey)("OpenTelemetry Context Key SPAN");function s(e){return e.getValue(a)||void 0}function c(e,t){return e.setValue(a,t)}t.getSpan=s,t.getActiveSpan=function(){return s(o.ContextAPI.getInstance().active())},t.setSpan=c,t.deleteSpan=function(e){return e.deleteValue(a)},t.setSpanContext=function(e,t){return c(e,new i.NonRecordingSpan(t))},t.getSpanContext=function(e){var t;return null==(t=s(e))?void 0:t.spanContext()}},325:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceStateImpl=void 0;let n=r(564);class i{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+"="+this.get(t)),e),[]).join(",")}_parse(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce((e,t)=>{let r=t.trim(),i=r.indexOf("=");if(-1!==i){let o=r.slice(0,i),a=r.slice(i+1,t.length);(0,n.validateKey)(o)&&(0,n.validateValue)(a)&&e.set(o,a)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new i;return e._internalState=new Map(this._internalState),e}}t.TraceStateImpl=i},564:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateValue=t.validateKey=void 0;let r="[_0-9a-z-*/]",n=`[a-z]${r}{0,255}`,i=`[a-z0-9]${r}{0,240}@[a-z]${r}{0,13}`,o=RegExp(`^(?:${n}|${i})$`),a=/^[ -~]{0,255}[!-~]$/,s=/,|=/;t.validateKey=function(e){return o.test(e)},t.validateValue=function(e){return a.test(e)&&!s.test(e)}},98:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTraceState=void 0;let n=r(325);t.createTraceState=function(e){return new n.TraceStateImpl(e)}},476:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0;let n=r(475);t.INVALID_SPANID="0000000000000000",t.INVALID_TRACEID="00000000000000000000000000000000",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:n.TraceFlags.NONE}},357:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SpanKind=void 0,(r=t.SpanKind||(t.SpanKind={}))[r.INTERNAL=0]="INTERNAL",r[r.SERVER=1]="SERVER",r[r.CLIENT=2]="CLIENT",r[r.PRODUCER=3]="PRODUCER",r[r.CONSUMER=4]="CONSUMER"},139:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.wrapSpanContext=t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=void 0;let n=r(476),i=r(403),o=/^([0-9a-f]{32})$/i,a=/^[0-9a-f]{16}$/i;function s(e){return o.test(e)&&e!==n.INVALID_TRACEID}function c(e){return a.test(e)&&e!==n.INVALID_SPANID}t.isValidTraceId=s,t.isValidSpanId=c,t.isSpanContextValid=function(e){return s(e.traceId)&&c(e.spanId)},t.wrapSpanContext=function(e){return new i.NonRecordingSpan(e)}},847:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SpanStatusCode=void 0,(r=t.SpanStatusCode||(t.SpanStatusCode={}))[r.UNSET=0]="UNSET",r[r.OK=1]="OK",r[r.ERROR=2]="ERROR"},475:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFlags=void 0,(r=t.TraceFlags||(t.TraceFlags={}))[r.NONE=0]="NONE",r[r.SAMPLED=1]="SAMPLED"},521:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="1.6.0"}},R={};function A(e){var t=R[e];if(void 0!==t)return t.exports;var r=R[e]={exports:{}},n=!0;try{S[e].call(r.exports,r,r.exports,A),n=!1}finally{n&&delete R[e]}return r.exports}A.ab="/ROOT/node_modules/.pnpm/next@16.1.6_@babel+core@7.29.0_@opentelemetry+api@1.9.0_react-dom@19.2.4_react@19.2.4__react@19.2.4/node_modules/next/dist/compiled/@opentelemetry/api/";var x={};Object.defineProperty(x,"__esModule",{value:!0}),x.trace=x.propagation=x.metrics=x.diag=x.context=x.INVALID_SPAN_CONTEXT=x.INVALID_TRACEID=x.INVALID_SPANID=x.isValidSpanId=x.isValidTraceId=x.isSpanContextValid=x.createTraceState=x.TraceFlags=x.SpanStatusCode=x.SpanKind=x.SamplingDecision=x.ProxyTracerProvider=x.ProxyTracer=x.defaultTextMapSetter=x.defaultTextMapGetter=x.ValueType=x.createNoopMeter=x.DiagLogLevel=x.DiagConsoleLogger=x.ROOT_CONTEXT=x.createContextKey=x.baggageEntryMetadataFromString=void 0,s=A(369),Object.defineProperty(x,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return s.baggageEntryMetadataFromString}}),c=A(780),Object.defineProperty(x,"createContextKey",{enumerable:!0,get:function(){return c.createContextKey}}),Object.defineProperty(x,"ROOT_CONTEXT",{enumerable:!0,get:function(){return c.ROOT_CONTEXT}}),u=A(972),Object.defineProperty(x,"DiagConsoleLogger",{enumerable:!0,get:function(){return u.DiagConsoleLogger}}),l=A(957),Object.defineProperty(x,"DiagLogLevel",{enumerable:!0,get:function(){return l.DiagLogLevel}}),d=A(102),Object.defineProperty(x,"createNoopMeter",{enumerable:!0,get:function(){return d.createNoopMeter}}),p=A(901),Object.defineProperty(x,"ValueType",{enumerable:!0,get:function(){return p.ValueType}}),h=A(194),Object.defineProperty(x,"defaultTextMapGetter",{enumerable:!0,get:function(){return h.defaultTextMapGetter}}),Object.defineProperty(x,"defaultTextMapSetter",{enumerable:!0,get:function(){return h.defaultTextMapSetter}}),f=A(125),Object.defineProperty(x,"ProxyTracer",{enumerable:!0,get:function(){return f.ProxyTracer}}),g=A(846),Object.defineProperty(x,"ProxyTracerProvider",{enumerable:!0,get:function(){return g.ProxyTracerProvider}}),m=A(996),Object.defineProperty(x,"SamplingDecision",{enumerable:!0,get:function(){return m.SamplingDecision}}),y=A(357),Object.defineProperty(x,"SpanKind",{enumerable:!0,get:function(){return y.SpanKind}}),b=A(847),Object.defineProperty(x,"SpanStatusCode",{enumerable:!0,get:function(){return b.SpanStatusCode}}),_=A(475),Object.defineProperty(x,"TraceFlags",{enumerable:!0,get:function(){return _.TraceFlags}}),w=A(98),Object.defineProperty(x,"createTraceState",{enumerable:!0,get:function(){return w.createTraceState}}),v=A(139),Object.defineProperty(x,"isSpanContextValid",{enumerable:!0,get:function(){return v.isSpanContextValid}}),Object.defineProperty(x,"isValidTraceId",{enumerable:!0,get:function(){return v.isValidTraceId}}),Object.defineProperty(x,"isValidSpanId",{enumerable:!0,get:function(){return v.isValidSpanId}}),E=A(476),Object.defineProperty(x,"INVALID_SPANID",{enumerable:!0,get:function(){return E.INVALID_SPANID}}),Object.defineProperty(x,"INVALID_TRACEID",{enumerable:!0,get:function(){return E.INVALID_TRACEID}}),Object.defineProperty(x,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return E.INVALID_SPAN_CONTEXT}}),r=A(67),Object.defineProperty(x,"context",{enumerable:!0,get:function(){return r.context}}),n=A(506),Object.defineProperty(x,"diag",{enumerable:!0,get:function(){return n.diag}}),i=A(886),Object.defineProperty(x,"metrics",{enumerable:!0,get:function(){return i.metrics}}),o=A(939),Object.defineProperty(x,"propagation",{enumerable:!0,get:function(){return o.propagation}}),a=A(845),Object.defineProperty(x,"trace",{enumerable:!0,get:function(){return a.trace}}),x.default={context:r.context,diag:n.diag,metrics:i.metrics,propagation:o.propagation,trace:a.trace},t.exports=x})()},16979,(e,t,r)=>{(()=>{"use strict";"u">typeof __nccwpck_require__&&(__nccwpck_require__.ab="/ROOT/node_modules/.pnpm/next@16.1.6_@babel+core@7.29.0_@opentelemetry+api@1.9.0_react-dom@19.2.4_react@19.2.4__react@19.2.4/node_modules/next/dist/compiled/cookie/");var e,r,n,i,o={};o.parse=function(t,r){if("string"!=typeof t)throw TypeError("argument str must be a string");for(var i={},o=t.split(n),a=(r||{}).decode||e,s=0;s<o.length;s++){var c=o[s],u=c.indexOf("=");if(!(u<0)){var l=c.substr(0,u).trim(),d=c.substr(++u,c.length).trim();'"'==d[0]&&(d=d.slice(1,-1)),void 0==i[l]&&(i[l]=function(e,t){try{return t(e)}catch(t){return e}}(d,a))}}return i},o.serialize=function(e,t,n){var o=n||{},a=o.encode||r;if("function"!=typeof a)throw TypeError("option encode is invalid");if(!i.test(e))throw TypeError("argument name is invalid");var s=a(t);if(s&&!i.test(s))throw TypeError("argument val is invalid");var c=e+"="+s;if(null!=o.maxAge){var u=o.maxAge-0;if(isNaN(u)||!isFinite(u))throw TypeError("option maxAge is invalid");c+="; Max-Age="+Math.floor(u)}if(o.domain){if(!i.test(o.domain))throw TypeError("option domain is invalid");c+="; Domain="+o.domain}if(o.path){if(!i.test(o.path))throw TypeError("option path is invalid");c+="; Path="+o.path}if(o.expires){if("function"!=typeof o.expires.toUTCString)throw TypeError("option expires is invalid");c+="; Expires="+o.expires.toUTCString()}if(o.httpOnly&&(c+="; HttpOnly"),o.secure&&(c+="; Secure"),o.sameSite)switch("string"==typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:case"strict":c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"none":c+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return c},e=decodeURIComponent,r=encodeURIComponent,n=/; */,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,t.exports=o})()},74998,(e,t,r)=>{(()=>{"use strict";let e,r,n,i,o;var a={993:e=>{var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,n,o,a){if("function"!=typeof n)throw TypeError("The listener must be a function");var s=new i(n,o||e,a),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,a=Array(o);i<o;i++)a[i]=n[i].fn;return a},s.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,i,o,a){var s=r?r+e:e;if(!this._events[s])return!1;var c,u,l=this._events[s],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,i),!0;case 5:return l.fn.call(l.context,t,n,i,o),!0;case 6:return l.fn.call(l.context,t,n,i,o,a),!0}for(u=1,c=Array(d-1);u<d;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var p,h=l.length;for(u=0;u<h;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),d){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,n);break;case 4:l[u].fn.call(l[u].context,t,n,i);break;default:if(!c)for(p=1,c=Array(d-1);p<d;p++)c[p-1]=arguments[p];l[u].fn.apply(l[u].context,c)}}return!0},s.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},s.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},s.prototype.removeListener=function(e,t,n,i){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||n&&s.context!==n||a(this,o);else{for(var c=0,u=[],l=s.length;c<l;c++)(s[c].fn!==t||i&&!s[c].once||n&&s[c].context!==n)&&u.push(s[c]);u.length?this._events[o]=1===u.length?u[0]:u:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&a(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s},213:e=>{e.exports=(e,t)=>(t=t||(()=>{}),e.then(e=>new Promise(e=>{e(t())}).then(()=>e),e=>new Promise(e=>{e(t())}).then(()=>{throw e})))},574:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){let n=0,i=e.length;for(;i>0;){let o=i/2|0,a=n+o;0>=r(e[a],t)?(n=++a,i-=o+1):i=o}return n}},821:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});let n=r(574);t.default=class{constructor(){this._queue=[]}enqueue(e,t){let r={priority:(t=Object.assign({priority:0},t)).priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority)return void this._queue.push(r);let i=n.default(this._queue,r,(e,t)=>t.priority-e.priority);this._queue.splice(i,0,r)}dequeue(){let e=this._queue.shift();return null==e?void 0:e.run}filter(e){return this._queue.filter(t=>t.priority===e.priority).map(e=>e.run)}get size(){return this._queue.length}}},816:(e,t,r)=>{let n=r(213);class i extends Error{constructor(e){super(e),this.name="TimeoutError"}}let o=(e,t,r)=>new Promise((o,a)=>{if("number"!=typeof t||t<0)throw TypeError("Expected `milliseconds` to be a positive number");if(t===1/0)return void o(e);let s=setTimeout(()=>{if("function"==typeof r){try{o(r())}catch(e){a(e)}return}let n="string"==typeof r?r:`Promise timed out after ${t} milliseconds`,s=r instanceof Error?r:new i(n);"function"==typeof e.cancel&&e.cancel(),a(s)},t);n(e.then(o,a),()=>{clearTimeout(s)})});e.exports=o,e.exports.default=o,e.exports.TimeoutError=i}},s={};function c(e){var t=s[e];if(void 0!==t)return t.exports;var r=s[e]={exports:{}},n=!0;try{a[e](r,r.exports,c),n=!1}finally{n&&delete s[e]}return r.exports}c.ab="/ROOT/node_modules/.pnpm/next@16.1.6_@babel+core@7.29.0_@opentelemetry+api@1.9.0_react-dom@19.2.4_react@19.2.4__react@19.2.4/node_modules/next/dist/compiled/p-queue/";var u={};Object.defineProperty(u,"__esModule",{value:!0}),e=c(993),r=c(816),n=c(821),i=()=>{},o=new r.TimeoutError,u.default=class extends e{constructor(e){var t,r,o,a;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=i,this._resolveIdle=i,!("number"==typeof(e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:n.default},e)).intervalCap&&e.intervalCap>=1))throw TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!=(r=null==(t=e.intervalCap)?void 0:t.toString())?r:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!=(a=null==(o=e.interval)?void 0:o.toString())?a:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=!0===e.throwOnTimeout,this._isPaused=!1===e.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=i,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=i,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let e=Date.now();if(void 0===this._intervalId){let t=this._intervalEnd-e;if(!(t<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},t)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let t=this._queue.dequeue();return!!t&&(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!("number"==typeof e&&e>=1))throw TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,t={}){return new Promise((n,i)=>{let a=async()=>{this._pendingCount++,this._intervalCount++;try{let a=void 0===this._timeout&&void 0===t.timeout?e():r.default(Promise.resolve(e()),void 0===t.timeout?this._timeout:t.timeout,()=>{(void 0===t.throwOnTimeout?this._throwOnTimeout:t.throwOnTimeout)&&i(o)});n(await a)}catch(e){i(e)}this._next()};this._queue.enqueue(a,t),this._tryToStartAnother(),this.emit("add")})}async addAll(e,t){return Promise.all(e.map(async e=>this.add(e,t)))}start(){return this._isPaused&&(this._isPaused=!1,this._processQueue()),this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise(e=>{let t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}})}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise(e=>{let t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}},t.exports=u})()},51187,(e,t,r)=>{t.exports=e.x("next/dist/server/lib/incremental-cache/tags-manifest.external.js",()=>require("next/dist/server/lib/incremental-cache/tags-manifest.external.js"))},78500,(e,t,r)=>{t.exports=e.x("node:async_hooks",()=>require("node:async_hooks"))},7677,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={getTestReqInfo:function(){return c},withRequest:function(){return s}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let o=new(e.r(78500)).AsyncLocalStorage;function a(e,t){let r=t.header(e,"next-test-proxy-port");if(!r)return;let n=t.url(e);return{url:n,proxyPort:Number(r),testData:t.header(e,"next-test-data")||""}}function s(e,t,r){let n=a(e,t);return n?o.run(n,r):r()}function c(e,t){let r=o.getStore();return r||(e&&t?a(e,t):void 0)}},53798,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={handleFetch:function(){return c},interceptFetch:function(){return u},reader:function(){return a}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let o=e.r(7677),a={url:e=>e.url,header:(e,t)=>e.headers.get(t)};async function s(e,t){let{url:r,method:n,headers:i,body:o,cache:a,credentials:s,integrity:c,mode:u,redirect:l,referrer:d,referrerPolicy:p}=t;return{testData:e,api:"fetch",request:{url:r,method:n,headers:[...Array.from(i),["next-test-stack",function(){let e=(Error().stack??"").split("\n");for(let t=1;t<e.length;t++)if(e[t].length>0){e=e.slice(t);break}return(e=(e=(e=e.filter(e=>!e.includes("/next/dist/"))).slice(0,5)).map(e=>e.replace("webpack-internal:///(rsc)/","").trim())).join("    ")}()]],body:o?Buffer.from(await t.arrayBuffer()).toString("base64"):null,cache:a,credentials:s,integrity:c,mode:u,redirect:l,referrer:d,referrerPolicy:p}}}async function c(e,t){let r=(0,o.getTestReqInfo)(t,a);if(!r)return e(t);let{testData:n,proxyPort:i}=r,c=await s(n,t),u=await e(`http://localhost:${i}`,{method:"POST",body:JSON.stringify(c),next:{internal:!0}});if(!u.ok)throw Object.defineProperty(Error(`Proxy request failed: ${u.status}`),"__NEXT_ERROR_CODE",{value:"E146",enumerable:!1,configurable:!0});let l=await u.json(),{api:d}=l;switch(d){case"continue":return e(t);case"abort":case"unhandled":throw Object.defineProperty(Error(`Proxy request aborted [${t.method} ${t.url}]`),"__NEXT_ERROR_CODE",{value:"E145",enumerable:!1,configurable:!0});case"fetch":return function(e){let{status:t,headers:r,body:n}=e.response;return new Response(n?Buffer.from(n,"base64"):null,{status:t,headers:new Headers(r)})}(l);default:return d}}function u(t){return e.g.fetch=function(e,r){var n;return(null==r||null==(n=r.next)?void 0:n.internal)?t(e,r):c(t,new Request(e,r))},()=>{e.g.fetch=t}}},45062,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={interceptTestApis:function(){return s},wrapRequestHandler:function(){return c}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let o=e.r(7677),a=e.r(53798);function s(){return(0,a.interceptFetch)(e.g.fetch)}function c(e){return(t,r)=>(0,o.withRequest)(t,a.reader,()=>e(t,r))}},92942,(e,t,r)=>{"use strict";function n(e,t,r){if(e){for(let n of(r&&(r=r.toLowerCase()),e))if(t===n.domain?.split(":",1)[0].toLowerCase()||r===n.defaultLocale.toLowerCase()||n.locales?.some(e=>e.toLowerCase()===r))return n}}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"detectDomainLocale",{enumerable:!0,get:function(){return n}})},6876,(e,t,r)=>{"use strict";function n(e){return e.replace(/\/$/,"")||"/"}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"removeTrailingSlash",{enumerable:!0,get:function(){return n}})},37431,(e,t,r)=>{"use strict";function n(e){let t=e.indexOf("#"),r=e.indexOf("?"),n=r>-1&&(t<0||r<t);return n||t>-1?{pathname:e.substring(0,n?r:t),query:n?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"parsePath",{enumerable:!0,get:function(){return n}})},57741,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"addPathPrefix",{enumerable:!0,get:function(){return i}});let n=e.r(37431);function i(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:i,hash:o}=(0,n.parsePath)(e);return`${t}${r}${i}${o}`}},25599,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"addPathSuffix",{enumerable:!0,get:function(){return i}});let n=e.r(37431);function i(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:i,hash:o}=(0,n.parsePath)(e);return`${r}${t}${i}${o}`}},85828,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"pathHasPrefix",{enumerable:!0,get:function(){return i}});let n=e.r(37431);function i(e,t){if("string"!=typeof e)return!1;let{pathname:r}=(0,n.parsePath)(e);return r===t||r.startsWith(t+"/")}},88702,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"addLocale",{enumerable:!0,get:function(){return o}});let n=e.r(57741),i=e.r(85828);function o(e,t,r,o){if(!t||t===r)return e;let a=e.toLowerCase();return!o&&((0,i.pathHasPrefix)(a,"/api")||(0,i.pathHasPrefix)(a,`/${t.toLowerCase()}`))?e:(0,n.addPathPrefix)(e,`/${t}`)}},37504,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"formatNextPathnameInfo",{enumerable:!0,get:function(){return s}});let n=e.r(6876),i=e.r(57741),o=e.r(25599),a=e.r(88702);function s(e){let t=(0,a.addLocale)(e.pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix);return(e.buildId||!e.trailingSlash)&&(t=(0,n.removeTrailingSlash)(t)),e.buildId&&(t=(0,o.addPathSuffix)((0,i.addPathPrefix)(t,`/_next/data/${e.buildId}`),"/"===e.pathname?"index.json":".json")),t=(0,i.addPathPrefix)(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:(0,o.addPathSuffix)(t,"/"):(0,n.removeTrailingSlash)(t)}},89218,(e,t,r)=>{"use strict";function n(e,t){let r;if(t?.host&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;r=e.hostname}return r.toLowerCase()}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getHostname",{enumerable:!0,get:function(){return n}})},35616,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"normalizeLocalePath",{enumerable:!0,get:function(){return i}});let n=new WeakMap;function i(e,t){let r;if(!t)return{pathname:e};let i=n.get(t);i||(i=t.map(e=>e.toLowerCase()),n.set(t,i));let o=e.split("/",2);if(!o[1])return{pathname:e};let a=o[1].toLowerCase(),s=i.indexOf(a);return s<0?{pathname:e}:(r=t[s],{pathname:e=e.slice(r.length+1)||"/",detectedLocale:r})}},44331,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"removePathPrefix",{enumerable:!0,get:function(){return i}});let n=e.r(85828);function i(e,t){if(!(0,n.pathHasPrefix)(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:`/${r}`}},82236,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getNextPathnameInfo",{enumerable:!0,get:function(){return a}});let n=e.r(35616),i=e.r(44331),o=e.r(85828);function a(e,t){let{basePath:r,i18n:a,trailingSlash:s}=t.nextConfig??{},c={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):s};r&&(0,o.pathHasPrefix)(c.pathname,r)&&(c.pathname=(0,i.removePathPrefix)(c.pathname,r),c.basePath=r);let u=c.pathname;if(c.pathname.startsWith("/_next/data/")&&c.pathname.endsWith(".json")){let e=c.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");c.buildId=e[0],u="index"!==e[1]?`/${e.slice(1).join("/")}`:"/",!0===t.parseData&&(c.pathname=u)}if(a){let e=t.i18nProvider?t.i18nProvider.analyze(c.pathname):(0,n.normalizeLocalePath)(c.pathname,a.locales);c.locale=e.detectedLocale,c.pathname=e.pathname??c.pathname,!e.detectedLocale&&c.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(u):(0,n.normalizeLocalePath)(u,a.locales)).detectedLocale&&(c.locale=e.detectedLocale)}return c}},67178,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"NextURL",{enumerable:!0,get:function(){return l}});let n=e.r(92942),i=e.r(37504),o=e.r(89218),a=e.r(82236),s=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function c(e,t){return new URL(String(e).replace(s,"localhost"),t&&String(t).replace(s,"localhost"))}let u=Symbol("NextURLInternal");class l{constructor(e,t,r){let n,i;"object"==typeof t&&"pathname"in t||"string"==typeof t?(n=t,i=r||{}):i=r||t||{},this[u]={url:c(e,n??i.base),options:i,basePath:""},this.analyze()}analyze(){var e,t,r,i,s;let c=(0,a.getNextPathnameInfo)(this[u].url.pathname,{nextConfig:this[u].options.nextConfig,parseData:!0,i18nProvider:this[u].options.i18nProvider}),l=(0,o.getHostname)(this[u].url,this[u].options.headers);this[u].domainLocale=this[u].options.i18nProvider?this[u].options.i18nProvider.detectDomainLocale(l):(0,n.detectDomainLocale)(null==(t=this[u].options.nextConfig)||null==(e=t.i18n)?void 0:e.domains,l);let d=(null==(r=this[u].domainLocale)?void 0:r.defaultLocale)||(null==(s=this[u].options.nextConfig)||null==(i=s.i18n)?void 0:i.defaultLocale);this[u].url.pathname=c.pathname,this[u].defaultLocale=d,this[u].basePath=c.basePath??"",this[u].buildId=c.buildId,this[u].locale=c.locale??d,this[u].trailingSlash=c.trailingSlash}formatPathname(){return(0,i.formatNextPathnameInfo)({basePath:this[u].basePath,buildId:this[u].buildId,defaultLocale:this[u].options.forceLocale?void 0:this[u].defaultLocale,locale:this[u].locale,pathname:this[u].url.pathname,trailingSlash:this[u].trailingSlash})}formatSearch(){return this[u].url.search}get buildId(){return this[u].buildId}set buildId(e){this[u].buildId=e}get locale(){return this[u].locale??""}set locale(e){var t,r;if(!this[u].locale||!(null==(r=this[u].options.nextConfig)||null==(t=r.i18n)?void 0:t.locales.includes(e)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${e}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[u].locale=e}get defaultLocale(){return this[u].defaultLocale}get domainLocale(){return this[u].domainLocale}get searchParams(){return this[u].url.searchParams}get host(){return this[u].url.host}set host(e){this[u].url.host=e}get hostname(){return this[u].url.hostname}set hostname(e){this[u].url.hostname=e}get port(){return this[u].url.port}set port(e){this[u].url.port=e}get protocol(){return this[u].url.protocol}set protocol(e){this[u].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[u].url=c(e),this.analyze()}get origin(){return this[u].url.origin}get pathname(){return this[u].url.pathname}set pathname(e){this[u].url.pathname=e}get hash(){return this[u].url.hash}set hash(e){this[u].url.hash=e}get search(){return this[u].url.search}set search(e){this[u].url.search=e}get password(){return this[u].url.password}set password(e){this[u].url.password=e}get username(){return this[u].url.username}set username(e){this[u].url.username=e}get basePath(){return this[u].basePath}set basePath(e){this[u].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new l(String(this),this[u].options)}}},37666,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={ACTION_SUFFIX:function(){return m},APP_DIR_ALIAS:function(){return M},CACHE_ONE_YEAR:function(){return O},DOT_NEXT_ALIAS:function(){return U},ESLINT_DEFAULT_DIRS:function(){return ei},GSP_NO_RETURNED_VALUE:function(){return Z},GSSP_COMPONENT_MEMBER_ERROR:function(){return et},GSSP_NO_RETURNED_VALUE:function(){return Q},HTML_CONTENT_TYPE_HEADER:function(){return a},INFINITE_CACHE:function(){return T},INSTRUMENTATION_HOOK_FILENAME:function(){return j},JSON_CONTENT_TYPE_HEADER:function(){return s},MATCHED_PATH_HEADER:function(){return l},MIDDLEWARE_FILENAME:function(){return k},MIDDLEWARE_LOCATION_REGEXP:function(){return C},NEXT_BODY_SUFFIX:function(){return _},NEXT_CACHE_IMPLICIT_TAG_ID:function(){return P},NEXT_CACHE_REVALIDATED_TAGS_HEADER:function(){return v},NEXT_CACHE_REVALIDATE_TAG_TOKEN_HEADER:function(){return E},NEXT_CACHE_SOFT_TAG_MAX_LENGTH:function(){return x},NEXT_CACHE_TAGS_HEADER:function(){return w},NEXT_CACHE_TAG_MAX_ITEMS:function(){return R},NEXT_CACHE_TAG_MAX_LENGTH:function(){return A},NEXT_DATA_SUFFIX:function(){return y},NEXT_INTERCEPTION_MARKER_PREFIX:function(){return u},NEXT_META_SUFFIX:function(){return b},NEXT_QUERY_PARAM_PREFIX:function(){return c},NEXT_RESUME_HEADER:function(){return S},NON_STANDARD_NODE_ENV:function(){return er},PAGES_DIR_ALIAS:function(){return D},PRERENDER_REVALIDATE_HEADER:function(){return d},PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER:function(){return p},PROXY_FILENAME:function(){return I},PROXY_LOCATION_REGEXP:function(){return N},PUBLIC_DIR_MIDDLEWARE_CONFLICT:function(){return F},ROOT_DIR_ALIAS:function(){return L},RSC_ACTION_CLIENT_WRAPPER_ALIAS:function(){return V},RSC_ACTION_ENCRYPTION_ALIAS:function(){return q},RSC_ACTION_PROXY_ALIAS:function(){return W},RSC_ACTION_VALIDATE_ALIAS:function(){return H},RSC_CACHE_WRAPPER_ALIAS:function(){return B},RSC_DYNAMIC_IMPORT_WRAPPER_ALIAS:function(){return K},RSC_MOD_REF_PROXY_ALIAS:function(){return $},RSC_SEGMENTS_DIR_SUFFIX:function(){return h},RSC_SEGMENT_SUFFIX:function(){return f},RSC_SUFFIX:function(){return g},SERVER_PROPS_EXPORT_ERROR:function(){return Y},SERVER_PROPS_GET_INIT_PROPS_CONFLICT:function(){return J},SERVER_PROPS_SSG_CONFLICT:function(){return z},SERVER_RUNTIME:function(){return eo},SSG_FALLBACK_EXPORT_ERROR:function(){return en},SSG_GET_INITIAL_PROPS_CONFLICT:function(){return G},STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR:function(){return X},TEXT_PLAIN_CONTENT_TYPE_HEADER:function(){return o},UNSTABLE_REVALIDATE_RENAME_ERROR:function(){return ee},WEBPACK_LAYERS:function(){return ec},WEBPACK_RESOURCE_QUERIES:function(){return eu},WEB_SOCKET_MAX_RECONNECTIONS:function(){return ea}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let o="text/plain",a="text/html; charset=utf-8",s="application/json; charset=utf-8",c="nxtP",u="nxtI",l="x-matched-path",d="x-prerender-revalidate",p="x-prerender-revalidate-if-generated",h=".segments",f=".segment.rsc",g=".rsc",m=".action",y=".json",b=".meta",_=".body",w="x-next-cache-tags",v="x-next-revalidated-tags",E="x-next-revalidate-tag-token",S="next-resume",R=128,A=256,x=1024,P="_N_T_",O=31536e3,T=0xfffffffe,k="middleware",C=`(?:src/)?${k}`,I="proxy",N=`(?:src/)?${I}`,j="instrumentation",D="private-next-pages",U="private-dot-next",L="private-next-root-dir",M="private-next-app-dir",$="private-next-rsc-mod-ref-proxy",H="private-next-rsc-action-validate",W="private-next-rsc-server-reference",B="private-next-rsc-cache-wrapper",K="private-next-rsc-track-dynamic-import",q="private-next-rsc-action-encryption",V="private-next-rsc-action-client-wrapper",F="You can not have a '_next' folder inside of your public folder. This conflicts with the internal '/_next' route. https://nextjs.org/docs/messages/public-next-folder-conflict",G="You can not use getInitialProps with getStaticProps. To use SSG, please remove your getInitialProps",J="You can not use getInitialProps with getServerSideProps. Please remove getInitialProps.",z="You can not use getStaticProps or getStaticPaths with getServerSideProps. To use SSG, please remove getServerSideProps",X="can not have getInitialProps/getServerSideProps, https://nextjs.org/docs/messages/404-get-initial-props",Y="pages with `getServerSideProps` can not be exported. See more info here: https://nextjs.org/docs/messages/gssp-export",Z="Your `getStaticProps` function did not return an object. Did you forget to add a `return`?",Q="Your `getServerSideProps` function did not return an object. Did you forget to add a `return`?",ee="The `unstable_revalidate` property is available for general use.\nPlease use `revalidate` instead.",et="can not be attached to a page's component and must be exported from the page. See more info here: https://nextjs.org/docs/messages/gssp-component-member",er='You are using a non-standard "NODE_ENV" value in your environment. This creates inconsistencies in the project and is strongly advised against. Read more: https://nextjs.org/docs/messages/non-standard-node-env',en="Pages with `fallback` enabled in `getStaticPaths` can not be exported. See more info here: https://nextjs.org/docs/messages/ssg-fallback-true-export",ei=["app","pages","components","lib","src"],eo={edge:"edge",experimentalEdge:"experimental-edge",nodejs:"nodejs"},ea=12,es={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"},ec={...es,GROUP:{builtinReact:[es.reactServerComponents,es.actionBrowser],serverOnly:[es.reactServerComponents,es.actionBrowser,es.instrument,es.middleware],neutralTarget:[es.apiNode,es.apiEdge],clientOnly:[es.serverSideRendering,es.appPagesBrowser],bundled:[es.reactServerComponents,es.actionBrowser,es.serverSideRendering,es.appPagesBrowser,es.shared,es.instrument,es.middleware],appPages:[es.reactServerComponents,es.serverSideRendering,es.appPagesBrowser,es.actionBrowser]}},eu={edgeSSREntry:"__next_edge_ssr_entry__",metadata:"__next_metadata__",metadataRoute:"__next_metadata_route__",metadataImageMeta:"__next_metadata_image_meta__"}},68610,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={fromNodeOutgoingHttpHeaders:function(){return a},normalizeNextQueryParam:function(){return l},splitCookiesString:function(){return s},toNodeOutgoingHttpHeaders:function(){return c},validateURL:function(){return u}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let o=e.r(37666);function a(e){let t=new Headers;for(let[r,n]of Object.entries(e))for(let e of Array.isArray(n)?n:[n])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(r,e));return t}function s(e){var t,r,n,i,o,a=[],s=0;function c(){for(;s<e.length&&/\s/.test(e.charAt(s));)s+=1;return s<e.length}for(;s<e.length;){for(t=s,o=!1;c();)if(","===(r=e.charAt(s))){for(n=s,s+=1,c(),i=s;s<e.length&&"="!==(r=e.charAt(s))&&";"!==r&&","!==r;)s+=1;s<e.length&&"="===e.charAt(s)?(o=!0,s=i,a.push(e.substring(t,n)),t=s):s=n+1}else s+=1;(!o||s>=e.length)&&a.push(e.substring(t,e.length))}return a}function c(e){let t={},r=[];if(e)for(let[n,i]of e.entries())"set-cookie"===n.toLowerCase()?(r.push(...s(i)),t[n]=1===r.length?r[0]:r):t[n]=i;return t}function u(e){try{return String(new URL(String(e)))}catch(t){throw Object.defineProperty(Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t}),"__NEXT_ERROR_CODE",{value:"E61",enumerable:!1,configurable:!0})}}function l(e){for(let t of[o.NEXT_QUERY_PARAM_PREFIX,o.NEXT_INTERCEPTION_MARKER_PREFIX])if(e!==t&&e.startsWith(t))return e.substring(t.length);return null}},10344,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={PageSignatureError:function(){return o},RemovedPageError:function(){return a},RemovedUAError:function(){return s}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});class o extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class a extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class s extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}},99101,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={RequestCookies:function(){return o.RequestCookies},ResponseCookies:function(){return o.ResponseCookies},stringifyCookie:function(){return o.stringifyCookie}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let o=e.r(15305)},44312,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={INTERNALS:function(){return u},NextRequest:function(){return l}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let o=e.r(67178),a=e.r(68610),s=e.r(10344),c=e.r(99101),u=Symbol("internal request");class l extends Request{constructor(e,t={}){const r="string"!=typeof e&&"url"in e?e.url:String(e);(0,a.validateURL)(r),t.body&&"half"!==t.duplex&&(t.duplex="half"),e instanceof Request?super(e,t):super(r,t);const n=new o.NextURL(r,{headers:(0,a.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:t.nextConfig});this[u]={cookies:new c.RequestCookies(this.headers),nextUrl:n,url:n.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[u].cookies}get nextUrl(){return this[u].nextUrl}get page(){throw new s.RemovedPageError}get ua(){throw new s.RemovedUAError}get url(){return this[u].url}}},97760,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ReflectAdapter",{enumerable:!0,get:function(){return n}});class n{static get(e,t,r){let n=Reflect.get(e,t,r);return"function"==typeof n?n.bind(e):n}static set(e,t,r,n){return Reflect.set(e,t,r,n)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}},66972,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"NextResponse",{enumerable:!0,get:function(){return d}});let n=e.r(99101),i=e.r(67178),o=e.r(68610),a=e.r(97760),s=e.r(99101),c=Symbol("internal response"),u=new Set([301,302,303,307,308]);function l(e,t){var r;if(null==e||null==(r=e.request)?void 0:r.headers){if(!(e.request.headers instanceof Headers))throw Object.defineProperty(Error("request.headers must be an instance of Headers"),"__NEXT_ERROR_CODE",{value:"E119",enumerable:!1,configurable:!0});let r=[];for(let[n,i]of e.request.headers)t.set("x-middleware-request-"+n,i),r.push(n);t.set("x-middleware-override-headers",r.join(","))}}class d extends Response{constructor(e,t={}){super(e,t);const r=this.headers,u=new Proxy(new s.ResponseCookies(r),{get(e,i,o){switch(i){case"delete":case"set":return(...o)=>{let a=Reflect.apply(e[i],e,o),c=new Headers(r);return a instanceof s.ResponseCookies&&r.set("x-middleware-set-cookie",a.getAll().map(e=>(0,n.stringifyCookie)(e)).join(",")),l(t,c),a};default:return a.ReflectAdapter.get(e,i,o)}}});this[c]={cookies:u,url:t.url?new i.NextURL(t.url,{headers:(0,o.toNodeOutgoingHttpHeaders)(r),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[c].cookies}static json(e,t){let r=Response.json(e,t);return new d(r.body,r)}static redirect(e,t){let r="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!u.has(r))throw Object.defineProperty(RangeError('Failed to execute "redirect" on "response": Invalid status code'),"__NEXT_ERROR_CODE",{value:"E529",enumerable:!1,configurable:!0});let n="object"==typeof t?t:{},i=new Headers(null==n?void 0:n.headers);return i.set("Location",(0,o.validateURL)(e)),new d(null,{...n,headers:i,status:r})}static rewrite(e,t){let r=new Headers(null==t?void 0:t.headers);return r.set("x-middleware-rewrite",(0,o.validateURL)(e)),l(t,r),new d(null,{...t,headers:r})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),l(e,t),new d(null,{...e,headers:t})}}},52041,(e,t,r)=>{"use strict";function n(){throw Object.defineProperty(Error('ImageResponse moved from "next/server" to "next/og" since Next.js 14, please import from "next/og" instead'),"__NEXT_ERROR_CODE",{value:"E183",enumerable:!1,configurable:!0})}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ImageResponse",{enumerable:!0,get:function(){return n}})},41063,(e,t,r)=>{var n={226:function(t,r){!function(n,i){"use strict";var o="function",a="undefined",s="object",c="string",u="major",l="model",d="name",p="type",h="vendor",f="version",g="architecture",m="console",y="mobile",b="tablet",_="smarttv",w="wearable",v="embedded",E="Amazon",S="Apple",R="ASUS",A="BlackBerry",x="Browser",P="Chrome",O="Firefox",T="Google",k="Huawei",C="Microsoft",I="Motorola",N="Opera",j="Samsung",D="Sharp",U="Sony",L="Xiaomi",M="Zebra",$="Facebook",H="Chromium OS",W="Mac OS",B=function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r},K=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},q=function(e,t){return typeof e===c&&-1!==V(t).indexOf(V(e))},V=function(e){return e.toLowerCase()},F=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,350)},G=function(e,t){for(var r,n,i,a,c,u,l=0;l<t.length&&!c;){var d=t[l],p=t[l+1];for(r=n=0;r<d.length&&!c&&d[r];)if(c=d[r++].exec(e))for(i=0;i<p.length;i++)u=c[++n],typeof(a=p[i])===s&&a.length>0?2===a.length?typeof a[1]==o?this[a[0]]=a[1].call(this,u):this[a[0]]=a[1]:3===a.length?typeof a[1]!==o||a[1].exec&&a[1].test?this[a[0]]=u?u.replace(a[1],a[2]):void 0:this[a[0]]=u?a[1].call(this,u,a[2]):void 0:4===a.length&&(this[a[0]]=u?a[3].call(this,u.replace(a[1],a[2])):void 0):this[a]=u||void 0;l+=2}},J=function(e,t){for(var r in t)if(typeof t[r]===s&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(q(t[r][n],e))return"?"===r?void 0:r}else if(q(t[r],e))return"?"===r?void 0:r;return e},z={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},X={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[f,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,f],[/opios[\/ ]+([\w\.]+)/i],[f,[d,N+" Mini"]],[/\bopr\/([\w\.]+)/i],[f,[d,N]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[d,f],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[f,[d,"UC"+x]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[f,[d,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[f,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[f,[d,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[f,[d,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure "+x],f],[/\bfocus\/([\w\.]+)/i],[f,[d,O+" Focus"]],[/\bopt\/([\w\.]+)/i],[f,[d,N+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[f,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[d,N+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[f,[d,"MIUI "+x]],[/fxios\/([-\w\.]+)/i],[f,[d,O]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 "+x]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 "+x],f],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],f],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[d,f],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,$],f],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[d,f],[/\bgsa\/([\w\.]+) .*safari\//i],[f,[d,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[f,[d,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[f,[d,P+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,P+" WebView"],f],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[f,[d,"Android "+x]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,f],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[f,[d,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[f,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[f,J,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,f],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],f],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[f,[d,O+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[d,f],[/(cobalt)\/([\w\.]+)/i],[d,[f,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,V]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,"",V]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,V]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[l,[h,j],[p,b]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[l,[h,j],[p,y]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[l,[h,S],[p,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[h,S],[p,b]],[/(macintosh);/i],[l,[h,S]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[l,[h,D],[p,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[l,[h,k],[p,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[l,[h,k],[p,y]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[l,/_/g," "],[h,L],[p,y]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[l,/_/g," "],[h,L],[p,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[l,[h,"OPPO"],[p,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[l,[h,"Vivo"],[p,y]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[l,[h,"Realme"],[p,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[l,[h,I],[p,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[l,[h,I],[p,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[l,[h,"LG"],[p,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[l,[h,"LG"],[p,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[l,[h,"Lenovo"],[p,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[l,/_/g," "],[h,"Nokia"],[p,y]],[/(pixel c)\b/i],[l,[h,T],[p,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[l,[h,T],[p,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[h,U],[p,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[l,"Xperia Tablet"],[h,U],[p,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[l,[h,"OnePlus"],[p,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[l,[h,E],[p,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[l,/(.+)/g,"Fire Phone $1"],[h,E],[p,y]],[/(playbook);[-\w\),; ]+(rim)/i],[l,h,[p,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[l,[h,A],[p,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[l,[h,R],[p,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[l,[h,R],[p,y]],[/(nexus 9)/i],[l,[h,"HTC"],[p,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[l,/_/g," "],[p,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[l,[h,"Acer"],[p,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[l,[h,"Meizu"],[p,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,l,[p,y]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,l,[p,b]],[/(surface duo)/i],[l,[h,C],[p,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[l,[h,"Fairphone"],[p,y]],[/(u304aa)/i],[l,[h,"AT&T"],[p,y]],[/\bsie-(\w*)/i],[l,[h,"Siemens"],[p,y]],[/\b(rct\w+) b/i],[l,[h,"RCA"],[p,b]],[/\b(venue[\d ]{2,7}) b/i],[l,[h,"Dell"],[p,b]],[/\b(q(?:mv|ta)\w+) b/i],[l,[h,"Verizon"],[p,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[l,[h,"Barnes & Noble"],[p,b]],[/\b(tm\d{3}\w+) b/i],[l,[h,"NuVision"],[p,b]],[/\b(k88) b/i],[l,[h,"ZTE"],[p,b]],[/\b(nx\d{3}j) b/i],[l,[h,"ZTE"],[p,y]],[/\b(gen\d{3}) b.+49h/i],[l,[h,"Swiss"],[p,y]],[/\b(zur\d{3}) b/i],[l,[h,"Swiss"],[p,b]],[/\b((zeki)?tb.*\b) b/i],[l,[h,"Zeki"],[p,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],l,[p,b]],[/\b(ns-?\w{0,9}) b/i],[l,[h,"Insignia"],[p,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[l,[h,"NextBook"],[p,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],l,[p,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],l,[p,y]],[/\b(ph-1) /i],[l,[h,"Essential"],[p,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[l,[h,"Envizen"],[p,b]],[/\b(trio[-\w\. ]+) b/i],[l,[h,"MachSpeed"],[p,b]],[/\btu_(1491) b/i],[l,[h,"Rotor"],[p,b]],[/(shield[\w ]+) b/i],[l,[h,"Nvidia"],[p,b]],[/(sprint) (\w+)/i],[h,l,[p,y]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[h,C],[p,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[h,M],[p,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[h,M],[p,y]],[/smart-tv.+(samsung)/i],[h,[p,_]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[h,j],[p,_]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,"LG"],[p,_]],[/(apple) ?tv/i],[h,[l,S+" TV"],[p,_]],[/crkey/i],[[l,P+"cast"],[h,T],[p,_]],[/droid.+aft(\w)( bui|\))/i],[l,[h,E],[p,_]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[l,[h,D],[p,_]],[/(bravia[\w ]+)( bui|\))/i],[l,[h,U],[p,_]],[/(mitv-\w{5}) bui/i],[l,[h,L],[p,_]],[/Hbbtv.*(technisat) (.*);/i],[h,l,[p,_]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[h,F],[l,F],[p,_]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,_]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,l,[p,m]],[/droid.+; (shield) bui/i],[l,[h,"Nvidia"],[p,m]],[/(playstation [345portablevi]+)/i],[l,[h,U],[p,m]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[l,[h,C],[p,m]],[/((pebble))app/i],[h,l,[p,w]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[l,[h,S],[p,w]],[/droid.+; (glass) \d/i],[l,[h,T],[p,w]],[/droid.+; (wt63?0{2,3})\)/i],[l,[h,M],[p,w]],[/(quest( 2| pro)?)/i],[l,[h,$],[p,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[p,v]],[/(aeobc)\b/i],[l,[h,E],[p,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[l,[p,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[l,[p,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,y]],[/(android[-\w\. ]{0,9});.+buil/i],[l,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[f,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[d,f],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,f],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[d,[f,J,z]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,"Windows"],[f,J,z]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,W],[f,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[f,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,f],[/\(bb(10);/i],[f,[d,A]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[f,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[f,[d,O+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[d,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[f,[d,"watchOS"]],[/crkey\/([\d\.]+)/i],[f,[d,P+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[d,H],f],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,f],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],f],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[d,f]]},Y=function(e,t){if(typeof e===s&&(t=e,e=void 0),!(this instanceof Y))return new Y(e,t).getResult();var r=typeof n!==a&&n.navigator?n.navigator:void 0,i=e||(r&&r.userAgent?r.userAgent:""),m=r&&r.userAgentData?r.userAgentData:void 0,_=t?B(X,t):X,w=r&&r.userAgent==i;return this.getBrowser=function(){var e,t={};return t[d]=void 0,t[f]=void 0,G.call(t,i,_.browser),t[u]=typeof(e=t[f])===c?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0,w&&r&&r.brave&&typeof r.brave.isBrave==o&&(t[d]="Brave"),t},this.getCPU=function(){var e={};return e[g]=void 0,G.call(e,i,_.cpu),e},this.getDevice=function(){var e={};return e[h]=void 0,e[l]=void 0,e[p]=void 0,G.call(e,i,_.device),w&&!e[p]&&m&&m.mobile&&(e[p]=y),w&&"Macintosh"==e[l]&&r&&typeof r.standalone!==a&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[l]="iPad",e[p]=b),e},this.getEngine=function(){var e={};return e[d]=void 0,e[f]=void 0,G.call(e,i,_.engine),e},this.getOS=function(){var e={};return e[d]=void 0,e[f]=void 0,G.call(e,i,_.os),w&&!e[d]&&m&&"Unknown"!=m.platform&&(e[d]=m.platform.replace(/chrome os/i,H).replace(/macos/i,W)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=typeof e===c&&e.length>350?F(e,350):e,this},this.setUA(i),this};if(Y.VERSION="1.0.35",Y.BROWSER=K([d,f,u]),Y.CPU=K([g]),Y.DEVICE=K([l,h,p,m,y,_,b,w,v]),Y.ENGINE=Y.OS=K([d,f]),typeof r!==a)t.exports&&(r=t.exports=Y),r.UAParser=Y;else if(typeof define===o&&define.amd)e.r,void 0!==Y&&e.v(Y);else typeof n!==a&&(n.UAParser=Y);var Z=typeof n!==a&&(n.jQuery||n.Zepto);if(Z&&!Z.ua){var Q=new Y;Z.ua=Q.getResult(),Z.ua.get=function(){return Q.getUA()},Z.ua.set=function(e){Q.setUA(e);var t=Q.getResult();for(var r in t)Z.ua[r]=t[r]}}}(this)}},i={};function o(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={exports:{}},a=!0;try{n[e].call(r.exports,r,r.exports,o),a=!1}finally{a&&delete i[e]}return r.exports}o.ab="/ROOT/node_modules/.pnpm/next@16.1.6_@babel+core@7.29.0_@opentelemetry+api@1.9.0_react-dom@19.2.4_react@19.2.4__react@19.2.4/node_modules/next/dist/compiled/ua-parser-js/",t.exports=o(226)},19410,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i={isBot:function(){return s},userAgent:function(){return u},userAgentFromString:function(){return c}};for(var o in i)Object.defineProperty(r,o,{enumerable:!0,get:i[o]});let a=(n=e.r(41063))&&n.__esModule?n:{default:n};function s(e){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Google-InspectionTool|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(e)}function c(e){return{...(0,a.default)(e),isBot:void 0!==e&&s(e)}}function u({headers:e}){return c(e.get("user-agent")||void 0)}},43932,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"URLPattern",{enumerable:!0,get:function(){return n}});let n="u"<typeof URLPattern?void 0:URLPattern},80729,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"after",{enumerable:!0,get:function(){return i}});let n=e.r(56704);function i(e){let t=n.workAsyncStorage.getStore();if(!t)throw Object.defineProperty(Error("`after` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context"),"__NEXT_ERROR_CODE",{value:"E468",enumerable:!1,configurable:!0});let{afterContext:r}=t;return r.after(e)}},35713,(e,t,r)=>{"use strict";var n,i;Object.defineProperty(r,"__esModule",{value:!0}),n=e.r(80729),i=r,Object.keys(n).forEach(function(e){"default"===e||Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(i,e,{enumerable:!0,get:function(){return n[e]}})})},67749,(e,t,r)=>{"use strict";t.exports=e.r(18622)},99151,(e,t,r)=>{"use strict";t.exports=e.r(67749).vendored["react-rsc"].React},40143,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={DynamicServerError:function(){return a},isDynamicServerError:function(){return s}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let o="DYNAMIC_SERVER_USAGE";class a extends Error{constructor(e){super(`Dynamic server usage: ${e}`),this.description=e,this.digest=o}}function s(e){return"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest&&e.digest===o}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},16046,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={StaticGenBailoutError:function(){return a},isStaticGenBailoutError:function(){return s}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let o="NEXT_STATIC_GEN_BAILOUT";class a extends Error{constructor(...e){super(...e),this.code=o}}function s(e){return"object"==typeof e&&null!==e&&"code"in e&&e.code===o}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},58788,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={isHangingPromiseRejectionError:function(){return o},makeDevtoolsIOAwarePromise:function(){return d},makeHangingPromise:function(){return u}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});function o(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===a}let a="HANGING_PROMISE_REJECTION";class s extends Error{constructor(e,t){super(`During prerendering, ${t} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${t} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route "${e}".`),this.route=e,this.expression=t,this.digest=a}}let c=new WeakMap;function u(e,t,r){if(e.aborted)return Promise.reject(new s(t,r));{let n=new Promise((n,i)=>{let o=i.bind(null,new s(t,r)),a=c.get(e);if(a)a.push(o);else{let t=[o];c.set(e,t),e.addEventListener("abort",()=>{for(let e=0;e<t.length;e++)t[e]()},{once:!0})}});return n.catch(l),n}}function l(){}function d(e,t,r){return t.stagedRendering?t.stagedRendering.delayUntilStage(r,void 0,e):new Promise(t=>{setTimeout(()=>{t(e)},0)})}},3989,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={METADATA_BOUNDARY_NAME:function(){return o},OUTLET_BOUNDARY_NAME:function(){return s},ROOT_LAYOUT_BOUNDARY_NAME:function(){return c},VIEWPORT_BOUNDARY_NAME:function(){return a}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let o="__next_metadata_boundary__",a="__next_viewport_boundary__",s="__next_outlet_boundary__",c="__next_root_layout_boundary__"},57092,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={atLeastOneTask:function(){return s},scheduleImmediate:function(){return a},scheduleOnNextTick:function(){return o},waitAtLeastOneReactRenderTask:function(){return c}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let o=e=>{Promise.resolve().then(()=>{process.nextTick(e)})},a=e=>{setImmediate(e)};function s(){return new Promise(e=>a(e))}function c(){return new Promise(e=>setImmediate(e))}},33078,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={BailoutToCSRError:function(){return a},isBailoutToCSRError:function(){return s}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let o="BAILOUT_TO_CLIENT_SIDE_RENDERING";class a extends Error{constructor(e){super(`Bail out to client-side rendering: ${e}`),this.reason=e,this.digest=o}}function s(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===o}},67874,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"InvariantError",{enumerable:!0,get:function(){return n}});class n extends Error{constructor(e,t){super(`Invariant: ${e.endsWith(".")?e:e+"."} This is a bug in Next.js.`,t),this.name="InvariantError"}}},78800,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i,o={Postpone:function(){return P},PreludeState:function(){return Z},abortAndThrowOnSynchronousRequestDataAccess:function(){return x},abortOnSynchronousPlatformIOAccess:function(){return A},accessedDynamicData:function(){return D},annotateDynamicAccess:function(){return H},consumeDynamicAccess:function(){return U},createDynamicTrackingState:function(){return b},createDynamicValidationState:function(){return _},createHangingInputAbortSignal:function(){return $},createRenderInBrowserAbortSignal:function(){return M},delayUntilRuntimeStage:function(){return er},formatDynamicAPIAccesses:function(){return L},getFirstDynamicReason:function(){return w},getStaticShellDisallowedDynamicReasons:function(){return et},isDynamicPostpone:function(){return k},isPrerenderInterruptedError:function(){return j},logDisallowedDynamicError:function(){return Q},markCurrentScopeAsDynamic:function(){return v},postponeWithTracking:function(){return O},throwIfDisallowedDynamic:function(){return ee},throwToInterruptStaticGeneration:function(){return E},trackAllowedDynamicAccess:function(){return J},trackDynamicDataInDynamicRender:function(){return S},trackDynamicHoleInRuntimeShell:function(){return z},trackDynamicHoleInStaticShell:function(){return X},useDynamicRouteParams:function(){return W},useDynamicSearchParams:function(){return B}};for(var a in o)Object.defineProperty(r,a,{enumerable:!0,get:o[a]});let s=(n=e.r(99151))&&n.__esModule?n:{default:n},c=e.r(40143),u=e.r(16046),l=e.r(32319),d=e.r(56704),p=e.r(58788),h=e.r(3989),f=e.r(57092),g=e.r(33078),m=e.r(67874),y="function"==typeof s.default.unstable_postpone;function b(e){return{isDebugDynamicAccesses:e,dynamicAccesses:[],syncDynamicErrorWithStack:null}}function _(){return{hasSuspenseAboveBody:!1,hasDynamicMetadata:!1,dynamicMetadata:null,hasDynamicViewport:!1,hasAllowedDynamic:!1,dynamicErrors:[]}}function w(e){var t;return null==(t=e.dynamicAccesses[0])?void 0:t.expression}function v(e,t,r){if(t)switch(t.type){case"cache":case"unstable-cache":case"private-cache":return}if(!e.forceDynamic&&!e.forceStatic){if(e.dynamicShouldError)throw Object.defineProperty(new u.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${r}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(t)switch(t.type){case"prerender-ppr":return O(e.route,r,t.dynamicTracking);case"prerender-legacy":t.revalidate=0;let n=Object.defineProperty(new c.DynamicServerError(`Route ${e.route} couldn't be rendered statically because it used ${r}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E550",enumerable:!1,configurable:!0});throw e.dynamicUsageDescription=r,e.dynamicUsageStack=n.stack,n}}}function E(e,t,r){let n=Object.defineProperty(new c.DynamicServerError(`Route ${t.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw r.revalidate=0,t.dynamicUsageDescription=e,t.dynamicUsageStack=n.stack,n}function S(e){switch(e.type){case"cache":case"unstable-cache":case"private-cache":return}}function R(e,t,r){let n=N(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`);r.controller.abort(n);let i=r.dynamicTracking;i&&i.dynamicAccesses.push({stack:i.isDebugDynamicAccesses?Error().stack:void 0,expression:t})}function A(e,t,r,n){let i=n.dynamicTracking;R(e,t,n),i&&null===i.syncDynamicErrorWithStack&&(i.syncDynamicErrorWithStack=r)}function x(e,t,r,n){if(!1===n.controller.signal.aborted){R(e,t,n);let i=n.dynamicTracking;i&&null===i.syncDynamicErrorWithStack&&(i.syncDynamicErrorWithStack=r)}throw N(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`)}function P({reason:e,route:t}){let r=l.workUnitAsyncStorage.getStore();O(t,e,r&&"prerender-ppr"===r.type?r.dynamicTracking:null)}function O(e,t,r){(function(){if(!y)throw Object.defineProperty(Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E224",enumerable:!1,configurable:!0})})(),r&&r.dynamicAccesses.push({stack:r.isDebugDynamicAccesses?Error().stack:void 0,expression:t}),s.default.unstable_postpone(T(e,t))}function T(e,t){return`Route ${e} needs to bail out of prerendering at this point because it used ${t}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}function k(e){return"object"==typeof e&&null!==e&&"string"==typeof e.message&&C(e.message)}function C(e){return e.includes("needs to bail out of prerendering at this point because it used")&&e.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}if(!1===C(T("%%%","^^^")))throw Object.defineProperty(Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});let I="NEXT_PRERENDER_INTERRUPTED";function N(e){let t=Object.defineProperty(Error(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t.digest=I,t}function j(e){return"object"==typeof e&&null!==e&&e.digest===I&&"name"in e&&"message"in e&&e instanceof Error}function D(e){return e.length>0}function U(e,t){return e.dynamicAccesses.push(...t.dynamicAccesses),e.dynamicAccesses}function L(e){return e.filter(e=>"string"==typeof e.stack&&e.stack.length>0).map(({expression:e,stack:t})=>(t=t.split("\n").slice(4).filter(e=>!(e.includes("node_modules/next/")||e.includes(" (<anonymous>)")||e.includes(" (node:"))).join("\n"),`Dynamic API Usage Debug - ${e}:
${t}`))}function M(){let e=new AbortController;return e.abort(Object.defineProperty(new g.BailoutToCSRError("Render in Browser"),"__NEXT_ERROR_CODE",{value:"E721",enumerable:!1,configurable:!0})),e.signal}function $(e){switch(e.type){case"prerender":case"prerender-runtime":let t=new AbortController;if(e.cacheSignal)e.cacheSignal.inputReady().then(()=>{t.abort()});else{let r=(0,l.getRuntimeStagePromise)(e);r?r.then(()=>(0,f.scheduleOnNextTick)(()=>t.abort())):(0,f.scheduleOnNextTick)(()=>t.abort())}return t.signal;case"prerender-client":case"prerender-ppr":case"prerender-legacy":case"request":case"cache":case"private-cache":case"unstable-cache":return}}function H(e,t){let r=t.dynamicTracking;r&&r.dynamicAccesses.push({stack:r.isDebugDynamicAccesses?Error().stack:void 0,expression:e})}function W(e){let t=d.workAsyncStorage.getStore(),r=l.workUnitAsyncStorage.getStore();if(t&&r)switch(r.type){case"prerender-client":case"prerender":{let n=r.fallbackRouteParams;n&&n.size>0&&s.default.use((0,p.makeHangingPromise)(r.renderSignal,t.route,e));break}case"prerender-ppr":{let n=r.fallbackRouteParams;if(n&&n.size>0)return O(t.route,e,r.dynamicTracking);break}case"prerender-runtime":throw Object.defineProperty(new m.InvariantError(`\`${e}\` was called during a runtime prerender. Next.js should be preventing ${e} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E771",enumerable:!1,configurable:!0});case"cache":case"private-cache":throw Object.defineProperty(new m.InvariantError(`\`${e}\` was called inside a cache scope. Next.js should be preventing ${e} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E745",enumerable:!1,configurable:!0})}}function B(e){let t=d.workAsyncStorage.getStore(),r=l.workUnitAsyncStorage.getStore();if(t)switch(!r&&(0,l.throwForMissingRequestStore)(e),r.type){case"prerender-client":s.default.use((0,p.makeHangingPromise)(r.renderSignal,t.route,e));break;case"prerender-legacy":case"prerender-ppr":if(t.forceStatic)return;throw Object.defineProperty(new g.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});case"prerender":case"prerender-runtime":throw Object.defineProperty(new m.InvariantError(`\`${e}\` was called from a Server Component. Next.js should be preventing ${e} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E795",enumerable:!1,configurable:!0});case"cache":case"unstable-cache":case"private-cache":throw Object.defineProperty(new m.InvariantError(`\`${e}\` was called inside a cache scope. Next.js should be preventing ${e} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E745",enumerable:!1,configurable:!0});case"request":return}}let K=/\n\s+at Suspense \(<anonymous>\)/,q=RegExp(`\\n\\s+at Suspense \\(<anonymous>\\)(?:(?!\\n\\s+at (?:body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6) \\(<anonymous>\\))[\\s\\S])*?\\n\\s+at ${h.ROOT_LAYOUT_BOUNDARY_NAME} \\([^\\n]*\\)`),V=RegExp(`\\n\\s+at ${h.METADATA_BOUNDARY_NAME}[\\n\\s]`),F=RegExp(`\\n\\s+at ${h.VIEWPORT_BOUNDARY_NAME}[\\n\\s]`),G=RegExp(`\\n\\s+at ${h.OUTLET_BOUNDARY_NAME}[\\n\\s]`);function J(e,t,r,n){if(!G.test(t)){if(V.test(t)){r.hasDynamicMetadata=!0;return}if(F.test(t)){r.hasDynamicViewport=!0;return}if(q.test(t)){r.hasAllowedDynamic=!0,r.hasSuspenseAboveBody=!0;return}else if(K.test(t)){r.hasAllowedDynamic=!0;return}else{if(n.syncDynamicErrorWithStack)return void r.dynamicErrors.push(n.syncDynamicErrorWithStack);let i=Y(`Route "${e.route}": Uncached data was accessed outside of <Suspense>. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route`,t);return void r.dynamicErrors.push(i)}}}function z(e,t,r,n){if(!G.test(t)){if(V.test(t)){r.dynamicMetadata=Y(`Route "${e.route}": Uncached data or \`connection()\` was accessed inside \`generateMetadata\`. Except for this instance, the page would have been entirely prerenderable which may have been the intended behavior. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata`,t);return}if(F.test(t)){let n=Y(`Route "${e.route}": Uncached data or \`connection()\` was accessed inside \`generateViewport\`. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport`,t);r.dynamicErrors.push(n);return}if(q.test(t)){r.hasAllowedDynamic=!0,r.hasSuspenseAboveBody=!0;return}else if(K.test(t)){r.hasAllowedDynamic=!0;return}else{if(n.syncDynamicErrorWithStack)return void r.dynamicErrors.push(n.syncDynamicErrorWithStack);let i=Y(`Route "${e.route}": Uncached data or \`connection()\` was accessed outside of \`<Suspense>\`. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route`,t);return void r.dynamicErrors.push(i)}}}function X(e,t,r,n){if(!G.test(t)){if(V.test(t)){r.dynamicMetadata=Y(`Route "${e.route}": Runtime data such as \`cookies()\`, \`headers()\`, \`params\`, or \`searchParams\` was accessed inside \`generateMetadata\` or you have file-based metadata such as icons that depend on dynamic params segments. Except for this instance, the page would have been entirely prerenderable which may have been the intended behavior. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata`,t);return}if(F.test(t)){let n=Y(`Route "${e.route}": Runtime data such as \`cookies()\`, \`headers()\`, \`params\`, or \`searchParams\` was accessed inside \`generateViewport\`. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport`,t);r.dynamicErrors.push(n);return}if(q.test(t)){r.hasAllowedDynamic=!0,r.hasSuspenseAboveBody=!0;return}else if(K.test(t)){r.hasAllowedDynamic=!0;return}else{if(n.syncDynamicErrorWithStack)return void r.dynamicErrors.push(n.syncDynamicErrorWithStack);let i=Y(`Route "${e.route}": Runtime data such as \`cookies()\`, \`headers()\`, \`params\`, or \`searchParams\` was accessed outside of \`<Suspense>\`. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route`,t);return void r.dynamicErrors.push(i)}}}function Y(e,t){let r=Object.defineProperty(Error(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return r.stack=r.name+": "+e+t,r}var Z=((i={})[i.Full=0]="Full",i[i.Empty=1]="Empty",i[i.Errored=2]="Errored",i);function Q(e,t){console.error(t),e.dev||(e.hasReadableErrorStacks?console.error(`To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \`next dev\`, then open "${e.route}" in your browser to investigate the error.`):console.error(`To get a more detailed stack trace and pinpoint the issue, try one of the following:
  - Start the app in development mode by running \`next dev\`, then open "${e.route}" in your browser to investigate the error.
  - Rerun the production build with \`next build --debug-prerender\` to generate better stack traces.`))}function ee(e,t,r,n){if(n.syncDynamicErrorWithStack)throw Q(e,n.syncDynamicErrorWithStack),new u.StaticGenBailoutError;if(0!==t){if(r.hasSuspenseAboveBody)return;let n=r.dynamicErrors;if(n.length>0){for(let t=0;t<n.length;t++)Q(e,n[t]);throw new u.StaticGenBailoutError}if(r.hasDynamicViewport)throw console.error(`Route "${e.route}" has a \`generateViewport\` that depends on Request data (\`cookies()\`, etc...) or uncached external data (\`fetch(...)\`, etc...) without explicitly allowing fully dynamic rendering. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport`),new u.StaticGenBailoutError;if(1===t)throw console.error(`Route "${e.route}" did not produce a static shell and Next.js was unable to determine a reason. This is a bug in Next.js.`),new u.StaticGenBailoutError}else if(!1===r.hasAllowedDynamic&&r.hasDynamicMetadata)throw console.error(`Route "${e.route}" has a \`generateMetadata\` that depends on Request data (\`cookies()\`, etc...) or uncached external data (\`fetch(...)\`, etc...) when the rest of the route does not. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata`),new u.StaticGenBailoutError}function et(e,t,r){if(r.hasSuspenseAboveBody)return[];if(0!==t){let n=r.dynamicErrors;if(n.length>0)return n;if(1===t)return[Object.defineProperty(new m.InvariantError(`Route "${e.route}" did not produce a static shell and Next.js was unable to determine a reason.`),"__NEXT_ERROR_CODE",{value:"E936",enumerable:!1,configurable:!0})]}else if(!1===r.hasAllowedDynamic&&0===r.dynamicErrors.length&&r.dynamicMetadata)return[r.dynamicMetadata];return[]}function er(e,t){return e.runtimeStagePromise?e.runtimeStagePromise.then(()=>t):t}},17980,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={isRequestAPICallableInsideAfter:function(){return u},throwForSearchParamsAccessInUseCache:function(){return c},throwWithStaticGenerationBailoutErrorWithDynamicError:function(){return s}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let o=e.r(16046),a=e.r(24725);function s(e,t){throw Object.defineProperty(new o.StaticGenBailoutError(`Route ${e} with \`dynamic = "error"\` couldn't be rendered statically because it used ${t}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E543",enumerable:!1,configurable:!0})}function c(e,t){let r=Object.defineProperty(Error(`Route ${e.route} used \`searchParams\` inside "use cache". Accessing dynamic request data inside a cache scope is not supported. If you need some search params inside a cached function await \`searchParams\` outside of the cached function and pass only the required search params as arguments to the cached function. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E842",enumerable:!1,configurable:!0});throw Error.captureStackTrace(r,t),e.invalidDynamicUsageError??=r,r}function u(){let e=a.afterTaskAsyncStorage.getStore();return(null==e?void 0:e.rootTaskSpawnPhase)==="action"}},40997,(e,t,r)=>{"use strict";function n(){let e,t,r=new Promise((r,n)=>{e=r,t=n});return{resolve:e,reject:t,promise:r}}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"createPromiseWithResolvers",{enumerable:!0,get:function(){return n}})},58040,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i={RenderStage:function(){return c},StagedRenderingController:function(){return u}};for(var o in i)Object.defineProperty(r,o,{enumerable:!0,get:i[o]});let a=e.r(67874),s=e.r(40997);var c=((n={})[n.Before=1]="Before",n[n.Static=2]="Static",n[n.Runtime=3]="Runtime",n[n.Dynamic=4]="Dynamic",n[n.Abandoned=5]="Abandoned",n);class u{constructor(e=null,t){this.abortSignal=e,this.hasRuntimePrefetch=t,this.currentStage=1,this.staticInterruptReason=null,this.runtimeInterruptReason=null,this.staticStageEndTime=1/0,this.runtimeStageEndTime=1/0,this.runtimeStageListeners=[],this.dynamicStageListeners=[],this.runtimeStagePromise=(0,s.createPromiseWithResolvers)(),this.dynamicStagePromise=(0,s.createPromiseWithResolvers)(),this.mayAbandon=!1,e&&(e.addEventListener("abort",()=>{let{reason:t}=e;this.currentStage<3&&(this.runtimeStagePromise.promise.catch(l),this.runtimeStagePromise.reject(t)),(this.currentStage<4||5===this.currentStage)&&(this.dynamicStagePromise.promise.catch(l),this.dynamicStagePromise.reject(t))},{once:!0}),this.mayAbandon=!0)}onStage(e,t){if(this.currentStage>=e)t();else if(3===e)this.runtimeStageListeners.push(t);else if(4===e)this.dynamicStageListeners.push(t);else throw Object.defineProperty(new a.InvariantError(`Invalid render stage: ${e}`),"__NEXT_ERROR_CODE",{value:"E881",enumerable:!1,configurable:!0})}canSyncInterrupt(){if(1===this.currentStage)return!1;let e=this.hasRuntimePrefetch?4:3;return this.currentStage<e}syncInterruptCurrentStageWithReason(e){if(1!==this.currentStage){if(this.mayAbandon)return this.abandonRenderImpl();switch(this.currentStage){case 2:this.staticInterruptReason=e,this.advanceStage(4);return;case 3:this.hasRuntimePrefetch&&(this.runtimeInterruptReason=e,this.advanceStage(4));return}}}getStaticInterruptReason(){return this.staticInterruptReason}getRuntimeInterruptReason(){return this.runtimeInterruptReason}getStaticStageEndTime(){return this.staticStageEndTime}getRuntimeStageEndTime(){return this.runtimeStageEndTime}abandonRender(){if(!this.mayAbandon)throw Object.defineProperty(new a.InvariantError("`abandonRender` called on a stage controller that cannot be abandoned."),"__NEXT_ERROR_CODE",{value:"E938",enumerable:!1,configurable:!0});this.abandonRenderImpl()}abandonRenderImpl(){let{currentStage:e}=this;switch(e){case 2:this.currentStage=5,this.resolveRuntimeStage();return;case 3:this.currentStage=5;return}}advanceStage(e){if(e<=this.currentStage)return;let t=this.currentStage;if(this.currentStage=e,t<3&&e>=3&&(this.staticStageEndTime=performance.now()+performance.timeOrigin,this.resolveRuntimeStage()),t<4&&e>=4){this.runtimeStageEndTime=performance.now()+performance.timeOrigin,this.resolveDynamicStage();return}}resolveRuntimeStage(){let e=this.runtimeStageListeners;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.runtimeStagePromise.resolve()}resolveDynamicStage(){let e=this.dynamicStageListeners;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.dynamicStagePromise.resolve()}getStagePromise(e){switch(e){case 3:return this.runtimeStagePromise.promise;case 4:return this.dynamicStagePromise.promise;default:throw Object.defineProperty(new a.InvariantError(`Invalid render stage: ${e}`),"__NEXT_ERROR_CODE",{value:"E881",enumerable:!1,configurable:!0})}}waitForStage(e){return this.getStagePromise(e)}delayUntilStage(e,t,r){var n,i,o;let a,s=(n=this.getStagePromise(e),i=t,o=r,a=new Promise((e,t)=>{n.then(e.bind(null,o),t)}),void 0!==i&&(a.displayName=i),a);return this.abortSignal&&s.catch(l),s}}function l(){}},47206,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"connection",{enumerable:!0,get:function(){return u}});let n=e.r(56704),i=e.r(32319),o=e.r(78800),a=e.r(16046),s=e.r(58788),c=e.r(17980);function u(){let e=n.workAsyncStorage.getStore(),t=i.workUnitAsyncStorage.getStore();if(e){if(t&&"after"===t.phase&&!(0,c.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${e.route} used \`connection()\` inside \`after()\`. The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but \`after()\` executes after the request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E827",enumerable:!1,configurable:!0});if(e.forceStatic)return Promise.resolve(void 0);if(e.dynamicShouldError)throw Object.defineProperty(new a.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`connection()\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E847",enumerable:!1,configurable:!0});if(t)switch(t.type){case"cache":{let t=Object.defineProperty(Error(`Route ${e.route} used \`connection()\` inside "use cache". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual request, but caches must be able to be produced before a request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E841",enumerable:!1,configurable:!0});throw Error.captureStackTrace(t,u),e.invalidDynamicUsageError??=t,t}case"private-cache":{let t=Object.defineProperty(Error(`Route ${e.route} used \`connection()\` inside "use cache: private". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual navigation request, but caches must be able to be produced before a navigation request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E837",enumerable:!1,configurable:!0});throw Error.captureStackTrace(t,u),e.invalidDynamicUsageError??=t,t}case"unstable-cache":throw Object.defineProperty(Error(`Route ${e.route} used \`connection()\` inside a function cached with \`unstable_cache()\`. The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but caches must be able to be produced before a Request so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E840",enumerable:!1,configurable:!0});case"prerender":case"prerender-client":case"prerender-runtime":return(0,s.makeHangingPromise)(t.renderSignal,e.route,"`connection()`");case"prerender-ppr":return(0,o.postponeWithTracking)(e.route,"connection",t.dynamicTracking);case"prerender-legacy":return(0,o.throwToInterruptStaticGeneration)("connection",e,t);case"request":return(0,o.trackDynamicDataInDynamicRender)(t),Promise.resolve(void 0)}}(0,i.throwForMissingRequestStore)("connection")}e.r(58040)},86205,(e,t,r)=>{let n={NextRequest:e.r(44312).NextRequest,NextResponse:e.r(66972).NextResponse,ImageResponse:e.r(52041).ImageResponse,userAgentFromString:e.r(19410).userAgentFromString,userAgent:e.r(19410).userAgent,URLPattern:e.r(43932).URLPattern,after:e.r(35713).after,connection:e.r(47206).connection};t.exports=n,r.NextRequest=n.NextRequest,r.NextResponse=n.NextResponse,r.ImageResponse=n.ImageResponse,r.userAgentFromString=n.userAgentFromString,r.userAgent=n.userAgent,r.URLPattern=n.URLPattern,r.after=n.after,r.connection=n.connection},876,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={ActionDidNotRevalidate:function(){return o},ActionDidRevalidateDynamicOnly:function(){return s},ActionDidRevalidateStaticAndDynamic:function(){return a}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let o=0,a=1,s=2},21371,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={MutableRequestCookiesAdapter:function(){return f},ReadonlyRequestCookiesError:function(){return u},RequestCookiesAdapter:function(){return l},appendMutableCookies:function(){return h},areCookiesMutableInCurrentPhase:function(){return m},createCookiesWithMutableAccessCheck:function(){return g},getModifiedCookieValues:function(){return p},responseCookiesToRequestCookies:function(){return b}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let o=e.r(99101),a=e.r(97760),s=e.r(56704),c=e.r(876);class u extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new u}}class l{static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"clear":case"delete":case"set":return u.callable;default:return a.ReflectAdapter.get(e,t,r)}}})}}let d=Symbol.for("next.mutated.cookies");function p(e){let t=e[d];return t&&Array.isArray(t)&&0!==t.length?t:[]}function h(e,t){let r=p(t);if(0===r.length)return!1;let n=new o.ResponseCookies(e),i=n.getAll();for(let e of r)n.set(e);for(let e of i)n.set(e);return!0}class f{static wrap(e,t){let r=new o.ResponseCookies(new Headers);for(let t of e.getAll())r.set(t);let n=[],i=new Set,u=()=>{let e=s.workAsyncStorage.getStore();if(e&&(e.pathWasRevalidated=c.ActionDidRevalidateStaticAndDynamic),n=r.getAll().filter(e=>i.has(e.name)),t){let e=[];for(let t of n){let r=new o.ResponseCookies(new Headers);r.set(t),e.push(r.toString())}t(e)}},l=new Proxy(r,{get(e,t,r){switch(t){case d:return n;case"delete":return function(...t){i.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.delete(...t),l}finally{u()}};case"set":return function(...t){i.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.set(...t),l}finally{u()}};default:return a.ReflectAdapter.get(e,t,r)}}});return l}}function g(e){let t=new Proxy(e.mutableCookies,{get(r,n,i){switch(n){case"delete":return function(...n){return y(e,"cookies().delete"),r.delete(...n),t};case"set":return function(...n){return y(e,"cookies().set"),r.set(...n),t};default:return a.ReflectAdapter.get(r,n,i)}}});return t}function m(e){return"action"===e.phase}function y(e,t){if(!m(e))throw new u}function b(e){let t=new o.RequestCookies(new Headers);for(let r of e.getAll())t.set(r);return t}},16281,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"createDedupedByCallsiteServerErrorLoggerDev",{enumerable:!0,get:function(){return c}});let n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(void 0);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(e.r(99151));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}let o={current:null},a="function"==typeof n.cache?n.cache:e=>e,s=console.warn;function c(e){return function(...t){s(e(...t))}}a(e=>{try{s(o.current)}finally{o.current=null}})},16307,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"cookies",{enumerable:!0,get:function(){return h}});let n=e.r(21371),i=e.r(99101),o=e.r(56704),a=e.r(32319),s=e.r(78800),c=e.r(16046),u=e.r(58788),l=e.r(16281),d=e.r(17980),p=e.r(67874);function h(){let e="cookies",t=o.workAsyncStorage.getStore(),r=a.workUnitAsyncStorage.getStore();if(t){if(r&&"after"===r.phase&&!(0,d.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${t.route} used \`cookies()\` inside \`after()\`. This is not supported. If you need this data inside an \`after()\` callback, use \`cookies()\` outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E843",enumerable:!1,configurable:!0});if(t.forceStatic)return g(n.RequestCookiesAdapter.seal(new i.RequestCookies(new Headers({}))));if(t.dynamicShouldError)throw Object.defineProperty(new c.StaticGenBailoutError(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`cookies()\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E849",enumerable:!1,configurable:!0});if(r)switch(r.type){case"cache":let o=Object.defineProperty(Error(`Route ${t.route} used \`cookies()\` inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`cookies()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E831",enumerable:!1,configurable:!0});throw Error.captureStackTrace(o,h),t.invalidDynamicUsageError??=o,o;case"unstable-cache":throw Object.defineProperty(Error(`Route ${t.route} used \`cookies()\` inside a function cached with \`unstable_cache()\`. Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`cookies()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E846",enumerable:!1,configurable:!0});case"prerender":var l=t,m=r;let a=f.get(m);if(a)return a;let y=(0,u.makeHangingPromise)(m.renderSignal,l.route,"`cookies()`");return f.set(m,y),y;case"prerender-client":let b="`cookies`";throw Object.defineProperty(new p.InvariantError(`${b} must not be used within a Client Component. Next.js should be preventing ${b} from being included in Client Components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E832",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,s.postponeWithTracking)(t.route,e,r.dynamicTracking);case"prerender-legacy":return(0,s.throwToInterruptStaticGeneration)(e,t,r);case"prerender-runtime":return(0,s.delayUntilRuntimeStage)(r,g(r.cookies));case"private-cache":return g(r.cookies);case"request":return(0,s.trackDynamicDataInDynamicRender)(r),g((0,n.areCookiesMutableInCurrentPhase)(r)?r.userspaceMutableCookies:r.cookies)}}(0,a.throwForMissingRequestStore)(e)}e.r(58040);let f=new WeakMap;function g(e){let t=f.get(e);if(t)return t;let r=Promise.resolve(e);return f.set(e,r),r}(0,l.createDedupedByCallsiteServerErrorLoggerDev)(function(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`cookies()\` returns a Promise and must be unwrapped with \`await\` or \`React.use()\` before accessing its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E830",enumerable:!1,configurable:!0})})},14471,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={HeadersAdapter:function(){return s},ReadonlyHeadersError:function(){return a}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let o=e.r(97760);class a extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new a}}class s extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,r,n){if("symbol"==typeof r)return o.ReflectAdapter.get(t,r,n);let i=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===i);if(void 0!==a)return o.ReflectAdapter.get(t,a,n)},set(t,r,n,i){if("symbol"==typeof r)return o.ReflectAdapter.set(t,r,n,i);let a=r.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===a);return o.ReflectAdapter.set(t,s??r,n,i)},has(t,r){if("symbol"==typeof r)return o.ReflectAdapter.has(t,r);let n=r.toLowerCase(),i=Object.keys(e).find(e=>e.toLowerCase()===n);return void 0!==i&&o.ReflectAdapter.has(t,i)},deleteProperty(t,r){if("symbol"==typeof r)return o.ReflectAdapter.deleteProperty(t,r);let n=r.toLowerCase(),i=Object.keys(e).find(e=>e.toLowerCase()===n);return void 0===i||o.ReflectAdapter.deleteProperty(t,i)}})}static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"append":case"delete":case"set":return a.callable;default:return o.ReflectAdapter.get(e,t,r)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new s(e)}append(e,t){let r=this.headers[e];"string"==typeof r?this.headers[e]=[r,t]:Array.isArray(r)?r.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[r,n]of this.entries())e.call(t,n,r,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),r=this.get(t);yield[t,r]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}},42026,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"headers",{enumerable:!0,get:function(){return p}});let n=e.r(14471),i=e.r(56704),o=e.r(32319),a=e.r(78800),s=e.r(16046),c=e.r(58788),u=e.r(16281),l=e.r(17980),d=e.r(67874);function p(){let e="headers",t=i.workAsyncStorage.getStore(),r=o.workUnitAsyncStorage.getStore();if(t){if(r&&"after"===r.phase&&!(0,l.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${t.route} used \`headers()\` inside \`after()\`. This is not supported. If you need this data inside an \`after()\` callback, use \`headers()\` outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E839",enumerable:!1,configurable:!0});if(t.forceStatic)return f(n.HeadersAdapter.seal(new Headers({})));if(r)switch(r.type){case"cache":{let e=Object.defineProperty(Error(`Route ${t.route} used \`headers()\` inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`headers()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E833",enumerable:!1,configurable:!0});throw Error.captureStackTrace(e,p),t.invalidDynamicUsageError??=e,e}case"unstable-cache":throw Object.defineProperty(Error(`Route ${t.route} used \`headers()\` inside a function cached with \`unstable_cache()\`. Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`headers()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E838",enumerable:!1,configurable:!0})}if(t.dynamicShouldError)throw Object.defineProperty(new s.StaticGenBailoutError(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`headers()\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E828",enumerable:!1,configurable:!0});if(r)switch(r.type){case"prerender":var u=t,g=r;let i=h.get(g);if(i)return i;let o=(0,c.makeHangingPromise)(g.renderSignal,u.route,"`headers()`");return h.set(g,o),o;case"prerender-client":let m="`headers`";throw Object.defineProperty(new d.InvariantError(`${m} must not be used within a client component. Next.js should be preventing ${m} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,a.postponeWithTracking)(t.route,e,r.dynamicTracking);case"prerender-legacy":return(0,a.throwToInterruptStaticGeneration)(e,t,r);case"prerender-runtime":return(0,a.delayUntilRuntimeStage)(r,f(r.headers));case"private-cache":return f(r.headers);case"request":return(0,a.trackDynamicDataInDynamicRender)(r),f(r.headers)}}(0,o.throwForMissingRequestStore)(e)}e.r(58040);let h=new WeakMap;function f(e){let t=h.get(e);if(t)return t;let r=Promise.resolve(e);return h.set(e,r),r}(0,u.createDedupedByCallsiteServerErrorLoggerDev)(function(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`headers()\` returns a Promise and must be unwrapped with \`await\` or \`React.use()\` before accessing its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E836",enumerable:!1,configurable:!0})})},62180,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"draftMode",{enumerable:!0,get:function(){return l}});let n=e.r(32319),i=e.r(56704),o=e.r(78800),a=e.r(16281),s=e.r(16046),c=e.r(40143),u=e.r(67874);function l(){let e=i.workAsyncStorage.getStore(),t=n.workUnitAsyncStorage.getStore();switch((!e||!t)&&(0,n.throwForMissingRequestStore)("draftMode"),t.type){case"prerender-runtime":return(0,o.delayUntilRuntimeStage)(t,d(t.draftMode,e));case"request":return d(t.draftMode,e);case"cache":case"private-cache":case"unstable-cache":let r=(0,n.getDraftModeProviderForCacheScope)(e,t);if(r)return d(r,e);case"prerender":case"prerender-client":case"prerender-ppr":case"prerender-legacy":return d(null,e);default:return t}}function d(e,t){let r=h.get(e??p);return r||Promise.resolve(new f(e))}e.r(97760);let p={},h=new WeakMap;class f{constructor(e){this._provider=e}get isEnabled(){return null!==this._provider&&this._provider.isEnabled}enable(){g("draftMode().enable()",this.enable),null!==this._provider&&this._provider.enable()}disable(){g("draftMode().disable()",this.disable),null!==this._provider&&this._provider.disable()}}function g(e,t){let r=i.workAsyncStorage.getStore(),a=n.workUnitAsyncStorage.getStore();if(r){if((null==a?void 0:a.phase)==="after")throw Object.defineProperty(Error(`Route ${r.route} used "${e}" inside \`after()\`. The enabled status of \`draftMode()\` can be read inside \`after()\` but you cannot enable or disable \`draftMode()\`. See more info here: https://nextjs.org/docs/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E845",enumerable:!1,configurable:!0});if(r.dynamicShouldError)throw Object.defineProperty(new s.StaticGenBailoutError(`Route ${r.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(a)switch(a.type){case"cache":case"private-cache":{let n=Object.defineProperty(Error(`Route ${r.route} used "${e}" inside "use cache". The enabled status of \`draftMode()\` can be read in caches but you must not enable or disable \`draftMode()\` inside a cache. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E829",enumerable:!1,configurable:!0});throw Error.captureStackTrace(n,t),r.invalidDynamicUsageError??=n,n}case"unstable-cache":throw Object.defineProperty(Error(`Route ${r.route} used "${e}" inside a function cached with \`unstable_cache()\`. The enabled status of \`draftMode()\` can be read in caches but you must not enable or disable \`draftMode()\` inside a cache. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E844",enumerable:!1,configurable:!0});case"prerender":case"prerender-runtime":{let t=Object.defineProperty(Error(`Route ${r.route} used ${e} without first calling \`await connection()\`. See more info here: https://nextjs.org/docs/messages/next-prerender-sync-headers`),"__NEXT_ERROR_CODE",{value:"E126",enumerable:!1,configurable:!0});return(0,o.abortAndThrowOnSynchronousRequestDataAccess)(r.route,e,t,a)}case"prerender-client":let n="`draftMode`";throw Object.defineProperty(new u.InvariantError(`${n} must not be used within a Client Component. Next.js should be preventing ${n} from being included in Client Components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E832",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,o.postponeWithTracking)(r.route,e,a.dynamicTracking);case"prerender-legacy":a.revalidate=0;let i=Object.defineProperty(new c.DynamicServerError(`Route ${r.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw r.dynamicUsageDescription=e,r.dynamicUsageStack=i.stack,i;case"request":(0,o.trackDynamicDataInDynamicRender)(a)}}}(0,a.createDedupedByCallsiteServerErrorLoggerDev)(function(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`draftMode()\` returns a Promise and must be unwrapped with \`await\` or \`React.use()\` before accessing its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E835",enumerable:!1,configurable:!0})})},48159,(e,t,r)=>{t.exports.cookies=e.r(16307).cookies,t.exports.headers=e.r(42026).headers,t.exports.draftMode=e.r(62180).draftMode},89884,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ReadonlyURLSearchParams",{enumerable:!0,get:function(){return i}});class n extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class i extends URLSearchParams{append(){throw new n}delete(){throw new n}set(){throw new n}sort(){throw new n}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},80134,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"RedirectStatusCode",{enumerable:!0,get:function(){return i}});var n,i=((n={})[n.SeeOther=303]="SeeOther",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},52081,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i={REDIRECT_ERROR_CODE:function(){return s},RedirectType:function(){return c},isRedirectError:function(){return u}};for(var o in i)Object.defineProperty(r,o,{enumerable:!0,get:i[o]});let a=e.r(80134),s="NEXT_REDIRECT";var c=((n={}).push="push",n.replace="replace",n);function u(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let t=e.digest.split(";"),[r,n]=t,i=t.slice(2,-2).join(";"),o=Number(t.at(-2));return r===s&&("replace"===n||"push"===n)&&"string"==typeof i&&!isNaN(o)&&o in a.RedirectStatusCode}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},94945,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={getRedirectError:function(){return c},getRedirectStatusCodeFromError:function(){return h},getRedirectTypeFromError:function(){return p},getURLFromRedirectError:function(){return d},permanentRedirect:function(){return l},redirect:function(){return u}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let o=e.r(80134),a=e.r(52081),s=e.r(20635).actionAsyncStorage;function c(e,t,r=o.RedirectStatusCode.TemporaryRedirect){let n=Object.defineProperty(Error(a.REDIRECT_ERROR_CODE),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return n.digest=`${a.REDIRECT_ERROR_CODE};${t};${e};${r};`,n}function u(e,t){throw c(e,t??=s?.getStore()?.isAction?a.RedirectType.push:a.RedirectType.replace,o.RedirectStatusCode.TemporaryRedirect)}function l(e,t=a.RedirectType.replace){throw c(e,t,o.RedirectStatusCode.PermanentRedirect)}function d(e){return(0,a.isRedirectError)(e)?e.digest.split(";").slice(2,-2).join(";"):null}function p(e){if(!(0,a.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return e.digest.split(";",2)[1]}function h(e){if(!(0,a.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return Number(e.digest.split(";").at(-2))}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},59464,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={HTTPAccessErrorStatus:function(){return o},HTTP_ERROR_FALLBACK_ERROR_CODE:function(){return s},getAccessFallbackErrorTypeByStatus:function(){return l},getAccessFallbackHTTPStatus:function(){return u},isHTTPAccessFallbackError:function(){return c}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let o={NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401},a=new Set(Object.values(o)),s="NEXT_HTTP_ERROR_FALLBACK";function c(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r]=e.digest.split(";");return t===s&&a.has(Number(r))}function u(e){return Number(e.digest.split(";")[1])}function l(e){switch(e){case 401:return"unauthorized";case 403:return"forbidden";case 404:return"not-found";default:return}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},85367,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"notFound",{enumerable:!0,get:function(){return o}});let n=e.r(59464),i=`${n.HTTP_ERROR_FALLBACK_ERROR_CODE};404`;function o(){let e=Object.defineProperty(Error(i),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});throw e.digest=i,e}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},13354,(e,t,r)=>{"use strict";function n(){throw Object.defineProperty(Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E488",enumerable:!1,configurable:!0})}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"forbidden",{enumerable:!0,get:function(){return n}}),e.r(59464).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},41576,(e,t,r)=>{"use strict";function n(){throw Object.defineProperty(Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E411",enumerable:!1,configurable:!0})}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"unauthorized",{enumerable:!0,get:function(){return n}}),e.r(59464).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},22703,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isPostpone",{enumerable:!0,get:function(){return i}});let n=Symbol.for("react.postpone");function i(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}},93798,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isNextRouterError",{enumerable:!0,get:function(){return o}});let n=e.r(59464),i=e.r(52081);function o(e){return(0,i.isRedirectError)(e)||(0,n.isHTTPAccessFallbackError)(e)}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},17400,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"unstable_rethrow",{enumerable:!0,get:function(){return function e(t){if((0,a.isNextRouterError)(t)||(0,o.isBailoutToCSRError)(t)||(0,c.isDynamicServerError)(t)||(0,s.isDynamicPostpone)(t)||(0,i.isPostpone)(t)||(0,n.isHangingPromiseRejectionError)(t)||(0,s.isPrerenderInterruptedError)(t))throw t;t instanceof Error&&"cause"in t&&e(t.cause)}}});let n=e.r(58788),i=e.r(22703),o=e.r(33078),a=e.r(93798),s=e.r(78800),c=e.r(40143);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},86140,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"unstable_rethrow",{enumerable:!0,get:function(){return n}});let n=e.r(17400).unstable_rethrow;("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},93704,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={ReadonlyURLSearchParams:function(){return o.ReadonlyURLSearchParams},RedirectType:function(){return s.RedirectType},forbidden:function(){return u.forbidden},notFound:function(){return c.notFound},permanentRedirect:function(){return a.permanentRedirect},redirect:function(){return a.redirect},unauthorized:function(){return l.unauthorized},unstable_isUnrecognizedActionError:function(){return p},unstable_rethrow:function(){return d.unstable_rethrow}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let o=e.r(89884),a=e.r(94945),s=e.r(52081),c=e.r(85367),u=e.r(13354),l=e.r(41576),d=e.r(86140);function p(){throw Object.defineProperty(Error("`unstable_isUnrecognizedActionError` can only be used on the client."),"__NEXT_ERROR_CODE",{value:"E776",enumerable:!1,configurable:!0})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},26563,e=>{"use strict";let t,r,n,i,o,a,s,c;class u extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class l extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}let d={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"};function p(e){var t,r,n,i,o,a=[],s=0;function c(){for(;s<e.length&&/\s/.test(e.charAt(s));)s+=1;return s<e.length}for(;s<e.length;){for(t=s,o=!1;c();)if(","===(r=e.charAt(s))){for(n=s,s+=1,c(),i=s;s<e.length&&"="!==(r=e.charAt(s))&&";"!==r&&","!==r;)s+=1;s<e.length&&"="===e.charAt(s)?(o=!0,s=i,a.push(e.substring(t,n)),t=s):s=n+1}else s+=1;(!o||s>=e.length)&&a.push(e.substring(t,e.length))}return a}function h(e){let t={},r=[];if(e)for(let[n,i]of e.entries())"set-cookie"===n.toLowerCase()?(r.push(...p(i)),t[n]=1===r.length?r[0]:r):t[n]=i;return t}function f(e){try{return String(new URL(String(e)))}catch(t){throw Object.defineProperty(Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t}),"__NEXT_ERROR_CODE",{value:"E61",enumerable:!1,configurable:!0})}}({...d,GROUP:{builtinReact:[d.reactServerComponents,d.actionBrowser],serverOnly:[d.reactServerComponents,d.actionBrowser,d.instrument,d.middleware],neutralTarget:[d.apiNode,d.apiEdge],clientOnly:[d.serverSideRendering,d.appPagesBrowser],bundled:[d.reactServerComponents,d.actionBrowser,d.serverSideRendering,d.appPagesBrowser,d.shared,d.instrument,d.middleware],appPages:[d.reactServerComponents,d.serverSideRendering,d.appPagesBrowser,d.actionBrowser]}});Symbol("response"),Symbol("passThrough"),Symbol("waitUntil");function g(e){return e.replace(/\/$/,"")||"/"}function m(e){let t=e.indexOf("#"),r=e.indexOf("?"),n=r>-1&&(t<0||r<t);return n||t>-1?{pathname:e.substring(0,n?r:t),query:n?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}function y(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:n,hash:i}=m(e);return`${t}${r}${n}${i}`}function b(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:n,hash:i}=m(e);return`${r}${t}${n}${i}`}function _(e,t){if("string"!=typeof e)return!1;let{pathname:r}=m(e);return r===t||r.startsWith(t+"/")}let w=new WeakMap;function v(e,t){let r;if(!t)return{pathname:e};let n=w.get(t);n||(n=t.map(e=>e.toLowerCase()),w.set(t,n));let i=e.split("/",2);if(!i[1])return{pathname:e};let o=i[1].toLowerCase(),a=n.indexOf(o);return a<0?{pathname:e}:(r=t[a],{pathname:e=e.slice(r.length+1)||"/",detectedLocale:r})}let E=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function S(e,t){return new URL(String(e).replace(E,"localhost"),t&&String(t).replace(E,"localhost"))}let R=Symbol("NextURLInternal");class A{constructor(e,t,r){let n,i;"object"==typeof t&&"pathname"in t||"string"==typeof t?(n=t,i=r||{}):i=r||t||{},this[R]={url:S(e,n??i.base),options:i,basePath:""},this.analyze()}analyze(){var e,t,r,n,i;let o=function(e,t){let{basePath:r,i18n:n,trailingSlash:i}=t.nextConfig??{},o={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):i};r&&_(o.pathname,r)&&(o.pathname=function(e,t){if(!_(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:`/${r}`}(o.pathname,r),o.basePath=r);let a=o.pathname;if(o.pathname.startsWith("/_next/data/")&&o.pathname.endsWith(".json")){let e=o.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");o.buildId=e[0],a="index"!==e[1]?`/${e.slice(1).join("/")}`:"/",!0===t.parseData&&(o.pathname=a)}if(n){let e=t.i18nProvider?t.i18nProvider.analyze(o.pathname):v(o.pathname,n.locales);o.locale=e.detectedLocale,o.pathname=e.pathname??o.pathname,!e.detectedLocale&&o.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(a):v(a,n.locales)).detectedLocale&&(o.locale=e.detectedLocale)}return o}(this[R].url.pathname,{nextConfig:this[R].options.nextConfig,parseData:!0,i18nProvider:this[R].options.i18nProvider}),a=function(e,t){let r;if(t?.host&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;r=e.hostname}return r.toLowerCase()}(this[R].url,this[R].options.headers);this[R].domainLocale=this[R].options.i18nProvider?this[R].options.i18nProvider.detectDomainLocale(a):function(e,t,r){if(e){for(let n of(r&&(r=r.toLowerCase()),e))if(t===n.domain?.split(":",1)[0].toLowerCase()||r===n.defaultLocale.toLowerCase()||n.locales?.some(e=>e.toLowerCase()===r))return n}}(null==(t=this[R].options.nextConfig)||null==(e=t.i18n)?void 0:e.domains,a);let s=(null==(r=this[R].domainLocale)?void 0:r.defaultLocale)||(null==(i=this[R].options.nextConfig)||null==(n=i.i18n)?void 0:n.defaultLocale);this[R].url.pathname=o.pathname,this[R].defaultLocale=s,this[R].basePath=o.basePath??"",this[R].buildId=o.buildId,this[R].locale=o.locale??s,this[R].trailingSlash=o.trailingSlash}formatPathname(){var e;let t;return t=function(e,t,r,n){if(!t||t===r)return e;let i=e.toLowerCase();return!n&&(_(i,"/api")||_(i,`/${t.toLowerCase()}`))?e:y(e,`/${t}`)}((e={basePath:this[R].basePath,buildId:this[R].buildId,defaultLocale:this[R].options.forceLocale?void 0:this[R].defaultLocale,locale:this[R].locale,pathname:this[R].url.pathname,trailingSlash:this[R].trailingSlash}).pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix),(e.buildId||!e.trailingSlash)&&(t=g(t)),e.buildId&&(t=b(y(t,`/_next/data/${e.buildId}`),"/"===e.pathname?"index.json":".json")),t=y(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:b(t,"/"):g(t)}formatSearch(){return this[R].url.search}get buildId(){return this[R].buildId}set buildId(e){this[R].buildId=e}get locale(){return this[R].locale??""}set locale(e){var t,r;if(!this[R].locale||!(null==(r=this[R].options.nextConfig)||null==(t=r.i18n)?void 0:t.locales.includes(e)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${e}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[R].locale=e}get defaultLocale(){return this[R].defaultLocale}get domainLocale(){return this[R].domainLocale}get searchParams(){return this[R].url.searchParams}get host(){return this[R].url.host}set host(e){this[R].url.host=e}get hostname(){return this[R].url.hostname}set hostname(e){this[R].url.hostname=e}get port(){return this[R].url.port}set port(e){this[R].url.port=e}get protocol(){return this[R].url.protocol}set protocol(e){this[R].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[R].url=S(e),this.analyze()}get origin(){return this[R].url.origin}get pathname(){return this[R].url.pathname}set pathname(e){this[R].url.pathname=e}get hash(){return this[R].url.hash}set hash(e){this[R].url.hash=e}get search(){return this[R].url.search}set search(e){this[R].url.search=e}get password(){return this[R].url.password}set password(e){this[R].url.password=e}get username(){return this[R].url.username}set username(e){this[R].url.username=e}get basePath(){return this[R].basePath}set basePath(e){this[R].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new A(String(this),this[R].options)}}var x=e.i(15305);let P=Symbol("internal request");class O extends Request{constructor(e,t={}){const r="string"!=typeof e&&"url"in e?e.url:String(e);f(r),t.body&&"half"!==t.duplex&&(t.duplex="half"),e instanceof Request?super(e,t):super(r,t);const n=new A(r,{headers:h(this.headers),nextConfig:t.nextConfig});this[P]={cookies:new x.RequestCookies(this.headers),nextUrl:n,url:n.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[P].cookies}get nextUrl(){return this[P].nextUrl}get page(){throw new u}get ua(){throw new l}get url(){return this[P].url}}class T{static get(e,t,r){let n=Reflect.get(e,t,r);return"function"==typeof n?n.bind(e):n}static set(e,t,r,n){return Reflect.set(e,t,r,n)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}let k=Symbol("internal response"),C=new Set([301,302,303,307,308]);function I(e,t){var r;if(null==e||null==(r=e.request)?void 0:r.headers){if(!(e.request.headers instanceof Headers))throw Object.defineProperty(Error("request.headers must be an instance of Headers"),"__NEXT_ERROR_CODE",{value:"E119",enumerable:!1,configurable:!0});let r=[];for(let[n,i]of e.request.headers)t.set("x-middleware-request-"+n,i),r.push(n);t.set("x-middleware-override-headers",r.join(","))}}class N extends Response{constructor(e,t={}){super(e,t);const r=this.headers,n=new Proxy(new x.ResponseCookies(r),{get(e,n,i){switch(n){case"delete":case"set":return(...i)=>{let o=Reflect.apply(e[n],e,i),a=new Headers(r);return o instanceof x.ResponseCookies&&r.set("x-middleware-set-cookie",o.getAll().map(e=>(0,x.stringifyCookie)(e)).join(",")),I(t,a),o};default:return T.get(e,n,i)}}});this[k]={cookies:n,url:t.url?new A(t.url,{headers:h(r),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[k].cookies}static json(e,t){let r=Response.json(e,t);return new N(r.body,r)}static redirect(e,t){let r="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!C.has(r))throw Object.defineProperty(RangeError('Failed to execute "redirect" on "response": Invalid status code'),"__NEXT_ERROR_CODE",{value:"E529",enumerable:!1,configurable:!0});let n="object"==typeof t?t:{},i=new Headers(null==n?void 0:n.headers);return i.set("Location",f(e)),new N(null,{...n,headers:i,status:r})}static rewrite(e,t){let r=new Headers(null==t?void 0:t.headers);return r.set("x-middleware-rewrite",f(e)),I(t,r),new N(null,{...t,headers:r})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),I(e,t),new N(null,{...e,headers:t})}}class j extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new j}}class D extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,r,n){if("symbol"==typeof r)return T.get(t,r,n);let i=r.toLowerCase(),o=Object.keys(e).find(e=>e.toLowerCase()===i);if(void 0!==o)return T.get(t,o,n)},set(t,r,n,i){if("symbol"==typeof r)return T.set(t,r,n,i);let o=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===o);return T.set(t,a??r,n,i)},has(t,r){if("symbol"==typeof r)return T.has(t,r);let n=r.toLowerCase(),i=Object.keys(e).find(e=>e.toLowerCase()===n);return void 0!==i&&T.has(t,i)},deleteProperty(t,r){if("symbol"==typeof r)return T.deleteProperty(t,r);let n=r.toLowerCase(),i=Object.keys(e).find(e=>e.toLowerCase()===n);return void 0===i||T.deleteProperty(t,i)}})}static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"append":case"delete":case"set":return j.callable;default:return T.get(e,t,r)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new D(e)}append(e,t){let r=this.headers[e];"string"==typeof r?this.headers[e]=[r,t]:Array.isArray(r)?r.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[r,n]of this.entries())e.call(t,n,r,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),r=this.get(t);yield[t,r]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}e.i(56704);Symbol.for("next.mutated.cookies");var U=((na=U||{}).handleRequest="BaseServer.handleRequest",na.run="BaseServer.run",na.pipe="BaseServer.pipe",na.getStaticHTML="BaseServer.getStaticHTML",na.render="BaseServer.render",na.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",na.renderToResponse="BaseServer.renderToResponse",na.renderToHTML="BaseServer.renderToHTML",na.renderError="BaseServer.renderError",na.renderErrorToResponse="BaseServer.renderErrorToResponse",na.renderErrorToHTML="BaseServer.renderErrorToHTML",na.render404="BaseServer.render404",na),L=((ns=L||{}).loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",ns.loadComponents="LoadComponents.loadComponents",ns),M=((nc=M||{}).getRequestHandler="NextServer.getRequestHandler",nc.getRequestHandlerWithMetadata="NextServer.getRequestHandlerWithMetadata",nc.getServer="NextServer.getServer",nc.getServerRequestHandler="NextServer.getServerRequestHandler",nc.createServer="createServer.createServer",nc),$=((nu=$||{}).compression="NextNodeServer.compression",nu.getBuildId="NextNodeServer.getBuildId",nu.createComponentTree="NextNodeServer.createComponentTree",nu.clientComponentLoading="NextNodeServer.clientComponentLoading",nu.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",nu.generateStaticRoutes="NextNodeServer.generateStaticRoutes",nu.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",nu.generatePublicRoutes="NextNodeServer.generatePublicRoutes",nu.generateImageRoutes="NextNodeServer.generateImageRoutes.route",nu.sendRenderResult="NextNodeServer.sendRenderResult",nu.proxyRequest="NextNodeServer.proxyRequest",nu.runApi="NextNodeServer.runApi",nu.render="NextNodeServer.render",nu.renderHTML="NextNodeServer.renderHTML",nu.imageOptimizer="NextNodeServer.imageOptimizer",nu.getPagePath="NextNodeServer.getPagePath",nu.getRoutesManifest="NextNodeServer.getRoutesManifest",nu.findPageComponents="NextNodeServer.findPageComponents",nu.getFontManifest="NextNodeServer.getFontManifest",nu.getServerComponentManifest="NextNodeServer.getServerComponentManifest",nu.getRequestHandler="NextNodeServer.getRequestHandler",nu.renderToHTML="NextNodeServer.renderToHTML",nu.renderError="NextNodeServer.renderError",nu.renderErrorToHTML="NextNodeServer.renderErrorToHTML",nu.render404="NextNodeServer.render404",nu.startResponse="NextNodeServer.startResponse",nu.route="route",nu.onProxyReq="onProxyReq",nu.apiResolver="apiResolver",nu.internalFetch="internalFetch",nu),H=((nl=H||{}).startServer="startServer.startServer",nl),W=((nd=W||{}).getServerSideProps="Render.getServerSideProps",nd.getStaticProps="Render.getStaticProps",nd.renderToString="Render.renderToString",nd.renderDocument="Render.renderDocument",nd.createBodyResult="Render.createBodyResult",nd),B=((np=B||{}).renderToString="AppRender.renderToString",np.renderToReadableStream="AppRender.renderToReadableStream",np.getBodyResult="AppRender.getBodyResult",np.fetch="AppRender.fetch",np),K=((nh=K||{}).executeRoute="Router.executeRoute",nh),q=((nf=q||{}).runHandler="Node.runHandler",nf),V=((ng=V||{}).runHandler="AppRouteRouteHandlers.runHandler",ng),F=((nm=F||{}).generateMetadata="ResolveMetadata.generateMetadata",nm.generateViewport="ResolveMetadata.generateViewport",nm),G=((ny=G||{}).execute="Middleware.execute",ny);let J=new Set(["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"]),z=new Set(["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"]);function X(e){return null!==e&&"object"==typeof e&&"then"in e&&"function"==typeof e.then}let Y=process.env.NEXT_OTEL_PERFORMANCE_PREFIX;try{t=e.r(34474)}catch(r){t=e.r(78338)}let{context:Z,propagation:Q,trace:ee,SpanStatusCode:et,SpanKind:er,ROOT_CONTEXT:en}=t;class ei extends Error{constructor(e,t){super(),this.bubble=e,this.result=t}}let eo=(e,t)=>{"object"==typeof t&&null!==t&&t instanceof ei&&t.bubble?e.setAttribute("next.bubble",!0):(t&&(e.recordException(t),e.setAttribute("error.type",t.name)),e.setStatus({code:et.ERROR,message:null==t?void 0:t.message})),e.end()},ea=new Map,es=t.createContextKey("next.rootSpanId"),ec=0,eu={set(e,t,r){e.push({key:t,value:r})}},el=(s=new class e{getTracerInstance(){return ee.getTracer("next.js","0.0.1")}getContext(){return Z}getTracePropagationData(){let e=Z.active(),t=[];return Q.inject(e,t,eu),t}getActiveScopeSpan(){return ee.getSpan(null==Z?void 0:Z.active())}withPropagatedContext(e,t,r){let n=Z.active();if(ee.getSpanContext(n))return t();let i=Q.extract(n,e,r);return Z.with(i,t)}trace(...e){let[t,r,n]=e,{fn:i,options:o}="function"==typeof r?{fn:r,options:{}}:{fn:n,options:{...r}},a=o.spanName??t;if(!J.has(t)&&"1"!==process.env.NEXT_OTEL_VERBOSE||o.hideSpan)return i();let s=this.getSpanContext((null==o?void 0:o.parentSpan)??this.getActiveScopeSpan());s||(s=(null==Z?void 0:Z.active())??en);let c=s.getValue(es),u="number"!=typeof c||!ea.has(c),l=ec++;return o.attributes={"next.span_name":a,"next.span_type":t,...o.attributes},Z.with(s.setValue(es,l),()=>this.getTracerInstance().startActiveSpan(a,o,e=>{let r;Y&&t&&z.has(t)&&(r="performance"in globalThis&&"measure"in performance?globalThis.performance.now():void 0);let n=!1,a=()=>{!n&&(n=!0,ea.delete(l),r&&performance.measure(`${Y}:next-${(t.split(".").pop()||"").replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}`,{start:r,end:performance.now()}))};if(u&&ea.set(l,new Map(Object.entries(o.attributes??{}))),i.length>1)try{return i(e,t=>eo(e,t))}catch(t){throw eo(e,t),t}finally{a()}try{let t=i(e);if(X(t))return t.then(t=>(e.end(),t)).catch(t=>{throw eo(e,t),t}).finally(a);return e.end(),a(),t}catch(t){throw eo(e,t),a(),t}}))}wrap(...e){let t=this,[r,n,i]=3===e.length?e:[e[0],{},e[1]];return J.has(r)||"1"===process.env.NEXT_OTEL_VERBOSE?function(){let e=n;"function"==typeof e&&"function"==typeof i&&(e=e.apply(this,arguments));let o=arguments.length-1,a=arguments[o];if("function"!=typeof a)return t.trace(r,e,()=>i.apply(this,arguments));{let n=t.getContext().bind(Z.active(),a);return t.trace(r,e,(e,t)=>(arguments[o]=function(e){return null==t||t(e),n.apply(this,arguments)},i.apply(this,arguments)))}}:i}startSpan(...e){let[t,r]=e,n=this.getSpanContext((null==r?void 0:r.parentSpan)??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(t,r,n)}getSpanContext(e){return e?ee.setSpan(Z.active(),e):void 0}getRootSpanAttributes(){let e=Z.active().getValue(es);return ea.get(e)}setRootSpanAttribute(e,t){let r=Z.active().getValue(es),n=ea.get(r);n&&!n.has(e)&&n.set(e,t)}withSpan(e,t){let r=ee.setSpan(Z.active(),e);return Z.with(r,t)}},()=>s),ed="__prerender_bypass";Symbol("__next_preview_data"),Symbol(ed);e.i(32319),e.i(74998);e.i(51187),process.env.NEXT_PRIVATE_DEBUG_CACHE,Symbol.for("@next/cache-handlers");Symbol.for("@next/cache-handlers-map"),Symbol.for("@next/cache-handlers-set");Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});"u">typeof globalThis&&globalThis.AsyncLocalStorage;e.i(24725);Symbol.for("@next/request-context");var ep=e.i(94012);let eh=globalThis.prisma??new ep.PrismaClient({log:["error"]});function ef(e){let t={};for(let r in e)void 0!==e[r]&&(t[r]=e[r]);return{data:t}}var eg=function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},em=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};function ey(e){let t=e?"__Secure-":"";return{sessionToken:{name:`${t}authjs.session-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},callbackUrl:{name:`${t}authjs.callback-url`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},csrfToken:{name:`${e?"__Host-":""}authjs.csrf-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},pkceCodeVerifier:{name:`${t}authjs.pkce.code_verifier`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},state:{name:`${t}authjs.state`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},nonce:{name:`${t}authjs.nonce`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},webauthnChallenge:{name:`${t}authjs.challenge`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}}}}class eb{constructor(e,t,r){if(nb.add(this),n_.set(this,{}),nw.set(this,void 0),nv.set(this,void 0),eg(this,nv,r,"f"),eg(this,nw,e,"f"),!t)return;const{name:n}=e;for(const[e,r]of Object.entries(t))e.startsWith(n)&&r&&(em(this,n_,"f")[e]=r)}get value(){return Object.keys(em(this,n_,"f")).sort((e,t)=>parseInt(e.split(".").pop()||"0")-parseInt(t.split(".").pop()||"0")).map(e=>em(this,n_,"f")[e]).join("")}chunk(e,t){let r=em(this,nb,"m",nS).call(this);for(let n of em(this,nb,"m",nE).call(this,{name:em(this,nw,"f").name,value:e,options:{...em(this,nw,"f").options,...t}}))r[n.name]=n;return Object.values(r)}clean(){return Object.values(em(this,nb,"m",nS).call(this))}}n_=new WeakMap,nw=new WeakMap,nv=new WeakMap,nb=new WeakSet,nE=function(e){let t=Math.ceil(e.value.length/3936);if(1===t)return em(this,n_,"f")[e.name]=e.value,[e];let r=[];for(let n=0;n<t;n++){let t=`${e.name}.${n}`,i=e.value.substr(3936*n,3936);r.push({...e,name:t,value:i}),em(this,n_,"f")[t]=i}return em(this,nv,"f").debug("CHUNKING_SESSION_COOKIE",{message:"Session cookie exceeds allowed 4096 bytes.",emptyCookieSize:160,valueSize:e.value.length,chunks:r.map(e=>e.value.length+160)}),r},nS=function(){let e={};for(let t in em(this,n_,"f"))delete em(this,n_,"f")?.[t],e[t]={name:t,value:"",options:{...em(this,nw,"f").options,maxAge:0}};return e};class e_ extends Error{constructor(e,t){e instanceof Error?super(void 0,{cause:{err:e,...e.cause,...t}}):"string"==typeof e?(t instanceof Error&&(t={err:t,...t.cause}),super(e,t)):super(void 0,e),this.name=this.constructor.name,this.type=this.constructor.type??"AuthError",this.kind=this.constructor.kind??"error",Error.captureStackTrace?.(this,this.constructor);const r=`https://errors.authjs.dev#${this.type.toLowerCase()}`;this.message+=`${this.message?". ":""}Read more at ${r}`}}class ew extends e_{}ew.kind="signIn";class ev extends e_{}ev.type="AdapterError";class eE extends e_{}eE.type="AccessDenied";class eS extends e_{}eS.type="CallbackRouteError";class eR extends e_{}eR.type="ErrorPageLoop";class eA extends e_{}eA.type="EventError";class ex extends e_{}ex.type="InvalidCallbackUrl";class eP extends ew{constructor(){super(...arguments),this.code="credentials"}}eP.type="CredentialsSignin";class eO extends e_{}eO.type="InvalidEndpoints";class eT extends e_{}eT.type="InvalidCheck";class ek extends e_{}ek.type="JWTSessionError";class eC extends e_{}eC.type="MissingAdapter";class eI extends e_{}eI.type="MissingAdapterMethods";class eN extends e_{}eN.type="MissingAuthorize";class ej extends e_{}ej.type="MissingSecret";class eD extends ew{}eD.type="OAuthAccountNotLinked";class eU extends ew{}eU.type="OAuthCallbackError";class eL extends e_{}eL.type="OAuthProfileParseError";class eM extends e_{}eM.type="SessionTokenError";class e$ extends e_{}e$.type="SignOutError";class eH extends e_{}eH.type="UnknownAction";class eW extends e_{}eW.type="UnsupportedStrategy";class eB extends e_{}eB.type="InvalidProvider";class eK extends e_{}eK.type="UntrustedHost";class eq extends e_{}eq.type="Verification";class eV extends ew{}eV.type="MissingCSRF";let eF=new Set(["CredentialsSignin","OAuthAccountNotLinked","OAuthCallbackError","AccessDenied","Verification","MissingCSRF","AccountNotLinked","WebAuthnVerificationError"]);class eG extends e_{}eG.type="DuplicateConditionalUI";class eJ extends e_{}eJ.type="MissingWebAuthnAutocomplete";class ez extends e_{}ez.type="WebAuthnVerificationError";class eX extends ew{}eX.type="AccountNotLinked";class eY extends e_{}eY.type="ExperimentalFeatureNotEnabled";let eZ=!1;function eQ(e,t){try{return/^https?:/.test(new URL(e,e.startsWith("/")?t:void 0).protocol)}catch{return!1}}let e0=!1,e1=!1,e2=!1,e3=["createVerificationToken","useVerificationToken","getUserByEmail"],e4=["createUser","getUser","getUserByEmail","getUserByAccount","updateUser","linkAccount","createSession","getSessionAndUser","updateSession","deleteSession"],e8=["createUser","getUser","linkAccount","getAccount","getAuthenticator","createAuthenticator","listAuthenticatorsByUserId","updateAuthenticatorCounter"];var e6=e.i(54799);"function"!=typeof e6.hkdf||process.versions.electron||(r=async(...e)=>new Promise((t,r)=>{e6.hkdf(...e,(e,n)=>{e?r(e):t(new Uint8Array(n))})}));let e5=async(e,t,n,i,o)=>(r||((e,t,r,n,i)=>{let o=parseInt(e.substr(3),10)>>3||20,a=(0,e6.createHmac)(e,r.byteLength?r:new Uint8Array(o)).update(t).digest(),s=Math.ceil(i/o),c=new Uint8Array(o*s+n.byteLength+1),u=0,l=0;for(let t=1;t<=s;t++)c.set(n,l),c[l+n.byteLength]=t,c.set((0,e6.createHmac)(e,a).update(c.subarray(u,l+n.byteLength+1)).digest(),l),u=l,l+=o;return c.slice(0,i)}))(e,t,n,i,o);function e9(e,t){if("string"==typeof e)return new TextEncoder().encode(e);if(!(e instanceof Uint8Array))throw TypeError(`"${t}"" must be an instance of Uint8Array or a string`);return e}async function e7(e,t,r,n,i){return e5(function(e){switch(e){case"sha256":case"sha384":case"sha512":case"sha1":return e;default:throw TypeError('unsupported "digest" value')}}(e),function(e){let t=e9(e,"ikm");if(!t.byteLength)throw TypeError('"ikm" must be at least one byte in length');return t}(t),e9(r,"salt"),function(e){let t=e9(e,"info");if(t.byteLength>1024)throw TypeError('"info" must not contain more than 1024 bytes');return t}(n),function(e,t){if("number"!=typeof e||!Number.isInteger(e)||e<1)throw TypeError('"keylen" must be a positive integer');if(e>255*(parseInt(t.substr(3),10)>>3||20))throw TypeError('"keylen" too large');return e}(i,e))}let te=new TextEncoder,tt=new TextDecoder;function tr(...e){let t=new Uint8Array(e.reduce((e,{length:t})=>e+t,0)),r=0;for(let n of e)t.set(n,r),r+=n.length;return t}function tn(e,t,r){if(t<0||t>=0x100000000)throw RangeError(`value must be >= 0 and <= ${0x100000000-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],r)}function ti(e){let t=Math.floor(e/0x100000000),r=new Uint8Array(8);return tn(r,t,0),tn(r,e%0x100000000,4),r}function to(e){let t=new Uint8Array(4);return tn(t,e),t}function ta(e){let t=new Uint8Array(e.length);for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);if(n>127)throw TypeError("non-ASCII string encountered in encode()");t[r]=n}return t}function ts(e){if(Uint8Array.fromBase64)return Uint8Array.fromBase64("string"==typeof e?e:tt.decode(e),{alphabet:"base64url"});let t=e;t instanceof Uint8Array&&(t=tt.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/");try{var r=t;if(Uint8Array.fromBase64)return Uint8Array.fromBase64(r);let e=atob(r),n=new Uint8Array(e.length);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return n}catch{throw TypeError("The input to be decoded is not correctly encoded.")}}function tc(e){let t=e;return("string"==typeof t&&(t=te.encode(t)),Uint8Array.prototype.toBase64)?t.toBase64({alphabet:"base64url",omitPadding:!0}):(function(e){if(Uint8Array.prototype.toBase64)return e.toBase64();let t=[];for(let r=0;r<e.length;r+=32768)t.push(String.fromCharCode.apply(null,e.subarray(r,r+32768)));return btoa(t.join(""))})(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}e.s(["decode",()=>ts,"encode",()=>tc],17756);let tu=Symbol();class tl extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(e,t){super(e,t),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class td extends tl{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(e,t,r="unspecified",n="unspecified"){super(e,{cause:{claim:r,reason:n,payload:t}}),this.claim=r,this.reason=n,this.payload=t}}class tp extends tl{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(e,t,r="unspecified",n="unspecified"){super(e,{cause:{claim:r,reason:n,payload:t}}),this.claim=r,this.reason=n,this.payload=t}}class th extends tl{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class tf extends tl{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class tg extends tl{static code="ERR_JWE_DECRYPTION_FAILED";code="ERR_JWE_DECRYPTION_FAILED";constructor(e="decryption operation failed",t){super(e,t)}}class tm extends tl{static code="ERR_JWE_INVALID";code="ERR_JWE_INVALID"}class ty extends tl{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class tb extends tl{static code="ERR_JWK_INVALID";code="ERR_JWK_INVALID"}class t_ extends tl{[Symbol.asyncIterator];static code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";constructor(e="multiple matching keys found in the JSON Web Key Set",t){super(e,t)}}function tw(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new tf(`Unsupported JWE Algorithm: ${e}`)}}function tv(e,t){if(t.length<<3!==tw(e))throw new tm("Invalid Initialization Vector length")}function tE(e,t){let r=e.byteLength<<3;if(r!==t)throw new tm(`Invalid Content Encryption Key length. Expected ${t} bits, got ${r} bits`)}let tS=(e,t="algorithm.name")=>TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`);function tR(e,t,r){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if("AES-GCM"!==e.algorithm.name)throw tS("AES-GCM");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw tS(r,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if("AES-KW"!==e.algorithm.name)throw tS("AES-KW");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw tS(r,"algorithm.length");break}case"ECDH":switch(e.algorithm.name){case"ECDH":case"X25519":break;default:throw tS("ECDH or X25519")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if("PBKDF2"!==e.algorithm.name)throw tS("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if("RSA-OAEP"!==e.algorithm.name)throw tS("RSA-OAEP");let r=parseInt(t.slice(9),10)||1;if(parseInt(e.algorithm.hash.name.slice(4),10)!==r)throw tS(`SHA-${r}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}if(r&&!e.usages.includes(r))throw TypeError(`CryptoKey does not support this operation, its usages must include ${r}.`)}function tA(e,t,...r){if((r=r.filter(Boolean)).length>2){let t=r.pop();e+=`one of type ${r.join(", ")}, or ${t}.`}else 2===r.length?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor?.name&&(e+=` Received an instance of ${t.constructor.name}`),e}let tx=(e,...t)=>tA("Key must be ",e,...t),tP=(e,t,...r)=>tA(`Key for the ${e} algorithm must be `,t,...r);function tO(e){if(!tT(e))throw Error("CryptoKey instance expected")}let tT=e=>{if(e?.[Symbol.toStringTag]==="CryptoKey")return!0;try{return e instanceof CryptoKey}catch{return!1}},tk=e=>e?.[Symbol.toStringTag]==="KeyObject",tC=e=>tT(e)||tk(e);async function tI(e,t,r,n,i){if(!(r instanceof Uint8Array))throw TypeError(tx(r,"Uint8Array"));let o=parseInt(e.slice(1,4),10),a=await crypto.subtle.importKey("raw",r.subarray(o>>3),"AES-CBC",!1,["encrypt"]),s=await crypto.subtle.importKey("raw",r.subarray(0,o>>3),{hash:`SHA-${o<<1}`,name:"HMAC"},!1,["sign"]),c=new Uint8Array(await crypto.subtle.encrypt({iv:n,name:"AES-CBC"},a,t)),u=tr(i,n,c,ti(i.length<<3));return{ciphertext:c,tag:new Uint8Array((await crypto.subtle.sign("HMAC",s,u)).slice(0,o>>3)),iv:n}}async function tN(e,t,r,n,i){let o;r instanceof Uint8Array?o=await crypto.subtle.importKey("raw",r,"AES-GCM",!1,["encrypt"]):(tR(r,e,"encrypt"),o=r);let a=new Uint8Array(await crypto.subtle.encrypt({additionalData:i,iv:n,name:"AES-GCM",tagLength:128},o,t)),s=a.slice(-16);return{ciphertext:a.slice(0,-16),tag:s,iv:n}}async function tj(e,t,r,n,i){if(!tT(r)&&!(r instanceof Uint8Array))throw TypeError(tx(r,"CryptoKey","KeyObject","Uint8Array","JSON Web Key"));if(n)tv(e,n);else n=crypto.getRandomValues(new Uint8Array(tw(e)>>3));switch(e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return r instanceof Uint8Array&&tE(r,parseInt(e.slice(-3),10)),tI(e,t,r,n,i);case"A128GCM":case"A192GCM":case"A256GCM":return r instanceof Uint8Array&&tE(r,parseInt(e.slice(1,4),10)),tN(e,t,r,n,i);default:throw new tf("Unsupported JWE Content Encryption Algorithm")}}function tD(e,t){if(e.algorithm.length!==parseInt(t.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${t}`)}function tU(e,t,r){return e instanceof Uint8Array?crypto.subtle.importKey("raw",e,"AES-KW",!0,[r]):(tR(e,t,r),e)}async function tL(e,t,r){let n=await tU(t,e,"wrapKey");tD(n,e);let i=await crypto.subtle.importKey("raw",r,{hash:"SHA-256",name:"HMAC"},!0,["sign"]);return new Uint8Array(await crypto.subtle.wrapKey("raw",i,n,"AES-KW"))}async function tM(e,t,r){let n=await tU(t,e,"unwrapKey");tD(n,e);let i=await crypto.subtle.unwrapKey("raw",r,n,"AES-KW",{hash:"SHA-256",name:"HMAC"},!0,["sign"]);return new Uint8Array(await crypto.subtle.exportKey("raw",i))}async function t$(e,t){let r=`SHA-${e.slice(-3)}`;return new Uint8Array(await crypto.subtle.digest(r,t))}function tH(e){return tr(to(e.length),e)}async function tW(e,t,r){let n=t>>3,i=Math.ceil(n/32),o=new Uint8Array(32*i);for(let t=1;t<=i;t++){let n=new Uint8Array(4+e.length+r.length);n.set(to(t),0),n.set(e,4),n.set(r,4+e.length);let i=await t$("sha256",n);o.set(i,(t-1)*32)}return o.slice(0,n)}async function tB(e,t,r,n,i=new Uint8Array,o=new Uint8Array){var a;tR(e,"ECDH"),tR(t,"ECDH","deriveBits");let s=tr(tH(ta(r)),tH(i),tH(o),to(n),new Uint8Array);return tW(new Uint8Array(await crypto.subtle.deriveBits({name:e.algorithm.name,public:e},t,"X25519"===(a=e).algorithm.name?256:Math.ceil(parseInt(a.algorithm.namedCurve.slice(-3),10)/8)<<3)),n,s)}function tK(e){switch(e.algorithm.namedCurve){case"P-256":case"P-384":case"P-521":return!0;default:return"X25519"===e.algorithm.name}}async function tq(e,t,r,n){if(!(e instanceof Uint8Array)||e.length<8)throw new tm("PBES2 Salt Input must be 8 or more octets");let i=tr(ta(t),Uint8Array.of(0),e),o=parseInt(t.slice(13,16),10),a={hash:`SHA-${t.slice(8,11)}`,iterations:r,name:"PBKDF2",salt:i},s=await (n instanceof Uint8Array?crypto.subtle.importKey("raw",n,"PBKDF2",!1,["deriveBits"]):(tR(n,t,"deriveBits"),n));return new Uint8Array(await crypto.subtle.deriveBits(a,s,o))}async function tV(e,t,r,n=2048,i=crypto.getRandomValues(new Uint8Array(16))){let o=await tq(i,e,n,t);return{encryptedKey:await tL(e.slice(-6),o,r),p2c:n,p2s:tc(i)}}async function tF(e,t,r,n,i){let o=await tq(i,e,n,t);return tM(e.slice(-6),o,r)}function tG(e,t){if(e.startsWith("RS")||e.startsWith("PS")){let{modulusLength:r}=t.algorithm;if("number"!=typeof r||r<2048)throw TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}}let tJ=e=>{switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new tf(`alg ${e} is not supported either by JOSE or your javascript runtime`)}};async function tz(e,t,r){return tR(t,e,"encrypt"),tG(e,t),new Uint8Array(await crypto.subtle.encrypt(tJ(e),t,r))}async function tX(e,t,r){return tR(t,e,"decrypt"),tG(e,t),new Uint8Array(await crypto.subtle.decrypt(tJ(e),t,r))}function tY(e){if("object"!=typeof e||null===e||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}let tZ=e=>tY(e)&&"string"==typeof e.kty;async function tQ(e){if(!e.alg)throw TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:t,keyUsages:r}=function(e){let t,r;switch(e.kty){case"AKP":switch(e.alg){case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":t={name:e.alg},r=e.priv?["sign"]:["verify"];break;default:throw new tf('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},r=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new tf('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},r=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},r=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new tf('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(e.alg){case"Ed25519":case"EdDSA":t={name:"Ed25519"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new tf('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new tf('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:r}}(e),n={...e};return"AKP"!==n.kty&&delete n.alg,delete n.use,crypto.subtle.importKey("jwk",n,t,e.ext??(!e.d&&!e.priv),e.key_ops??r)}let t0=async(e,t,r,i=!1)=>{let o=(n||=new WeakMap).get(e);if(o?.[r])return o[r];let a=await tQ({...t,alg:r});return i&&Object.freeze(e),o?o[r]=a:n.set(e,{[r]:a}),a};async function t1(e,t){if(e instanceof Uint8Array||tT(e))return e;if(tk(e)){if("secret"===e.type)return e.export();if("toCryptoKey"in e&&"function"==typeof e.toCryptoKey)try{return((e,t)=>{let r,i=(n||=new WeakMap).get(e);if(i?.[t])return i[t];let o="public"===e.type,a=!!o;if("x25519"===e.asymmetricKeyType){switch(t){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}r=e.toCryptoKey(e.asymmetricKeyType,a,o?[]:["deriveBits"])}if("ed25519"===e.asymmetricKeyType){if("EdDSA"!==t&&"Ed25519"!==t)throw TypeError("given KeyObject instance cannot be used for this algorithm");r=e.toCryptoKey(e.asymmetricKeyType,a,[o?"verify":"sign"])}switch(e.asymmetricKeyType){case"ml-dsa-44":case"ml-dsa-65":case"ml-dsa-87":if(t!==e.asymmetricKeyType.toUpperCase())throw TypeError("given KeyObject instance cannot be used for this algorithm");r=e.toCryptoKey(e.asymmetricKeyType,a,[o?"verify":"sign"])}if("rsa"===e.asymmetricKeyType){let n;switch(t){case"RSA-OAEP":n="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":n="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":n="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":n="SHA-512";break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}if(t.startsWith("RSA-OAEP"))return e.toCryptoKey({name:"RSA-OAEP",hash:n},a,o?["encrypt"]:["decrypt"]);r=e.toCryptoKey({name:t.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:n},a,[o?"verify":"sign"])}if("ec"===e.asymmetricKeyType){let n=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get(e.asymmetricKeyDetails?.namedCurve);if(!n)throw TypeError("given KeyObject instance cannot be used for this algorithm");"ES256"===t&&"P-256"===n&&(r=e.toCryptoKey({name:"ECDSA",namedCurve:n},a,[o?"verify":"sign"])),"ES384"===t&&"P-384"===n&&(r=e.toCryptoKey({name:"ECDSA",namedCurve:n},a,[o?"verify":"sign"])),"ES512"===t&&"P-521"===n&&(r=e.toCryptoKey({name:"ECDSA",namedCurve:n},a,[o?"verify":"sign"])),t.startsWith("ECDH-ES")&&(r=e.toCryptoKey({name:"ECDH",namedCurve:n},a,o?[]:["deriveBits"]))}if(!r)throw TypeError("given KeyObject instance cannot be used for this algorithm");return i?i[t]=r:n.set(e,{[t]:r}),r})(e,t)}catch(e){if(e instanceof TypeError)throw e}let r=e.export({format:"jwk"});return t0(e,r,t)}if(tZ(e))return e.k?ts(e.k):t0(e,e,t,!0);throw Error("unreachable")}function t2(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new tf(`Unsupported JWE Algorithm: ${e}`)}}let t3=e=>crypto.getRandomValues(new Uint8Array(t2(e)>>3));async function t4(e){if(tk(e))if("secret"!==e.type)return e.export({format:"jwk"});else e=e.export();if(e instanceof Uint8Array)return{kty:"oct",k:tc(e)};if(!tT(e))throw TypeError(tx(e,"CryptoKey","KeyObject","Uint8Array"));if(!e.extractable)throw TypeError("non-extractable CryptoKey cannot be exported as a JWK");let{ext:t,key_ops:r,alg:n,use:i,...o}=await crypto.subtle.exportKey("jwk",e);return"AKP"===o.kty&&(o.alg=n),o}async function t8(e){return t4(e)}async function t6(e,t){if(!(e instanceof Uint8Array))throw TypeError("First argument must be a buffer");if(!(t instanceof Uint8Array))throw TypeError("Second argument must be a buffer");let r={name:"HMAC",hash:"SHA-256"},n=await crypto.subtle.generateKey(r,!1,["sign"]),i=new Uint8Array(await crypto.subtle.sign(r,n,e)),o=new Uint8Array(await crypto.subtle.sign(r,n,t)),a=0,s=-1;for(;++s<32;)a|=i[s]^o[s];return 0===a}async function t5(e,t,r,n,i,o){let a,s;if(!(t instanceof Uint8Array))throw TypeError(tx(t,"Uint8Array"));let c=parseInt(e.slice(1,4),10),u=await crypto.subtle.importKey("raw",t.subarray(c>>3),"AES-CBC",!1,["decrypt"]),l=await crypto.subtle.importKey("raw",t.subarray(0,c>>3),{hash:`SHA-${c<<1}`,name:"HMAC"},!1,["sign"]),d=tr(o,n,r,ti(o.length<<3)),p=new Uint8Array((await crypto.subtle.sign("HMAC",l,d)).slice(0,c>>3));try{a=await t6(i,p)}catch{}if(!a)throw new tg;try{s=new Uint8Array(await crypto.subtle.decrypt({iv:n,name:"AES-CBC"},u,r))}catch{}if(!s)throw new tg;return s}async function t9(e,t,r,n,i,o){let a;t instanceof Uint8Array?a=await crypto.subtle.importKey("raw",t,"AES-GCM",!1,["decrypt"]):(tR(t,e,"decrypt"),a=t);try{return new Uint8Array(await crypto.subtle.decrypt({additionalData:o,iv:n,name:"AES-GCM",tagLength:128},a,tr(r,i)))}catch{throw new tg}}async function t7(e,t,r,n,i,o){if(!tT(t)&&!(t instanceof Uint8Array))throw TypeError(tx(t,"CryptoKey","KeyObject","Uint8Array","JSON Web Key"));if(!n)throw new tm("JWE Initialization Vector missing");if(!i)throw new tm("JWE Authentication Tag missing");switch(tv(e,n),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return t instanceof Uint8Array&&tE(t,parseInt(e.slice(-3),10)),t5(e,t,r,n,i,o);case"A128GCM":case"A192GCM":case"A256GCM":return t instanceof Uint8Array&&tE(t,parseInt(e.slice(1,4),10)),t9(e,t,r,n,i,o);default:throw new tf("Unsupported JWE Content Encryption Algorithm")}}async function re(e,t,r,n){let i=e.slice(0,7),o=await tj(i,r,t,n,new Uint8Array);return{encryptedKey:o.ciphertext,iv:tc(o.iv),tag:tc(o.tag)}}async function rt(e,t,r,n,i){return t7(e.slice(0,7),t,r,n,i,new Uint8Array)}async function rr(e,t,r,n,i={}){let o,a,s;switch(e){case"dir":s=r;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let c;if(tO(r),!tK(r))throw new tf("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:u,apv:l}=i;c=i.epk?await t1(i.epk,e):(await crypto.subtle.generateKey(r.algorithm,!0,["deriveBits"])).privateKey;let{x:d,y:p,crv:h,kty:f}=await t8(c),g=await tB(r,c,"ECDH-ES"===e?t:e,"ECDH-ES"===e?t2(t):parseInt(e.slice(-5,-2),10),u,l);if(a={epk:{x:d,crv:h,kty:f}},"EC"===f&&(a.epk.y=p),u&&(a.apu=tc(u)),l&&(a.apv=tc(l)),"ECDH-ES"===e){s=g;break}s=n||t3(t);let m=e.slice(-6);o=await tL(m,g,s);break}case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":s=n||t3(t),tO(r),o=await tz(e,r,s);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{s=n||t3(t);let{p2c:c,p2s:u}=i;({encryptedKey:o,...a}=await tV(e,r,s,c,u));break}case"A128KW":case"A192KW":case"A256KW":s=n||t3(t),o=await tL(e,r,s);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{s=n||t3(t);let{iv:c}=i;({encryptedKey:o,...a}=await re(e,r,s,c));break}default:throw new tf('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:s,encryptedKey:o,parameters:a}}function rn(...e){let t,r=e.filter(Boolean);if(0===r.length||1===r.length)return!0;for(let e of r){let r=Object.keys(e);if(!t||0===t.size){t=new Set(r);continue}for(let e of r){if(t.has(e))return!1;t.add(e)}}return!0}function ri(e,t,r,n,i){let o;if(void 0!==i.crit&&n?.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||void 0===n.crit)return new Set;if(!Array.isArray(n.crit)||0===n.crit.length||n.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let a of(o=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t,n.crit)){if(!o.has(a))throw new tf(`Extension Header Parameter "${a}" is not recognized`);if(void 0===i[a])throw new e(`Extension Header Parameter "${a}" is missing`);if(o.get(a)&&void 0===n[a])throw new e(`Extension Header Parameter "${a}" MUST be integrity protected`)}return new Set(n.crit)}let ro=e=>e?.[Symbol.toStringTag],ra=(e,t,r)=>{if(void 0!==t.use){let e;switch(r){case"sign":case"verify":e="sig";break;case"encrypt":case"decrypt":e="enc"}if(t.use!==e)throw TypeError(`Invalid key for this operation, its "use" must be "${e}" when present`)}if(void 0!==t.alg&&t.alg!==e)throw TypeError(`Invalid key for this operation, its "alg" must be "${e}" when present`);if(Array.isArray(t.key_ops)){let n;switch(!0){case"sign"===r||"verify"===r:case"dir"===e:case e.includes("CBC-HS"):n=r;break;case e.startsWith("PBES2"):n="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(e):n=!e.includes("GCM")&&e.endsWith("KW")?"encrypt"===r?"wrapKey":"unwrapKey":r;break;case"encrypt"===r&&e.startsWith("RSA"):n="wrapKey";break;case"decrypt"===r:n=e.startsWith("RSA")?"unwrapKey":"deriveBits"}if(n&&t.key_ops?.includes?.(n)===!1)throw TypeError(`Invalid key for this operation, its "key_ops" must include "${n}" when present`)}return!0};function rs(e,t,r){switch(e.substring(0,2)){case"A1":case"A2":case"di":case"HS":case"PB":((e,t,r)=>{if(!(t instanceof Uint8Array)){if(tZ(t)){if("oct"===t.kty&&"string"==typeof t.k&&ra(e,t,r))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!tC(t))throw TypeError(tP(e,t,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if("secret"!==t.type)throw TypeError(`${ro(t)} instances for symmetric algorithms must be of type "secret"`)}})(e,t,r);break;default:((e,t,r)=>{if(tZ(t))switch(r){case"decrypt":case"sign":if("oct"!==t.kty&&("AKP"===t.kty&&"string"==typeof t.priv||"string"==typeof t.d)&&ra(e,t,r))return;throw TypeError("JSON Web Key for this operation must be a private JWK");case"encrypt":case"verify":if("oct"!==t.kty&&void 0===t.d&&void 0===t.priv&&ra(e,t,r))return;throw TypeError("JSON Web Key for this operation must be a public JWK")}if(!tC(t))throw TypeError(tP(e,t,"CryptoKey","KeyObject","JSON Web Key"));if("secret"===t.type)throw TypeError(`${ro(t)} instances for asymmetric algorithms must not be of type "secret"`);if("public"===t.type)switch(r){case"sign":throw TypeError(`${ro(t)} instances for asymmetric algorithm signing must be of type "private"`);case"decrypt":throw TypeError(`${ro(t)} instances for asymmetric algorithm decryption must be of type "private"`)}if("private"===t.type)switch(r){case"verify":throw TypeError(`${ro(t)} instances for asymmetric algorithm verifying must be of type "public"`);case"encrypt":throw TypeError(`${ro(t)} instances for asymmetric algorithm encryption must be of type "public"`)}})(e,t,r)}}class rc{#e;#t;#r;#n;#i;#o;#a;#s;constructor(e){if(!(e instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this.#e=e}setKeyManagementParameters(e){if(this.#s)throw TypeError("setKeyManagementParameters can only be called once");return this.#s=e,this}setProtectedHeader(e){if(this.#t)throw TypeError("setProtectedHeader can only be called once");return this.#t=e,this}setSharedUnprotectedHeader(e){if(this.#r)throw TypeError("setSharedUnprotectedHeader can only be called once");return this.#r=e,this}setUnprotectedHeader(e){if(this.#n)throw TypeError("setUnprotectedHeader can only be called once");return this.#n=e,this}setAdditionalAuthenticatedData(e){return this.#i=e,this}setContentEncryptionKey(e){if(this.#o)throw TypeError("setContentEncryptionKey can only be called once");return this.#o=e,this}setInitializationVector(e){if(this.#a)throw TypeError("setInitializationVector can only be called once");return this.#a=e,this}async encrypt(e,t){let r,n,i,o,a,s;if(!this.#t&&!this.#n&&!this.#r)throw new tm("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!rn(this.#t,this.#n,this.#r))throw new tm("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let c={...this.#t,...this.#n,...this.#r};if(ri(tm,new Map,t?.crit,this.#t,c),void 0!==c.zip)throw new tf('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:u,enc:l}=c;if("string"!=typeof u||!u)throw new tm('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof l||!l)throw new tm('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(this.#o&&("dir"===u||"ECDH-ES"===u))throw TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${u}`);rs("dir"===u?l:u,e,"encrypt");{let i,o=await t1(e,u);({cek:n,encryptedKey:r,parameters:i}=await rr(u,l,o,this.#o,this.#s)),i&&(t&&tu in t?this.#n?this.#n={...this.#n,...i}:this.setUnprotectedHeader(i):this.#t?this.#t={...this.#t,...i}:this.setProtectedHeader(i))}if(this.#t?a=ta(o=tc(JSON.stringify(this.#t))):(o="",a=new Uint8Array),this.#i){let e=ta(s=tc(this.#i));i=tr(a,ta("."),e)}else i=a;let{ciphertext:d,tag:p,iv:h}=await tj(l,this.#e,n,this.#a,i),f={ciphertext:tc(d)};return h&&(f.iv=tc(h)),p&&(f.tag=tc(p)),r&&(f.encrypted_key=tc(r)),s&&(f.aad=s),this.#t&&(f.protected=o),this.#r&&(f.unprotected=this.#r),this.#n&&(f.header=this.#n),f}}class ru{#c;constructor(e){this.#c=new rc(e)}setContentEncryptionKey(e){return this.#c.setContentEncryptionKey(e),this}setInitializationVector(e){return this.#c.setInitializationVector(e),this}setProtectedHeader(e){return this.#c.setProtectedHeader(e),this}setKeyManagementParameters(e){return this.#c.setKeyManagementParameters(e),this}async encrypt(e,t){let r=await this.#c.encrypt(e,t);return[r.protected,r.encrypted_key,r.iv,r.ciphertext,r.tag].join(".")}}let rl=e=>Math.floor(e.getTime()/1e3),rd=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i;function rp(e){let t,r=rd.exec(e);if(!r||r[4]&&r[1])throw TypeError("Invalid time period format");let n=parseFloat(r[2]);switch(r[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":t=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":t=Math.round(60*n);break;case"hour":case"hours":case"hr":case"hrs":case"h":t=Math.round(3600*n);break;case"day":case"days":case"d":t=Math.round(86400*n);break;case"week":case"weeks":case"w":t=Math.round(604800*n);break;default:t=Math.round(0x1e187e0*n)}return"-"===r[1]||"ago"===r[4]?-t:t}function rh(e,t){if(!Number.isFinite(t))throw TypeError(`Invalid ${e} input`);return t}let rf=e=>e.includes("/")?e.toLowerCase():`application/${e.toLowerCase()}`;class rg{#u;constructor(e){if(!tY(e))throw TypeError("JWT Claims Set MUST be an object");this.#u=structuredClone(e)}data(){return te.encode(JSON.stringify(this.#u))}get iss(){return this.#u.iss}set iss(e){this.#u.iss=e}get sub(){return this.#u.sub}set sub(e){this.#u.sub=e}get aud(){return this.#u.aud}set aud(e){this.#u.aud=e}set jti(e){this.#u.jti=e}set nbf(e){"number"==typeof e?this.#u.nbf=rh("setNotBefore",e):e instanceof Date?this.#u.nbf=rh("setNotBefore",rl(e)):this.#u.nbf=rl(new Date)+rp(e)}set exp(e){"number"==typeof e?this.#u.exp=rh("setExpirationTime",e):e instanceof Date?this.#u.exp=rh("setExpirationTime",rl(e)):this.#u.exp=rl(new Date)+rp(e)}set iat(e){void 0===e?this.#u.iat=rl(new Date):e instanceof Date?this.#u.iat=rh("setIssuedAt",rl(e)):"string"==typeof e?this.#u.iat=rh("setIssuedAt",rl(new Date)+rp(e)):this.#u.iat=rh("setIssuedAt",e)}}class rm{#o;#a;#s;#t;#l;#d;#p;#h;constructor(e={}){this.#h=new rg(e)}setIssuer(e){return this.#h.iss=e,this}setSubject(e){return this.#h.sub=e,this}setAudience(e){return this.#h.aud=e,this}setJti(e){return this.#h.jti=e,this}setNotBefore(e){return this.#h.nbf=e,this}setExpirationTime(e){return this.#h.exp=e,this}setIssuedAt(e){return this.#h.iat=e,this}setProtectedHeader(e){if(this.#t)throw TypeError("setProtectedHeader can only be called once");return this.#t=e,this}setKeyManagementParameters(e){if(this.#s)throw TypeError("setKeyManagementParameters can only be called once");return this.#s=e,this}setContentEncryptionKey(e){if(this.#o)throw TypeError("setContentEncryptionKey can only be called once");return this.#o=e,this}setInitializationVector(e){if(this.#a)throw TypeError("setInitializationVector can only be called once");return this.#a=e,this}replicateIssuerAsHeader(){return this.#l=!0,this}replicateSubjectAsHeader(){return this.#d=!0,this}replicateAudienceAsHeader(){return this.#p=!0,this}async encrypt(e,t){let r=new ru(this.#h.data());return this.#t&&(this.#l||this.#d||this.#p)&&(this.#t={...this.#t,iss:this.#l?this.#h.iss:void 0,sub:this.#d?this.#h.sub:void 0,aud:this.#p?this.#h.aud:void 0}),r.setProtectedHeader(this.#t),this.#a&&r.setInitializationVector(this.#a),this.#o&&r.setContentEncryptionKey(this.#o),this.#s&&r.setKeyManagementParameters(this.#s),r.encrypt(e,t)}}var ry=e.i(17756),ry=ry;let rb=(e,t)=>{if("string"!=typeof e||!e)throw new tb(`${t} missing or invalid`)};async function r_(e,t){let r,n;if(tZ(e))r=e;else if(tC(e))r=await t8(e);else throw TypeError(tx(e,"CryptoKey","KeyObject","JSON Web Key"));if("sha256"!==(t??="sha256")&&"sha384"!==t&&"sha512"!==t)throw TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');switch(r.kty){case"AKP":rb(r.alg,'"alg" (Algorithm) Parameter'),rb(r.pub,'"pub" (Public key) Parameter'),n={alg:r.alg,kty:r.kty,pub:r.pub};break;case"EC":rb(r.crv,'"crv" (Curve) Parameter'),rb(r.x,'"x" (X Coordinate) Parameter'),rb(r.y,'"y" (Y Coordinate) Parameter'),n={crv:r.crv,kty:r.kty,x:r.x,y:r.y};break;case"OKP":rb(r.crv,'"crv" (Subtype of Key Pair) Parameter'),rb(r.x,'"x" (Public Key) Parameter'),n={crv:r.crv,kty:r.kty,x:r.x};break;case"RSA":rb(r.e,'"e" (Exponent) Parameter'),rb(r.n,'"n" (Modulus) Parameter'),n={e:r.e,kty:r.kty,n:r.n};break;case"oct":rb(r.k,'"k" (Key Value) Parameter'),n={k:r.k,kty:r.kty};break;default:throw new tf('"kty" (Key Type) Parameter missing or unsupported')}let i=ta(JSON.stringify(n));return tc(await t$(t,i))}async function rw(e,t,r){let n;if(!tY(e))throw TypeError("JWK must be an object");switch(t??=e.alg,n??=r?.extractable??e.ext,e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');return ts(e.k);case"RSA":if("oth"in e&&void 0!==e.oth)throw new tf('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');return tQ({...e,alg:t,ext:n});case"AKP":if("string"!=typeof e.alg||!e.alg)throw TypeError('missing "alg" (Algorithm) Parameter value');if(void 0!==t&&t!==e.alg)throw TypeError("JWK alg and alg option value mismatch");return tQ({...e,ext:n});case"EC":case"OKP":return tQ({...e,alg:t,ext:n});default:throw new tf('Unsupported "kty" (Key Type) Parameter value')}}async function rv(e,t,r,n,i){switch(e){case"dir":if(void 0!==r)throw new tm("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(void 0!==r)throw new tm("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let i,o;if(!tY(n.epk))throw new tm('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(tO(t),!tK(t))throw new tf("ECDH with the provided key is not allowed or not supported by your javascript runtime");let a=await rw(n.epk,e);if(tO(a),void 0!==n.apu){if("string"!=typeof n.apu)throw new tm('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{i=ts(n.apu)}catch{throw new tm("Failed to base64url decode the apu")}}if(void 0!==n.apv){if("string"!=typeof n.apv)throw new tm('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{o=ts(n.apv)}catch{throw new tm("Failed to base64url decode the apv")}}let s=await tB(a,t,"ECDH-ES"===e?n.enc:e,"ECDH-ES"===e?t2(n.enc):parseInt(e.slice(-5,-2),10),i,o);if("ECDH-ES"===e)return s;if(void 0===r)throw new tm("JWE Encrypted Key missing");return tM(e.slice(-6),s,r)}case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===r)throw new tm("JWE Encrypted Key missing");return tO(t),tX(e,t,r);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let o;if(void 0===r)throw new tm("JWE Encrypted Key missing");if("number"!=typeof n.p2c)throw new tm('JOSE Header "p2c" (PBES2 Count) missing or invalid');let a=i?.maxPBES2Count||1e4;if(n.p2c>a)throw new tm('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof n.p2s)throw new tm('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{o=ts(n.p2s)}catch{throw new tm("Failed to base64url decode the p2s")}return tF(e,t,r,n.p2c,o)}case"A128KW":case"A192KW":case"A256KW":if(void 0===r)throw new tm("JWE Encrypted Key missing");return tM(e,t,r);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let i,o;if(void 0===r)throw new tm("JWE Encrypted Key missing");if("string"!=typeof n.iv)throw new tm('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof n.tag)throw new tm('JOSE Header "tag" (Authentication Tag) missing or invalid');try{i=ts(n.iv)}catch{throw new tm("Failed to base64url decode the iv")}try{o=ts(n.tag)}catch{throw new tm("Failed to base64url decode the tag")}return rt(e,t,r,i,o)}default:throw new tf('Invalid or unsupported "alg" (JWE Algorithm) header value')}}function rE(e,t){if(void 0!==t&&(!Array.isArray(t)||t.some(e=>"string"!=typeof e)))throw TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)}async function rS(e,t,r){let n,i,o,a,s,c,u;if(!tY(e))throw new tm("Flattened JWE must be an object");if(void 0===e.protected&&void 0===e.header&&void 0===e.unprotected)throw new tm("JOSE Header missing");if(void 0!==e.iv&&"string"!=typeof e.iv)throw new tm("JWE Initialization Vector incorrect type");if("string"!=typeof e.ciphertext)throw new tm("JWE Ciphertext missing or incorrect type");if(void 0!==e.tag&&"string"!=typeof e.tag)throw new tm("JWE Authentication Tag incorrect type");if(void 0!==e.protected&&"string"!=typeof e.protected)throw new tm("JWE Protected Header incorrect type");if(void 0!==e.encrypted_key&&"string"!=typeof e.encrypted_key)throw new tm("JWE Encrypted Key incorrect type");if(void 0!==e.aad&&"string"!=typeof e.aad)throw new tm("JWE AAD incorrect type");if(void 0!==e.header&&!tY(e.header))throw new tm("JWE Shared Unprotected Header incorrect type");if(void 0!==e.unprotected&&!tY(e.unprotected))throw new tm("JWE Per-Recipient Unprotected Header incorrect type");if(e.protected)try{let t=ts(e.protected);n=JSON.parse(tt.decode(t))}catch{throw new tm("JWE Protected Header is invalid")}if(!rn(n,e.header,e.unprotected))throw new tm("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let l={...n,...e.header,...e.unprotected};if(ri(tm,new Map,r?.crit,n,l),void 0!==l.zip)throw new tf('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:d,enc:p}=l;if("string"!=typeof d||!d)throw new tm("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof p||!p)throw new tm("missing JWE Encryption Algorithm (enc) in JWE Header");let h=r&&rE("keyManagementAlgorithms",r.keyManagementAlgorithms),f=r&&rE("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms);if(h&&!h.has(d)||!h&&d.startsWith("PBES2"))throw new th('"alg" (Algorithm) Header Parameter value not allowed');if(f&&!f.has(p))throw new th('"enc" (Encryption Algorithm) Header Parameter value not allowed');if(void 0!==e.encrypted_key)try{i=ts(e.encrypted_key)}catch{throw new tm("Failed to base64url decode the encrypted_key")}let g=!1;"function"==typeof t&&(t=await t(n,e),g=!0),rs("dir"===d?p:d,t,"decrypt");let m=await t1(t,d);try{o=await rv(d,m,i,l,r)}catch(e){if(e instanceof TypeError||e instanceof tm||e instanceof tf)throw e;o=t3(p)}if(void 0!==e.iv)try{a=ts(e.iv)}catch{throw new tm("Failed to base64url decode the iv")}if(void 0!==e.tag)try{s=ts(e.tag)}catch{throw new tm("Failed to base64url decode the tag")}let y=void 0!==e.protected?ta(e.protected):new Uint8Array;c=void 0!==e.aad?tr(y,ta("."),ta(e.aad)):y;try{u=ts(e.ciphertext)}catch{throw new tm("Failed to base64url decode the ciphertext")}let b={plaintext:await t7(p,o,u,a,s,c)};if(void 0!==e.protected&&(b.protectedHeader=n),void 0!==e.aad)try{b.additionalAuthenticatedData=ts(e.aad)}catch{throw new tm("Failed to base64url decode the aad")}return(void 0!==e.unprotected&&(b.sharedUnprotectedHeader=e.unprotected),void 0!==e.header&&(b.unprotectedHeader=e.header),g)?{...b,key:m}:b}async function rR(e,t,r){if(e instanceof Uint8Array&&(e=tt.decode(e)),"string"!=typeof e)throw new tm("Compact JWE must be a string or Uint8Array");let{0:n,1:i,2:o,3:a,4:s,length:c}=e.split(".");if(5!==c)throw new tm("Invalid Compact JWE");let u=await rS({ciphertext:a,iv:o||void 0,protected:n,tag:s||void 0,encrypted_key:i||void 0},t,r),l={plaintext:u.plaintext,protectedHeader:u.protectedHeader};return"function"==typeof t?{...l,key:u.key}:l}async function rA(e,t,r){let n=await rR(e,t,r),i=function(e,t,r={}){var n,i;let o,a;try{o=JSON.parse(tt.decode(t))}catch{}if(!tY(o))throw new ty("JWT Claims Set must be a top-level JSON object");let{typ:s}=r;if(s&&("string"!=typeof e.typ||rf(e.typ)!==rf(s)))throw new td('unexpected "typ" JWT header value',o,"typ","check_failed");let{requiredClaims:c=[],issuer:u,subject:l,audience:d,maxTokenAge:p}=r,h=[...c];for(let e of(void 0!==p&&h.push("iat"),void 0!==d&&h.push("aud"),void 0!==l&&h.push("sub"),void 0!==u&&h.push("iss"),new Set(h.reverse())))if(!(e in o))throw new td(`missing required "${e}" claim`,o,e,"missing");if(u&&!(Array.isArray(u)?u:[u]).includes(o.iss))throw new td('unexpected "iss" claim value',o,"iss","check_failed");if(l&&o.sub!==l)throw new td('unexpected "sub" claim value',o,"sub","check_failed");if(d&&(n=o.aud,i="string"==typeof d?[d]:d,"string"==typeof n?!i.includes(n):!(Array.isArray(n)&&i.some(Set.prototype.has.bind(new Set(n))))))throw new td('unexpected "aud" claim value',o,"aud","check_failed");switch(typeof r.clockTolerance){case"string":a=rp(r.clockTolerance);break;case"number":a=r.clockTolerance;break;case"undefined":a=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:f}=r,g=rl(f||new Date);if((void 0!==o.iat||p)&&"number"!=typeof o.iat)throw new td('"iat" claim must be a number',o,"iat","invalid");if(void 0!==o.nbf){if("number"!=typeof o.nbf)throw new td('"nbf" claim must be a number',o,"nbf","invalid");if(o.nbf>g+a)throw new td('"nbf" claim timestamp check failed',o,"nbf","check_failed")}if(void 0!==o.exp){if("number"!=typeof o.exp)throw new td('"exp" claim must be a number',o,"exp","invalid");if(o.exp<=g-a)throw new tp('"exp" claim timestamp check failed',o,"exp","check_failed")}if(p){let e=g-o.iat;if(e-a>("number"==typeof p?p:rp(p)))throw new tp('"iat" claim timestamp check failed (too far in the past)',o,"iat","check_failed");if(e<0-a)throw new td('"iat" claim timestamp check failed (it should be in the past)',o,"iat","check_failed")}return o}(n.protectedHeader,n.plaintext,r),{protectedHeader:o}=n;if(void 0!==o.iss&&o.iss!==i.iss)throw new td('replicated "iss" claim header parameter mismatch',i,"iss","mismatch");if(void 0!==o.sub&&o.sub!==i.sub)throw new td('replicated "sub" claim header parameter mismatch',i,"sub","mismatch");if(void 0!==o.aud&&JSON.stringify(o.aud)!==JSON.stringify(i.aud))throw new td('replicated "aud" claim header parameter mismatch',i,"aud","mismatch");let a={payload:i,protectedHeader:o};return"function"==typeof t?{...a,key:n.key}:a}let rx=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,rP=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,rO=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,rT=/^[\u0020-\u003A\u003D-\u007E]*$/,rk=Object.prototype.toString,rC=((c=function(){}).prototype=Object.create(null),c);function rI(e,t){let r=new rC,n=e.length;if(n<2)return r;let i=t?.decode||rU,o=0;do{let t=e.indexOf("=",o);if(-1===t)break;let a=e.indexOf(";",o),s=-1===a?n:a;if(t>s){o=e.lastIndexOf(";",t-1)+1;continue}let c=rN(e,o,t),u=rj(e,t,c),l=e.slice(c,u);if(void 0===r[l]){let n=rN(e,t+1,s),o=rj(e,s,n),a=i(e.slice(n,o));r[l]=a}o=s+1}while(o<n)return r}function rN(e,t,r){do{let r=e.charCodeAt(t);if(32!==r&&9!==r)return t}while(++t<r)return r}function rj(e,t,r){for(;t>r;){let r=e.charCodeAt(--t);if(32!==r&&9!==r)return t+1}return r}function rD(e,t,r){let n=r?.encode||encodeURIComponent;if(!rx.test(e))throw TypeError(`argument name is invalid: ${e}`);let i=n(t);if(!rP.test(i))throw TypeError(`argument val is invalid: ${t}`);let o=e+"="+i;if(!r)return o;if(void 0!==r.maxAge){if(!Number.isInteger(r.maxAge))throw TypeError(`option maxAge is invalid: ${r.maxAge}`);o+="; Max-Age="+r.maxAge}if(r.domain){if(!rO.test(r.domain))throw TypeError(`option domain is invalid: ${r.domain}`);o+="; Domain="+r.domain}if(r.path){if(!rT.test(r.path))throw TypeError(`option path is invalid: ${r.path}`);o+="; Path="+r.path}if(r.expires){var a;if(a=r.expires,"[object Date]"!==rk.call(a)||!Number.isFinite(r.expires.valueOf()))throw TypeError(`option expires is invalid: ${r.expires}`);o+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.partitioned&&(o+="; Partitioned"),r.priority)switch("string"==typeof r.priority?r.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw TypeError(`option sameSite is invalid: ${r.sameSite}`)}return o}function rU(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}e.s(["parse",()=>rI,"serialize",()=>rD],60225);var rL=e.i(60225);let{parse:rM}=rL,r$="A256CBC-HS512";async function rH(e){let{token:t={},secret:r,maxAge:n=2592e3,salt:i}=e,o=Array.isArray(r)?r:[r],a=await rB(r$,o[0],i),s=await r_({kty:"oct",k:ry.encode(a)},`sha${a.byteLength<<3}`);return await new rm(t).setProtectedHeader({alg:"dir",enc:r$,kid:s}).setIssuedAt().setExpirationTime((Date.now()/1e3|0)+n).setJti(crypto.randomUUID()).encrypt(a)}async function rW(e){let{token:t,secret:r,salt:n}=e,i=Array.isArray(r)?r:[r];if(!t)return null;let{payload:o}=await rA(t,async({kid:e,enc:t})=>{for(let r of i){let i=await rB(t,r,n);if(void 0===e||e===await r_({kty:"oct",k:ry.encode(i)},`sha${i.byteLength<<3}`))return i}throw Error("no matching decryption secret")},{clockTolerance:15,keyManagementAlgorithms:["dir"],contentEncryptionAlgorithms:[r$,"A256GCM"]});return o}async function rB(e,t,r){let n;switch(e){case"A256CBC-HS512":n=64;break;case"A256GCM":n=32;break;default:throw Error("Unsupported JWT Content Encryption Algorithm")}return await e7("sha256",t,r,`Auth.js Generated Encryption Key (${r})`,n)}async function rK({options:e,paramValue:t,cookieValue:r}){let{url:n,callbacks:i}=e,o=n.origin;return t?o=await i.redirect({url:t,baseUrl:n.origin}):r&&(o=await i.redirect({url:r,baseUrl:n.origin})),{callbackUrl:o,callbackUrlCookie:o!==r?o:void 0}}let rq="\x1b[31m",rV="\x1b[0m",rF={error(e){let t=e instanceof e_?e.type:e.name;if(console.error(`${rq}[auth][error]${rV} ${t}: ${e.message}`),e.cause&&"object"==typeof e.cause&&"err"in e.cause&&e.cause.err instanceof Error){let{err:t,...r}=e.cause;console.error(`${rq}[auth][cause]${rV}:`,t.stack),r&&console.error(`${rq}[auth][details]${rV}:`,JSON.stringify(r,null,2))}else e.stack&&console.error(e.stack.replace(/.*/,"").substring(1))},warn(e){console.warn(`\x1b[33m[auth][warn][${e}]${rV}`,"Read more: https://warnings.authjs.dev")},debug(e,t){console.log(`\x1b[90m[auth][debug]:${rV} ${e}`,JSON.stringify(t,null,2))}};function rG(e){let t={...rF};return e.debug||(t.debug=()=>{}),e.logger?.error&&(t.error=e.logger.error),e.logger?.warn&&(t.warn=e.logger.warn),e.logger?.debug&&(t.debug=e.logger.debug),e.logger??(e.logger=t),t}let rJ=["providers","session","csrf","signin","signout","callback","verify-request","error","webauthn-options"],{parse:rz,serialize:rX}=rL;async function rY(e){if(!("body"in e)||!e.body||"POST"!==e.method)return;let t=e.headers.get("content-type");return t?.includes("application/json")?await e.json():t?.includes("application/x-www-form-urlencoded")?Object.fromEntries(new URLSearchParams(await e.text())):void 0}async function rZ(e,t){try{if("GET"!==e.method&&"POST"!==e.method)throw new eH("Only GET and POST requests are supported");t.basePath??(t.basePath="/auth");let r=new URL(e.url),{action:n,providerId:i}=function(e,t){let r=e.match(RegExp(`^${t}(.+)`));if(null===r)throw new eH(`Cannot parse action at ${e}`);let n=r.at(-1).replace(/^\//,"").split("/").filter(Boolean);if(1!==n.length&&2!==n.length)throw new eH(`Cannot parse action at ${e}`);let[i,o]=n;if(!rJ.includes(i)||o&&!["signin","callback","webauthn-options"].includes(i))throw new eH(`Cannot parse action at ${e}`);return{action:i,providerId:"undefined"==o?void 0:o}}(r.pathname,t.basePath);return{url:r,action:n,providerId:i,method:e.method,headers:Object.fromEntries(e.headers),body:e.body?await rY(e):void 0,cookies:rz(e.headers.get("cookie")??"")??{},error:r.searchParams.get("error")??void 0,query:Object.fromEntries(r.searchParams)}}catch(n){let r=rG(t);r.error(n),r.debug("request",e)}}function rQ(e){let t=new Headers(e.headers);e.cookies?.forEach(e=>{let{name:r,value:n,options:i}=e,o=rX(r,n,i);t.has("Set-Cookie")?t.append("Set-Cookie",o):t.set("Set-Cookie",o)});let r=e.body;"application/json"===t.get("content-type")?r=JSON.stringify(e.body):"application/x-www-form-urlencoded"===t.get("content-type")&&(r=new URLSearchParams(e.body).toString());let n=new Response(r,{headers:t,status:e.redirect?302:e.status??200});return e.redirect&&n.headers.set("Location",e.redirect),n}async function r0(e){let t=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>e.toString(16).padStart(2,"0")).join("").toString()}function r1(e){return Array.from(crypto.getRandomValues(new Uint8Array(e))).reduce((e,t)=>e+("0"+t.toString(16)).slice(-2),"")}async function r2({options:e,cookieValue:t,isPost:r,bodyValue:n}){if(t){let[i,o]=t.split("|");if(o===await r0(`${i}${e.secret}`))return{csrfTokenVerified:r&&i===n,csrfToken:i}}let i=r1(32),o=await r0(`${i}${e.secret}`);return{cookie:`${i}|${o}`,csrfToken:i}}function r3(e,t){if(!t)throw new eV(`CSRF token was missing during an action ${e}`)}function r4(e){return null!==e&&"object"==typeof e}function r8(e,...t){if(!t.length)return e;let r=t.shift();if(r4(e)&&r4(r))for(let t in r)r4(r[t])?(r4(e[t])||(e[t]=Array.isArray(r[t])?[]:{}),r8(e[t],r[t])):void 0!==r[t]&&(e[t]=r[t]);return r8(e,...t)}let r6=Symbol("skip-csrf-check"),r5=Symbol("return-type-raw"),r9=Symbol("custom-fetch"),r7=Symbol("conform-internal"),ne=e=>nr({id:e.sub??e.id??crypto.randomUUID(),name:e.name??e.nickname??e.preferred_username,email:e.email,image:e.picture}),nt=e=>nr({access_token:e.access_token,id_token:e.id_token,refresh_token:e.refresh_token,expires_at:e.expires_at,scope:e.scope,token_type:e.token_type,session_state:e.session_state});function nr(e){let t={};for(let[r,n]of Object.entries(e))void 0!==n&&(t[r]=n);return t}function nn(e,t){if(!e&&t)return;if("string"==typeof e)return{url:new URL(e)};let r=new URL(e?.url??"https://authjs.dev");if(e?.params!=null)for(let[t,n]of Object.entries(e.params))"claims"===t&&(n=JSON.stringify(n)),r.searchParams.set(t,String(n));return{url:r,request:e?.request,conform:e?.conform,...e?.clientPrivateKey?{clientPrivateKey:e?.clientPrivateKey}:null}}let ni={signIn:()=>!0,redirect:({url:e,baseUrl:t})=>e.startsWith("/")?`${t}${e}`:new URL(e).origin===t?e:t,session:({session:e})=>({user:{name:e.user?.name,email:e.user?.email,image:e.user?.image},expires:e.expires?.toISOString?.()??e.expires}),jwt:({token:e})=>e};async function no({authOptions:e,providerId:t,action:r,url:n,cookies:i,callbackUrl:o,csrfToken:a,csrfDisabled:s,isPost:c}){var u,l;let d=rG(e),{providers:p,provider:h}=function(e){let{providerId:t,config:r}=e,n=new URL(r.basePath??"/auth",e.url.origin),i=r.providers.map(e=>{let t="function"==typeof e?e():e,{options:i,...o}=t,a=i?.id??o.id,s=r8(o,i,{signinUrl:`${n}/signin/${a}`,callbackUrl:`${n}/callback/${a}`});if("oauth"===t.type||"oidc"===t.type){var c;let e,t,n,o;s.redirectProxyUrl??(s.redirectProxyUrl=i?.redirectProxyUrl??r.redirectProxyUrl);let a=((c=s).issuer&&(c.wellKnown??(c.wellKnown=`${c.issuer}/.well-known/openid-configuration`)),(e=nn(c.authorization,c.issuer))&&!e.url?.searchParams.has("scope")&&e.url.searchParams.set("scope","openid profile email"),t=nn(c.token,c.issuer),n=nn(c.userinfo,c.issuer),o=c.checks??["pkce"],c.redirectProxyUrl&&(o.includes("state")||o.push("state"),c.redirectProxyUrl=`${c.redirectProxyUrl}/callback/${c.id}`),{...c,authorization:e,token:t,checks:o,userinfo:n,profile:c.profile??ne,account:c.account??nt});return a.authorization?.url.searchParams.get("response_mode")==="form_post"&&delete a.redirectProxyUrl,a[r9]??(a[r9]=i?.[r9]),a}return s}),o=i.find(({id:e})=>e===t);if(t&&!o){let e=i.map(e=>e.id).join(", ");throw Error(`Provider with id "${t}" not found. Available providers: [${e}].`)}return{providers:i,provider:o}}({url:n,providerId:t,config:e}),f=!1;if((h?.type==="oauth"||h?.type==="oidc")&&h.redirectProxyUrl)try{f=new URL(h.redirectProxyUrl).origin===n.origin}catch{throw TypeError(`redirectProxyUrl must be a valid URL. Received: ${h.redirectProxyUrl}`)}let g={debug:!1,pages:{},theme:{colorScheme:"auto",logo:"",brandColor:"",buttonText:""},...e,url:n,action:r,provider:h,cookies:r8(ey(e.useSecureCookies??"https:"===n.protocol),e.cookies),providers:p,session:{strategy:e.adapter?"database":"jwt",maxAge:2592e3,updateAge:86400,generateSessionToken:()=>crypto.randomUUID(),...e.session},jwt:{secret:e.secret,maxAge:e.session?.maxAge??2592e3,encode:rH,decode:rW,...e.jwt},events:(u=e.events??{},l=d,Object.keys(u).reduce((e,t)=>(e[t]=async(...e)=>{try{let r=u[t];return await r(...e)}catch(e){l.error(new eA(e))}},e),{})),adapter:function(e,t){if(e)return Object.keys(e).reduce((r,n)=>(r[n]=async(...r)=>{try{t.debug(`adapter_${n}`,{args:r});let i=e[n];return await i(...r)}catch(r){let e=new ev(r);throw t.error(e),e}},r),{})}(e.adapter,d),callbacks:{...ni,...e.callbacks},logger:d,callbackUrl:n.origin,isOnRedirectProxy:f,experimental:{...e.experimental}},m=[];if(s)g.csrfTokenVerified=!0;else{let{csrfToken:e,cookie:t,csrfTokenVerified:r}=await r2({options:g,cookieValue:i?.[g.cookies.csrfToken.name],isPost:c,bodyValue:a});g.csrfToken=e,g.csrfTokenVerified=r,t&&m.push({name:g.cookies.csrfToken.name,value:t,options:g.cookies.csrfToken.options})}let{callbackUrl:y,callbackUrlCookie:b}=await rK({options:g,cookieValue:i?.[g.cookies.callbackUrl.name],paramValue:o});return g.callbackUrl=y,b&&m.push({name:g.cookies.callbackUrl.name,value:b,options:g.cookies.callbackUrl.options}),{options:g,cookies:m}}var na,ns,nc,nu,nl,nd,np,nh,nf,ng,nm,ny,nb,n_,nw,nv,nE,nS,nR,nA,nx,nP,nO,nT,nk,nC,nI,nN,nj={},nD=[],nU=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,nL=Array.isArray;function nM(e,t){for(var r in t)e[r]=t[r];return e}function n$(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function nH(e,t,r,n,i){var o={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==i?++nx:i,__i:-1,__u:0};return null==i&&null!=nA.vnode&&nA.vnode(o),o}function nW(e){return e.children}function nB(e,t){this.props=e,this.context=t}function nK(e,t){if(null==t)return e.__?nK(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?nK(e):null}function nq(e){(!e.__d&&(e.__d=!0)&&nP.push(e)&&!nV.__r++||nO!==nA.debounceRendering)&&((nO=nA.debounceRendering)||nT)(nV)}function nV(){var e,t,r,n,i,o,a,s;for(nP.sort(nk);e=nP.shift();)e.__d&&(t=nP.length,n=void 0,o=(i=(r=e).__v).__e,a=[],s=[],r.__P&&((n=nM({},i)).__v=i.__v+1,nA.vnode&&nA.vnode(n),nX(r.__P,n,i,r.__n,r.__P.namespaceURI,32&i.__u?[o]:null,a,null==o?nK(i):o,!!(32&i.__u),s),n.__v=i.__v,n.__.__k[n.__i]=n,function(e,t,r){t.__d=void 0;for(var n=0;n<r.length;n++)nY(r[n],r[++n],r[++n]);nA.__c&&nA.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){nA.__e(e,t.__v)}})}(a,n,s),n.__e!=o&&function e(t){var r,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,r=0;r<t.__k.length;r++)if(null!=(n=t.__k[r])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return e(t)}}(n)),nP.length>t&&nP.sort(nk));nV.__r=0}function nF(e,t,r,n,i,o,a,s,c,u,l){var d,p,h,f,g,m=n&&n.__k||nD,y=t.length;for(r.__d=c,function(e,t,r){var n,i,o,a,s,c=t.length,u=r.length,l=u,d=0;for(e.__k=[],n=0;n<c;n++)null!=(i=t[n])&&"boolean"!=typeof i&&"function"!=typeof i?(a=n+d,(i=e.__k[n]="string"==typeof i||"number"==typeof i||"bigint"==typeof i||i.constructor==String?nH(null,i,null,null,null):nL(i)?nH(nW,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?nH(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=e,i.__b=e.__b+1,o=null,-1!==(s=i.__i=function(e,t,r,n){var i=e.key,o=e.type,a=r-1,s=r+1,c=t[r];if(null===c||c&&i==c.key&&o===c.type&&0==(131072&c.__u))return r;if(n>+(null!=c&&0==(131072&c.__u)))for(;a>=0||s<t.length;){if(a>=0){if((c=t[a])&&0==(131072&c.__u)&&i==c.key&&o===c.type)return a;a--}if(s<t.length){if((c=t[s])&&0==(131072&c.__u)&&i==c.key&&o===c.type)return s;s++}}return -1}(i,r,a,l))&&(l--,(o=r[s])&&(o.__u|=131072)),null==o||null===o.__v?(-1==s&&d--,"function"!=typeof i.type&&(i.__u|=65536)):s!==a&&(s==a-1?d--:s==a+1?d++:(s>a?d--:d++,i.__u|=65536))):i=e.__k[n]=null;if(l)for(n=0;n<u;n++)null!=(o=r[n])&&0==(131072&o.__u)&&(o.__e==e.__d&&(e.__d=nK(o)),function e(t,r,n){var i,o;if(nA.unmount&&nA.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||nY(i,null,r)),null!=(i=t.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){nA.__e(e,r)}i.base=i.__P=null}if(i=t.__k)for(o=0;o<i.length;o++)i[o]&&e(i[o],r,n||"function"!=typeof t.type);n||n$(t.__e),t.__c=t.__=t.__e=t.__d=void 0}(o,o))}(r,t,m),c=r.__d,d=0;d<y;d++)null!=(h=r.__k[d])&&(p=-1===h.__i?nj:m[h.__i]||nj,h.__i=d,nX(e,h,p,i,o,a,s,c,u,l),f=h.__e,h.ref&&p.ref!=h.ref&&(p.ref&&nY(p.ref,null,h),l.push(h.ref,h.__c||f,h)),null==g&&null!=f&&(g=f),65536&h.__u||p.__k===h.__k?c=function e(t,r,n){var i,o;if("function"==typeof t.type){for(i=t.__k,o=0;i&&o<i.length;o++)i[o]&&(i[o].__=t,r=e(i[o],r,n));return r}t.__e!=r&&(r&&t.type&&!n.contains(r)&&(r=nK(t)),n.insertBefore(t.__e,r||null),r=t.__e);do r=r&&r.nextSibling;while(null!=r&&8===r.nodeType)return r}(h,c,e):"function"==typeof h.type&&void 0!==h.__d?c=h.__d:f&&(c=f.nextSibling),h.__d=void 0,h.__u&=-196609);r.__d=c,r.__e=g}function nG(e,t,r){"-"===t[0]?e.setProperty(t,null==r?"":r):e[t]=null==r?"":"number"!=typeof r||nU.test(t)?r:r+"px"}function nJ(e,t,r,n,i){var o;e:if("style"===t)if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||nG(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||nG(e.style,t,r[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||"onFocusOut"===t||"onFocusIn"===t?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=r,r?n?r.u=n.u:(r.u=nC,e.addEventListener(t,o?nN:nI,o)):e.removeEventListener(t,o?nN:nI,o);else{if("http://www.w3.org/2000/svg"==i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==r?"":r;break e}catch(e){}"function"==typeof r||(null==r||!1===r&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==r?"":r))}}function nz(e){return function(t){if(this.l){var r=this.l[t.type+e];if(null==t.t)t.t=nC++;else if(t.t<r.u)return;return r(nA.event?nA.event(t):t)}}}function nX(e,t,r,n,i,o,a,s,c,u){var l,d,p,h,f,g,m,y,b,_,w,v,E,S,R,A,x=t.type;if(void 0!==t.constructor)return null;128&r.__u&&(c=!!(32&r.__u),o=[s=t.__e=r.__e]),(l=nA.__b)&&l(t);e:if("function"==typeof x)try{if(y=t.props,b="prototype"in x&&x.prototype.render,_=(l=x.contextType)&&n[l.__c],w=l?_?_.props.value:l.__:n,r.__c?m=(d=t.__c=r.__c).__=d.__E:(b?t.__c=d=new x(y,w):(t.__c=d=new nB(y,w),d.constructor=x,d.render=nZ),_&&_.sub(d),d.props=y,d.state||(d.state={}),d.context=w,d.__n=n,p=d.__d=!0,d.__h=[],d._sb=[]),b&&null==d.__s&&(d.__s=d.state),b&&null!=x.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=nM({},d.__s)),nM(d.__s,x.getDerivedStateFromProps(y,d.__s))),h=d.props,f=d.state,d.__v=t,p)b&&null==x.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),b&&null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(b&&null==x.getDerivedStateFromProps&&y!==h&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(y,w),!d.__e&&(null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(y,d.__s,w)||t.__v===r.__v)){for(t.__v!==r.__v&&(d.props=y,d.state=d.__s,d.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.some(function(e){e&&(e.__=t)}),v=0;v<d._sb.length;v++)d.__h.push(d._sb[v]);d._sb=[],d.__h.length&&a.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(y,d.__s,w),b&&null!=d.componentDidUpdate&&d.__h.push(function(){d.componentDidUpdate(h,f,g)})}if(d.context=w,d.props=y,d.__P=e,d.__e=!1,E=nA.__r,S=0,b){for(d.state=d.__s,d.__d=!1,E&&E(t),l=d.render(d.props,d.state,d.context),R=0;R<d._sb.length;R++)d.__h.push(d._sb[R]);d._sb=[]}else do d.__d=!1,E&&E(t),l=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++S<25)d.state=d.__s,null!=d.getChildContext&&(n=nM(nM({},n),d.getChildContext())),b&&!p&&null!=d.getSnapshotBeforeUpdate&&(g=d.getSnapshotBeforeUpdate(h,f)),nF(e,nL(A=null!=l&&l.type===nW&&null==l.key?l.props.children:l)?A:[A],t,r,n,i,o,a,s,c,u),d.base=t.__e,t.__u&=-161,d.__h.length&&a.push(d),m&&(d.__E=d.__=null)}catch(e){if(t.__v=null,c||null!=o){for(t.__u|=c?160:128;s&&8===s.nodeType&&s.nextSibling;)s=s.nextSibling;o[o.indexOf(s)]=null,t.__e=s}else t.__e=r.__e,t.__k=r.__k;nA.__e(e,t,r)}else null==o&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=function(e,t,r,n,i,o,a,s,c){var u,l,d,p,h,f,g,m=r.props,y=t.props,b=t.type;if("svg"===b?i="http://www.w3.org/2000/svg":"math"===b?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),null!=o){for(u=0;u<o.length;u++)if((h=o[u])&&"setAttribute"in h==!!b&&(b?h.localName===b:3===h.nodeType)){e=h,o[u]=null;break}}if(null==e){if(null===b)return document.createTextNode(y);e=document.createElementNS(i,b,y.is&&y),s&&(nA.__m&&nA.__m(t,o),s=!1),o=null}if(null===b)m===y||s&&e.data===y||(e.data=y);else{if(o=o&&nR.call(e.childNodes),m=r.props||nj,!s&&null!=o)for(m={},u=0;u<e.attributes.length;u++)m[(h=e.attributes[u]).name]=h.value;for(u in m)if(h=m[u],"children"==u);else if("dangerouslySetInnerHTML"==u)d=h;else if(!(u in y)){if("value"==u&&"defaultValue"in y||"checked"==u&&"defaultChecked"in y)continue;nJ(e,u,null,h,i)}for(u in y)h=y[u],"children"==u?p=h:"dangerouslySetInnerHTML"==u?l=h:"value"==u?f=h:"checked"==u?g=h:s&&"function"!=typeof h||m[u]===h||nJ(e,u,h,m[u],i);if(l)s||d&&(l.__html===d.__html||l.__html===e.innerHTML)||(e.innerHTML=l.__html),t.__k=[];else if(d&&(e.innerHTML=""),nF(e,nL(p)?p:[p],t,r,n,"foreignObject"===b?"http://www.w3.org/1999/xhtml":i,o,a,o?o[0]:r.__k&&nK(r,0),s,c),null!=o)for(u=o.length;u--;)n$(o[u]);s||(u="value","progress"===b&&null==f?e.removeAttribute("value"):void 0===f||f===e[u]&&("progress"!==b||f)&&("option"!==b||f===m[u])||nJ(e,u,f,m[u],i),u="checked",void 0!==g&&g!==e[u]&&nJ(e,u,g,m[u],i))}return e}(r.__e,t,r,n,i,o,a,c,u);(l=nA.diffed)&&l(t)}function nY(e,t,r){try{if("function"==typeof e){var n="function"==typeof e.__u;n&&e.__u(),n&&null==t||(e.__u=e(t))}else e.current=t}catch(e){nA.__e(e,r)}}function nZ(e,t,r){return this.constructor(e,r)}nR=nD.slice,nA={__e:function(e,t,r,n){for(var i,o,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(e)),a=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,n||{}),a=i.__d),a)return i.__E=i}catch(t){e=t}throw e}},nx=0,nB.prototype.setState=function(e,t){var r;r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=nM({},this.state),"function"==typeof e&&(e=e(nM({},r),this.props)),e&&nM(r,e),null!=e&&this.__v&&(t&&this._sb.push(t),nq(this))},nB.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),nq(this))},nB.prototype.render=nW,nP=[],nT="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,nk=function(e,t){return e.__v.__b-t.__v.__b},nV.__r=0,nC=0,nI=nz(!1),nN=nz(!0);var nQ=/[\s\n\\/='"\0<>]/,n0=/^(xlink|xmlns|xml)([A-Z])/,n1=/^accessK|^auto[A-Z]|^cell|^ch|^col|cont|cross|dateT|encT|form[A-Z]|frame|hrefL|inputM|maxL|minL|noV|playsI|popoverT|readO|rowS|src[A-Z]|tabI|useM|item[A-Z]/,n2=/^ac|^ali|arabic|basel|cap|clipPath$|clipRule$|color|dominant|enable|fill|flood|font|glyph[^R]|horiz|image|letter|lighting|marker[^WUH]|overline|panose|pointe|paint|rendering|shape|stop|strikethrough|stroke|text[^L]|transform|underline|unicode|units|^v[^i]|^w|^xH/,n3=new Set(["draggable","spellcheck"]),n4=/["&<]/;function n8(e){if(0===e.length||!1===n4.test(e))return e;for(var t=0,r=0,n="",i="";r<e.length;r++){switch(e.charCodeAt(r)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 60:i="&lt;";break;default:continue}r!==t&&(n+=e.slice(t,r)),n+=i,t=r+1}return r!==t&&(n+=e.slice(t,r)),n}var n6={},n5=new Set(["animation-iteration-count","border-image-outset","border-image-slice","border-image-width","box-flex","box-flex-group","box-ordinal-group","column-count","fill-opacity","flex","flex-grow","flex-negative","flex-order","flex-positive","flex-shrink","flood-opacity","font-weight","grid-column","grid-row","line-clamp","line-height","opacity","order","orphans","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","widows","z-index","zoom"]),n9=/[A-Z]/g;function n7(){this.__d=!0}function ie(e,t,r){if(!e.s){if(r instanceof ia){if(!r.s)return void(r.o=ie.bind(null,e,t));1&t&&(t=r.s),r=r.v}if(r&&r.then)return void r.then(ie.bind(null,e,t),ie.bind(null,e,2));e.s=t,e.v=r;let n=e.o;n&&n(e)}}var it,ir,ii,io,ia=function(){function e(){}return e.prototype.then=function(t,r){var n=new e,i=this.s;if(i){var o=1&i?t:r;if(o){try{ie(n,1,o(this.v))}catch(e){ie(n,2,e)}return n}return this}return this.o=function(e){try{var i=e.v;1&e.s?ie(n,1,t?t(i):i):r?ie(n,1,r(i)):ie(n,2,i)}catch(e){ie(n,2,e)}},n},e}(),is={},ic=[],iu=Array.isArray,il=Object.assign;function id(e,t){var r,n=e.type,i=!0;return e.__c?(i=!1,(r=e.__c).state=r.__s):r=new n(e.props,t),e.__c=r,r.__v=e,r.props=e.props,r.context=t,r.__d=!0,null==r.state&&(r.state=is),null==r.__s&&(r.__s=r.state),n.getDerivedStateFromProps?r.state=il({},r.state,n.getDerivedStateFromProps(r.props,r.state)):i&&r.componentWillMount?(r.componentWillMount(),r.state=r.__s!==r.state?r.__s:r.state):!i&&r.componentWillUpdate&&r.componentWillUpdate(),ii&&ii(e),r.render(r.props,r.state,t)}var ip=new Set(["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]),ih=0;function ig(e,t,r,n,i,o){t||(t={});var a,s,c=t;"ref"in t&&(a=t.ref,delete t.ref);var u={type:e,props:c,key:r,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--ih,__i:-1,__u:0,__source:i,__self:o};if("function"==typeof e&&(a=e.defaultProps))for(s in a)void 0===c[s]&&(c[s]=a[s]);return nA.vnode&&nA.vnode(u),u}async function im(e,t){let r=window.SimpleWebAuthnBrowser;async function n(r){let n=new URL(`${e}/webauthn-options/${t}`);r&&n.searchParams.append("action",r),o().forEach(e=>{n.searchParams.append(e.name,e.value)});let i=await fetch(n);return i.ok?i.json():void console.error("Failed to fetch options",i)}function i(){let e=`#${t}-form`,r=document.querySelector(e);if(!r)throw Error(`Form '${e}' not found`);return r}function o(){return Array.from(i().querySelectorAll("input[data-form-field]"))}async function a(e,t){let r=i();if(e){let t=document.createElement("input");t.type="hidden",t.name="action",t.value=e,r.appendChild(t)}if(t){let e=document.createElement("input");e.type="hidden",e.name="data",e.value=JSON.stringify(t),r.appendChild(e)}return r.submit()}async function s(e,t){let n=await r.startAuthentication(e,t);return await a("authenticate",n)}async function c(e){o().forEach(e=>{if(e.required&&!e.value)throw Error(`Missing required field: ${e.name}`)});let t=await r.startRegistration(e);return await a("register",t)}async function u(){if(!r.browserSupportsWebAuthnAutofill())return;let e=await n("authenticate");if(!e)return void console.error("Failed to fetch option for autofill authentication");try{await s(e.options,!0)}catch(e){console.error(e)}}(async function(){let e=i();if(!r.browserSupportsWebAuthn()){e.style.display="none";return}e&&e.addEventListener("submit",async e=>{e.preventDefault();let t=await n(void 0);if(!t)return void console.error("Failed to fetch options for form submission");if("authenticate"===t.action)try{await s(t.options,!1)}catch(e){console.error(e)}else if("register"===t.action)try{await c(t.options)}catch(e){console.error(e)}})})(),u()}let iy={default:"Unable to sign in.",Signin:"Try signing in with a different account.",OAuthSignin:"Try signing in with a different account.",OAuthCallbackError:"Try signing in with a different account.",OAuthCreateAccount:"Try signing in with a different account.",EmailCreateAccount:"Try signing in with a different account.",Callback:"Try signing in with a different account.",OAuthAccountNotLinked:"To confirm your identity, sign in with the same account you used originally.",EmailSignin:"The e-mail could not be sent.",CredentialsSignin:"Sign in failed. Check the details you provided are correct.",SessionRequired:"Please sign in to access this page."},ib=`:root {
  --border-width: 1px;
  --border-radius: 0.5rem;
  --color-error: #c94b4b;
  --color-info: #157efb;
  --color-info-hover: #0f6ddb;
  --color-info-text: #fff;
}

.__next-auth-theme-auto,
.__next-auth-theme-light {
  --color-background: #ececec;
  --color-background-hover: rgba(236, 236, 236, 0.8);
  --color-background-card: #fff;
  --color-text: #000;
  --color-primary: #444;
  --color-control-border: #bbb;
  --color-button-active-background: #f9f9f9;
  --color-button-active-border: #aaa;
  --color-separator: #ccc;
  --provider-bg: #fff;
  --provider-bg-hover: color-mix(
    in srgb,
    var(--provider-brand-color) 30%,
    #fff
  );
}

.__next-auth-theme-dark {
  --color-background: #161b22;
  --color-background-hover: rgba(22, 27, 34, 0.8);
  --color-background-card: #0d1117;
  --color-text: #fff;
  --color-primary: #ccc;
  --color-control-border: #555;
  --color-button-active-background: #060606;
  --color-button-active-border: #666;
  --color-separator: #444;
  --provider-bg: #161b22;
  --provider-bg-hover: color-mix(
    in srgb,
    var(--provider-brand-color) 30%,
    #000
  );
}

.__next-auth-theme-dark img[src$="42-school.svg"],
  .__next-auth-theme-dark img[src$="apple.svg"],
  .__next-auth-theme-dark img[src$="boxyhq-saml.svg"],
  .__next-auth-theme-dark img[src$="eveonline.svg"],
  .__next-auth-theme-dark img[src$="github.svg"],
  .__next-auth-theme-dark img[src$="mailchimp.svg"],
  .__next-auth-theme-dark img[src$="medium.svg"],
  .__next-auth-theme-dark img[src$="okta.svg"],
  .__next-auth-theme-dark img[src$="patreon.svg"],
  .__next-auth-theme-dark img[src$="ping-id.svg"],
  .__next-auth-theme-dark img[src$="roblox.svg"],
  .__next-auth-theme-dark img[src$="threads.svg"],
  .__next-auth-theme-dark img[src$="wikimedia.svg"] {
    filter: invert(1);
  }

.__next-auth-theme-dark #submitButton {
    background-color: var(--provider-bg, var(--color-info));
  }

@media (prefers-color-scheme: dark) {
  .__next-auth-theme-auto {
    --color-background: #161b22;
    --color-background-hover: rgba(22, 27, 34, 0.8);
    --color-background-card: #0d1117;
    --color-text: #fff;
    --color-primary: #ccc;
    --color-control-border: #555;
    --color-button-active-background: #060606;
    --color-button-active-border: #666;
    --color-separator: #444;
    --provider-bg: #161b22;
    --provider-bg-hover: color-mix(
      in srgb,
      var(--provider-brand-color) 30%,
      #000
    );
  }
    .__next-auth-theme-auto img[src$="42-school.svg"],
    .__next-auth-theme-auto img[src$="apple.svg"],
    .__next-auth-theme-auto img[src$="boxyhq-saml.svg"],
    .__next-auth-theme-auto img[src$="eveonline.svg"],
    .__next-auth-theme-auto img[src$="github.svg"],
    .__next-auth-theme-auto img[src$="mailchimp.svg"],
    .__next-auth-theme-auto img[src$="medium.svg"],
    .__next-auth-theme-auto img[src$="okta.svg"],
    .__next-auth-theme-auto img[src$="patreon.svg"],
    .__next-auth-theme-auto img[src$="ping-id.svg"],
    .__next-auth-theme-auto img[src$="roblox.svg"],
    .__next-auth-theme-auto img[src$="threads.svg"],
    .__next-auth-theme-auto img[src$="wikimedia.svg"] {
      filter: invert(1);
    }
    .__next-auth-theme-auto #submitButton {
      background-color: var(--provider-bg, var(--color-info));
    }
}

html {
  box-sizing: border-box;
}

*,
*:before,
*:after {
  box-sizing: inherit;
  margin: 0;
  padding: 0;
}

body {
  background-color: var(--color-background);
  margin: 0;
  padding: 0;
  font-family:
    ui-sans-serif,
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    Roboto,
    "Helvetica Neue",
    Arial,
    "Noto Sans",
    sans-serif,
    "Apple Color Emoji",
    "Segoe UI Emoji",
    "Segoe UI Symbol",
    "Noto Color Emoji";
}

h1 {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  font-weight: 400;
  color: var(--color-text);
}

p {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  color: var(--color-text);
}

form {
  margin: 0;
  padding: 0;
}

label {
  font-weight: 500;
  text-align: left;
  margin-bottom: 0.25rem;
  display: block;
  color: var(--color-text);
}

input[type] {
  box-sizing: border-box;
  display: block;
  width: 100%;
  padding: 0.5rem 1rem;
  border: var(--border-width) solid var(--color-control-border);
  background: var(--color-background-card);
  font-size: 1rem;
  border-radius: var(--border-radius);
  color: var(--color-text);
}

p {
  font-size: 1.1rem;
  line-height: 2rem;
}

a.button {
  text-decoration: none;
  line-height: 1rem;
}

a.button:link,
  a.button:visited {
    background-color: var(--color-background);
    color: var(--color-primary);
  }

button,
a.button {
  padding: 0.75rem 1rem;
  color: var(--provider-color, var(--color-primary));
  background-color: var(--provider-bg, var(--color-background));
  border: 1px solid #00000031;
  font-size: 0.9rem;
  height: 50px;
  border-radius: var(--border-radius);
  transition: background-color 250ms ease-in-out;
  font-weight: 300;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

:is(button,a.button):hover {
    background-color: var(--provider-bg-hover, var(--color-background-hover));
    cursor: pointer;
  }

:is(button,a.button):active {
    cursor: pointer;
  }

:is(button,a.button) span {
    color: var(--provider-bg);
  }

#submitButton {
  color: var(--button-text-color, var(--color-info-text));
  background-color: var(--brand-color, var(--color-info));
  width: 100%;
}

#submitButton:hover {
    background-color: var(
      --button-hover-bg,
      var(--color-info-hover)
    ) !important;
  }

a.site {
  color: var(--color-primary);
  text-decoration: none;
  font-size: 1rem;
  line-height: 2rem;
}

a.site:hover {
    text-decoration: underline;
  }

.page {
  position: absolute;
  width: 100%;
  height: 100%;
  display: grid;
  place-items: center;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

.page > div {
    text-align: center;
  }

.error a.button {
    padding-left: 2rem;
    padding-right: 2rem;
    margin-top: 0.5rem;
  }

.error .message {
    margin-bottom: 1.5rem;
  }

.signin input[type="text"] {
    margin-left: auto;
    margin-right: auto;
    display: block;
  }

.signin hr {
    display: block;
    border: 0;
    border-top: 1px solid var(--color-separator);
    margin: 2rem auto 1rem auto;
    overflow: visible;
  }

.signin hr::before {
      content: "or";
      background: var(--color-background-card);
      color: #888;
      padding: 0 0.4rem;
      position: relative;
      top: -0.7rem;
    }

.signin .error {
    background: #f5f5f5;
    font-weight: 500;
    border-radius: 0.3rem;
    background: var(--color-error);
  }

.signin .error p {
      text-align: left;
      padding: 0.5rem 1rem;
      font-size: 0.9rem;
      line-height: 1.2rem;
      color: var(--color-info-text);
    }

.signin > div,
  .signin form {
    display: block;
  }

.signin > div input[type], .signin form input[type] {
      margin-bottom: 0.5rem;
    }

.signin > div button, .signin form button {
      width: 100%;
    }

.signin .provider + .provider {
    margin-top: 1rem;
  }

.logo {
  display: inline-block;
  max-width: 150px;
  margin: 1.25rem 0;
  max-height: 70px;
}

.card {
  background-color: var(--color-background-card);
  border-radius: 1rem;
  padding: 1.25rem 2rem;
}

.card .header {
    color: var(--color-primary);
  }

.card input[type]::-moz-placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type]::placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type] {
    background: color-mix(in srgb, var(--color-background-card) 95%, black);
  }

.section-header {
  color: var(--color-text);
}

@media screen and (min-width: 450px) {
  .card {
    margin: 2rem 0;
    width: 368px;
  }
}

@media screen and (max-width: 450px) {
  .card {
    margin: 1rem 0;
    width: 343px;
  }
}
`;function i_({html:e,title:t,status:r,cookies:n,theme:i,headTags:o}){return{cookies:n,status:r,headers:{"Content-Type":"text/html"},body:`<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><style>${ib}</style><title>${t}</title>${o??""}</head><body class="__next-auth-theme-${i?.colorScheme??"auto"}"><div class="page">${function(e,t,r){var n=nA.__s;nA.__s=!0,it=nA.__b,ir=nA.diffed,ii=nA.__r,io=nA.unmount;var i=function(e,t,r){var n,i,o,a={};for(o in t)"key"==o?n=t[o]:"ref"==o?i=t[o]:a[o]=t[o];if(arguments.length>2&&(a.children=arguments.length>3?nR.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===a[o]&&(a[o]=e.defaultProps[o]);return nH(e,a,n,i,null)}(nW,null);i.__k=[e];try{var o=function e(t,r,n,i,o,a,s){if(null==t||!0===t||!1===t||""===t)return"";var c=typeof t;if("object"!=c)return"function"==c?"":"string"==c?n8(t):t+"";if(iu(t)){var u,l="";o.__k=t;for(var d=0;d<t.length;d++){var p=t[d];if(null!=p&&"boolean"!=typeof p){var h,f=e(p,r,n,i,o,a,s);"string"==typeof f?l+=f:(u||(u=[]),l&&u.push(l),l="",iu(f)?(h=u).push.apply(h,f):u.push(f))}}return u?(l&&u.push(l),u):l}if(void 0!==t.constructor)return"";t.__=o,it&&it(t);var g=t.type,m=t.props;if("function"==typeof g){var y,b,_,w=r;if(g===nW){if("tpl"in m){for(var v="",E=0;E<m.tpl.length;E++)if(v+=m.tpl[E],m.exprs&&E<m.exprs.length){var S=m.exprs[E];if(null==S)continue;"object"==typeof S&&(void 0===S.constructor||iu(S))?v+=e(S,r,n,i,t,a,s):v+=S}return v}if("UNSTABLE_comment"in m)return"<!--"+n8(m.UNSTABLE_comment)+"-->";b=m.children}else{if(null!=(y=g.contextType)){var R=r[y.__c];w=R?R.props.value:y.__}var A=g.prototype&&"function"==typeof g.prototype.render;if(A)b=id(t,w),_=t.__c;else{t.__c=_={__v:t,context:w,props:t.props,setState:n7,forceUpdate:n7,__d:!0,__h:[]};for(var x=0;_.__d&&x++<25;)_.__d=!1,ii&&ii(t),b=g.call(_,m,w);_.__d=!0}if(null!=_.getChildContext&&(r=il({},r,_.getChildContext())),A&&nA.errorBoundaries&&(g.getDerivedStateFromError||_.componentDidCatch)){b=null!=b&&b.type===nW&&null==b.key&&null==b.props.tpl?b.props.children:b;try{return e(b,r,n,i,t,a,s)}catch(o){return g.getDerivedStateFromError&&(_.__s=g.getDerivedStateFromError(o)),_.componentDidCatch&&_.componentDidCatch(o,is),_.__d?(b=id(t,r),null!=(_=t.__c).getChildContext&&(r=il({},r,_.getChildContext())),e(b=null!=b&&b.type===nW&&null==b.key&&null==b.props.tpl?b.props.children:b,r,n,i,t,a,s)):""}finally{ir&&ir(t),t.__=null,io&&io(t)}}}b=null!=b&&b.type===nW&&null==b.key&&null==b.props.tpl?b.props.children:b;try{var P=e(b,r,n,i,t,a,s);return ir&&ir(t),t.__=null,nA.unmount&&nA.unmount(t),P}catch(o){if(!a&&s&&s.onError){var O=s.onError(o,t,function(o){return e(o,r,n,i,t,a,s)});if(void 0!==O)return O;var T=nA.__e;return T&&T(o,t),""}if(!a||!o||"function"!=typeof o.then)throw o;return o.then(function o(){try{return e(b,r,n,i,t,a,s)}catch(c){if(!c||"function"!=typeof c.then)throw c;return c.then(function(){return e(b,r,n,i,t,a,s)},o)}})}}var k,C="<"+g,I="";for(var N in m){var j=m[N];if("function"!=typeof j||"class"===N||"className"===N){switch(N){case"children":k=j;continue;case"key":case"ref":case"__self":case"__source":continue;case"htmlFor":if("for"in m)continue;N="for";break;case"className":if("class"in m)continue;N="class";break;case"defaultChecked":N="checked";break;case"defaultSelected":N="selected";break;case"defaultValue":case"value":switch(N="value",g){case"textarea":k=j;continue;case"select":i=j;continue;case"option":i!=j||"selected"in m||(C+=" selected")}break;case"dangerouslySetInnerHTML":I=j&&j.__html;continue;case"style":"object"==typeof j&&(j=function(e){var t="";for(var r in e){var n=e[r];if(null!=n&&""!==n){var i="-"==r[0]?r:n6[r]||(n6[r]=r.replace(n9,"-$&").toLowerCase()),o=";";"number"!=typeof n||i.startsWith("--")||n5.has(i)||(o="px;"),t=t+i+":"+n+o}}return t||void 0}(j));break;case"acceptCharset":N="accept-charset";break;case"httpEquiv":N="http-equiv";break;default:if(n0.test(N))N=N.replace(n0,"$1:$2").toLowerCase();else{if(nQ.test(N))continue;("-"===N[4]||n3.has(N))&&null!=j?j+="":n?n2.test(N)&&(N="panose1"===N?"panose-1":N.replace(/([A-Z])/g,"-$1").toLowerCase()):n1.test(N)&&(N=N.toLowerCase())}}null!=j&&!1!==j&&(C=!0===j||""===j?C+" "+N:C+" "+N+'="'+("string"==typeof j?n8(j):j+"")+'"')}}if(nQ.test(g))throw Error(g+" is not a valid HTML tag name in "+C+">");if(I||("string"==typeof k?I=n8(k):null!=k&&!1!==k&&!0!==k&&(I=e(k,r,"svg"===g||"foreignObject"!==g&&n,i,t,a,s))),ir&&ir(t),t.__=null,io&&io(t),!I&&ip.has(g))return C+"/>";var D="</"+g+">",U=C+">";return iu(I)?[U].concat(I,[D]):"string"!=typeof I?[U,I,D]:U+I+D}(e,is,!1,void 0,i,!1,void 0);return iu(o)?o.join(""):o}catch(e){if(e.then)throw Error('Use "renderToStringAsync" for suspenseful rendering.');throw e}finally{nA.__c&&nA.__c(e,ic),nA.__s=n,ic.length=0}}(e)}</div></body></html>`}}function iw(e){let{url:t,theme:r,query:n,cookies:i,pages:o,providers:a}=e;return{csrf:(e,t,r)=>e?(t.logger.warn("csrf-disabled"),r.push({name:t.cookies.csrfToken.name,value:"",options:{...t.cookies.csrfToken.options,maxAge:0}}),{status:404,cookies:r}):{headers:{"Content-Type":"application/json","Cache-Control":"private, no-cache, no-store",Expires:"0",Pragma:"no-cache"},body:{csrfToken:t.csrfToken},cookies:r},providers:e=>({headers:{"Content-Type":"application/json"},body:e.reduce((e,{id:t,name:r,type:n,signinUrl:i,callbackUrl:o})=>(e[t]={id:t,name:r,type:n,signinUrl:i,callbackUrl:o},e),{})}),signin(t,s){if(t)throw new eH("Unsupported action");if(o?.signIn){let t=`${o.signIn}${o.signIn.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:e.callbackUrl??"/"})}`;return s&&(t=`${t}&${new URLSearchParams({error:s})}`),{redirect:t,cookies:i}}let c=a?.find(e=>"webauthn"===e.type&&e.enableConditionalUI&&!!e.simpleWebAuthnBrowserVersion),u="";if(c){let{simpleWebAuthnBrowserVersion:e}=c;u=`<script src="https://unpkg.com/@simplewebauthn/browser@${e}/dist/bundle/index.umd.min.js" crossorigin="anonymous"></script>`}return i_({cookies:i,theme:r,html:function(e){let{csrfToken:t,providers:r=[],callbackUrl:n,theme:i,email:o,error:a}=e;"u">typeof document&&i?.brandColor&&document.documentElement.style.setProperty("--brand-color",i.brandColor),"u">typeof document&&i?.buttonText&&document.documentElement.style.setProperty("--button-text-color",i.buttonText);let s=a&&(iy[a]??iy.default),c=r.find(e=>"webauthn"===e.type&&e.enableConditionalUI)?.id;return ig("div",{className:"signin",children:[i?.brandColor&&ig("style",{dangerouslySetInnerHTML:{__html:`:root {--brand-color: ${i.brandColor}}`}}),i?.buttonText&&ig("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${i.buttonText}
        }
      `}}),ig("div",{className:"card",children:[s&&ig("div",{className:"error",children:ig("p",{children:s})}),i?.logo&&ig("img",{src:i.logo,alt:"Logo",className:"logo"}),r.map((e,i)=>{let a,s,c;("oauth"===e.type||"oidc"===e.type)&&({bg:a="#fff",brandColor:s,logo:c=`https://authjs.dev/img/providers/${e.id}.svg`}=e.style??{});let u=s??a??"#fff";return ig("div",{className:"provider",children:["oauth"===e.type||"oidc"===e.type?ig("form",{action:e.signinUrl,method:"POST",children:[ig("input",{type:"hidden",name:"csrfToken",value:t}),n&&ig("input",{type:"hidden",name:"callbackUrl",value:n}),ig("button",{type:"submit",className:"button",style:{"--provider-brand-color":u},tabIndex:0,children:[ig("span",{style:{filter:"invert(1) grayscale(1) brightness(1.3) contrast(9000)","mix-blend-mode":"luminosity",opacity:.95},children:["Sign in with ",e.name]}),c&&ig("img",{loading:"lazy",height:24,src:c})]})]}):null,("email"===e.type||"credentials"===e.type||"webauthn"===e.type)&&i>0&&"email"!==r[i-1].type&&"credentials"!==r[i-1].type&&"webauthn"!==r[i-1].type&&ig("hr",{}),"email"===e.type&&ig("form",{action:e.signinUrl,method:"POST",children:[ig("input",{type:"hidden",name:"csrfToken",value:t}),ig("label",{className:"section-header",htmlFor:`input-email-for-${e.id}-provider`,children:"Email"}),ig("input",{id:`input-email-for-${e.id}-provider`,autoFocus:!0,type:"email",name:"email",value:o,placeholder:"email@example.com",required:!0}),ig("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",e.name]})]}),"credentials"===e.type&&ig("form",{action:e.callbackUrl,method:"POST",children:[ig("input",{type:"hidden",name:"csrfToken",value:t}),Object.keys(e.credentials).map(t=>ig("div",{children:[ig("label",{className:"section-header",htmlFor:`input-${t}-for-${e.id}-provider`,children:e.credentials[t].label??t}),ig("input",{name:t,id:`input-${t}-for-${e.id}-provider`,type:e.credentials[t].type??"text",placeholder:e.credentials[t].placeholder??"",...e.credentials[t]})]},`input-group-${e.id}`)),ig("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",e.name]})]}),"webauthn"===e.type&&ig("form",{action:e.callbackUrl,method:"POST",id:`${e.id}-form`,children:[ig("input",{type:"hidden",name:"csrfToken",value:t}),Object.keys(e.formFields).map(t=>ig("div",{children:[ig("label",{className:"section-header",htmlFor:`input-${t}-for-${e.id}-provider`,children:e.formFields[t].label??t}),ig("input",{name:t,"data-form-field":!0,id:`input-${t}-for-${e.id}-provider`,type:e.formFields[t].type??"text",placeholder:e.formFields[t].placeholder??"",...e.formFields[t]})]},`input-group-${e.id}`)),ig("button",{id:`submitButton-${e.id}`,type:"submit",tabIndex:0,children:["Sign in with ",e.name]})]}),("email"===e.type||"credentials"===e.type||"webauthn"===e.type)&&i+1<r.length&&ig("hr",{})]},e.id)})]}),c&&ig(nW,{children:ig("script",{dangerouslySetInnerHTML:{__html:`
const currentURL = window.location.href;
const authURL = currentURL.substring(0, currentURL.lastIndexOf('/'));
(${im})(authURL, "${c}");
`}})})]})}({csrfToken:e.csrfToken,providers:e.providers?.filter(e=>["email","oauth","oidc"].includes(e.type)||"credentials"===e.type&&e.credentials||"webauthn"===e.type&&e.formFields||!1),callbackUrl:e.callbackUrl,theme:e.theme,error:s,...n}),title:"Sign In",headTags:u})},signout:()=>o?.signOut?{redirect:o.signOut,cookies:i}:i_({cookies:i,theme:r,html:function(e){let{url:t,csrfToken:r,theme:n}=e;return ig("div",{className:"signout",children:[n?.brandColor&&ig("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${n.brandColor}
        }
      `}}),n?.buttonText&&ig("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${n.buttonText}
        }
      `}}),ig("div",{className:"card",children:[n?.logo&&ig("img",{src:n.logo,alt:"Logo",className:"logo"}),ig("h1",{children:"Signout"}),ig("p",{children:"Are you sure you want to sign out?"}),ig("form",{action:t?.toString(),method:"POST",children:[ig("input",{type:"hidden",name:"csrfToken",value:r}),ig("button",{id:"submitButton",type:"submit",children:"Sign out"})]})]})]})}({csrfToken:e.csrfToken,url:t,theme:r}),title:"Sign Out"}),verifyRequest:e=>o?.verifyRequest?{redirect:`${o.verifyRequest}${t?.search??""}`,cookies:i}:i_({cookies:i,theme:r,html:function(e){let{url:t,theme:r}=e;return ig("div",{className:"verify-request",children:[r.brandColor&&ig("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${r.brandColor}
        }
      `}}),ig("div",{className:"card",children:[r.logo&&ig("img",{src:r.logo,alt:"Logo",className:"logo"}),ig("h1",{children:"Check your email"}),ig("p",{children:"A sign in link has been sent to your email address."}),ig("p",{children:ig("a",{className:"site",href:t.origin,children:t.host})})]})]})}({url:t,theme:r,...e}),title:"Verify Request"}),error:e=>o?.error?{redirect:`${o.error}${o.error.includes("?")?"&":"?"}error=${e}`,cookies:i}:i_({cookies:i,theme:r,...function(e){let{url:t,error:r="default",theme:n}=e,i=`${t}/signin`,o={default:{status:200,heading:"Error",message:ig("p",{children:ig("a",{className:"site",href:t?.origin,children:t?.host})})},Configuration:{status:500,heading:"Server error",message:ig("div",{children:[ig("p",{children:"There is a problem with the server configuration."}),ig("p",{children:"Check the server logs for more information."})]})},AccessDenied:{status:403,heading:"Access Denied",message:ig("div",{children:[ig("p",{children:"You do not have permission to sign in."}),ig("p",{children:ig("a",{className:"button",href:i,children:"Sign in"})})]})},Verification:{status:403,heading:"Unable to sign in",message:ig("div",{children:[ig("p",{children:"The sign in link is no longer valid."}),ig("p",{children:"It may have been used already or it may have expired."})]}),signin:ig("a",{className:"button",href:i,children:"Sign in"})}},{status:a,heading:s,message:c,signin:u}=o[r]??o.default;return{status:a,html:ig("div",{className:"error",children:[n?.brandColor&&ig("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${n?.brandColor}
        }
      `}}),ig("div",{className:"card",children:[n?.logo&&ig("img",{src:n?.logo,alt:"Logo",className:"logo"}),ig("h1",{children:s}),ig("div",{className:"message",children:c}),u]})]})}}({url:t,theme:r,error:e}),title:"Error"})}}function iv(e,t=Date.now()){return new Date(t+1e3*e)}async function iE(e,t,r,n){if(!r?.providerAccountId||!r.type)throw Error("Missing or invalid provider account");if(!["email","oauth","oidc","webauthn"].includes(r.type))throw Error("Provider not supported");let{adapter:i,jwt:o,events:a,session:{strategy:s,generateSessionToken:c}}=n;if(!i)return{user:t,account:r};let u=r,{createUser:l,updateUser:d,getUser:p,getUserByAccount:h,getUserByEmail:f,linkAccount:g,createSession:m,getSessionAndUser:y,deleteSession:b}=i,_=null,w=null,v=!1,E="jwt"===s;if(e)if(E)try{let t=n.cookies.sessionToken.name;(_=await o.decode({...o,token:e,salt:t}))&&"sub"in _&&_.sub&&(w=await p(_.sub))}catch{}else{let t=await y(e);t&&(_=t.session,w=t.user)}if("email"===u.type){let r=await f(t.email);return r?(w?.id!==r.id&&!E&&e&&await b(e),w=await d({id:r.id,emailVerified:new Date}),await a.updateUser?.({user:w})):(w=await l({...t,emailVerified:new Date}),await a.createUser?.({user:w}),v=!0),{session:_=E?{}:await m({sessionToken:c(),userId:w.id,expires:iv(n.session.maxAge)}),user:w,isNewUser:v}}if("webauthn"===u.type){let e=await h({providerAccountId:u.providerAccountId,provider:u.provider});if(e){if(w){if(e.id===w.id){let e={...u,userId:w.id};return{session:_,user:w,isNewUser:v,account:e}}throw new eX("The account is already associated with another user",{provider:u.provider})}_=E?{}:await m({sessionToken:c(),userId:e.id,expires:iv(n.session.maxAge)});let t={...u,userId:e.id};return{session:_,user:e,isNewUser:v,account:t}}{if(w){await g({...u,userId:w.id}),await a.linkAccount?.({user:w,account:u,profile:t});let e={...u,userId:w.id};return{session:_,user:w,isNewUser:v,account:e}}if(t.email?await f(t.email):null)throw new eX("Another account already exists with the same e-mail address",{provider:u.provider});w=await l({...t}),await a.createUser?.({user:w}),await g({...u,userId:w.id}),await a.linkAccount?.({user:w,account:u,profile:t}),_=E?{}:await m({sessionToken:c(),userId:w.id,expires:iv(n.session.maxAge)});let e={...u,userId:w.id};return{session:_,user:w,isNewUser:!0,account:e}}}let S=await h({providerAccountId:u.providerAccountId,provider:u.provider});if(S){if(w){if(S.id===w.id)return{session:_,user:w,isNewUser:v};throw new eD("The account is already associated with another user",{provider:u.provider})}return{session:_=E?{}:await m({sessionToken:c(),userId:S.id,expires:iv(n.session.maxAge)}),user:S,isNewUser:v}}{let{provider:e}=n,{type:r,provider:i,providerAccountId:o,userId:s,...d}=u;if(u=Object.assign(e.account(d)??{},{providerAccountId:o,provider:i,type:r,userId:s}),w)return await g({...u,userId:w.id}),await a.linkAccount?.({user:w,account:u,profile:t}),{session:_,user:w,isNewUser:v};let p=t.email?await f(t.email):null;if(p){let e=n.provider;if(e?.allowDangerousEmailAccountLinking)w=p,v=!1;else throw new eD("Another account already exists with the same e-mail address",{provider:u.provider})}else w=await l({...t,emailVerified:null}),v=!0;return await a.createUser?.({user:w}),await g({...u,userId:w.id}),await a.linkAccount?.({user:w,account:u,profile:t}),{session:_=E?{}:await m({sessionToken:c(),userId:w.id,expires:iv(n.session.maxAge)}),user:w,isNewUser:v}}}function iS(e,t){if(null==e)return!1;try{return e instanceof t||Object.getPrototypeOf(e)[Symbol.toStringTag]===t.prototype[Symbol.toStringTag]}catch{return!1}}("u"<typeof navigator||!navigator.userAgent?.startsWith?.("Mozilla/5.0 "))&&(i="oauth4webapi/v3.8.3");let iR="ERR_INVALID_ARG_VALUE",iA="ERR_INVALID_ARG_TYPE";function ix(e,t,r){let n=TypeError(e,{cause:r});return Object.assign(n,{code:t}),n}let iP=Symbol(),iO=Symbol(),iT=Symbol(),ik=Symbol(),iC=Symbol(),iI=Symbol();Symbol();let iN=new TextEncoder,ij=new TextDecoder;function iD(e){return"string"==typeof e?iN.encode(e):ij.decode(e)}function iU(e){return"string"==typeof e?a(e):o(e)}o=Uint8Array.prototype.toBase64?e=>(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e.toBase64({alphabet:"base64url",omitPadding:!0})):e=>{e instanceof ArrayBuffer&&(e=new Uint8Array(e));let t=[];for(let r=0;r<e.byteLength;r+=32768)t.push(String.fromCharCode.apply(null,e.subarray(r,r+32768)));return btoa(t.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},a=Uint8Array.fromBase64?e=>{try{return Uint8Array.fromBase64(e,{alphabet:"base64url"})}catch(e){throw ix("The input to be decoded is not correctly encoded.",iR,e)}}:e=>{try{let t=atob(e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"")),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r}catch(e){throw ix("The input to be decoded is not correctly encoded.",iR,e)}};class iL extends Error{code;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=oM,Error.captureStackTrace?.(this,this.constructor)}}class iM extends Error{code;constructor(e,t){super(e,t),this.name=this.constructor.name,t?.code&&(this.code=t?.code),Error.captureStackTrace?.(this,this.constructor)}}function i$(e,t,r){return new iM(e,{code:t,cause:r})}function iH(e){return!(null===e||"object"!=typeof e||Array.isArray(e))}function iW(e){iS(e,Headers)&&(e=Object.fromEntries(e.entries()));let t=new Headers(e??{});if(i&&!t.has("user-agent")&&t.set("user-agent",i),t.has("authorization"))throw ix('"options.headers" must not include the "authorization" header name',iR);return t}function iB(e,t){if(void 0!==t){if("function"==typeof t&&(t=t(e.href)),!(t instanceof AbortSignal))throw ix('"options.signal" must return or be an instance of AbortSignal',iA);return t}}function iK(e){return e.includes("//")?e.replace("//","/"):e}async function iq(e,t,r,n){if(!(e instanceof URL))throw ix(`"${t}" must be an instance of URL`,iA);i6(e,n?.[iP]!==!0);let i=r(new URL(e.href)),o=iW(n?.headers);return o.set("accept","application/json"),(n?.[ik]||fetch)(i.href,{body:void 0,headers:Object.fromEntries(o.entries()),method:"GET",redirect:"manual",signal:iB(i,n?.signal)})}async function iV(e,t){return iq(e,"issuerIdentifier",e=>{switch(t?.algorithm){case void 0:case"oidc":e.pathname=iK(`${e.pathname}/.well-known/openid-configuration`);break;case"oauth2":!function(e,t,r=!1){"/"===e.pathname?e.pathname=t:e.pathname=iK(`${t}/${r?e.pathname:e.pathname.replace(/(\/)$/,"")}`)}(e,".well-known/oauth-authorization-server");break;default:throw ix('"options.algorithm" must be "oidc" (default), or "oauth2"',iR)}return e},t)}function iF(e,t,r,n,i){try{if("number"!=typeof e||!Number.isFinite(e))throw ix(`${r} must be a number`,iA,i);if(e>0)return;if(t){if(0!==e)throw ix(`${r} must be a non-negative number`,iR,i);return}throw ix(`${r} must be a positive number`,iR,i)}catch(e){if(n)throw i$(e.message,n,i);throw e}}function iG(e,t,r,n){try{if("string"!=typeof e)throw ix(`${t} must be a string`,iA,n);if(0===e.length)throw ix(`${t} must not be empty`,iR,n)}catch(e){if(r)throw i$(e.message,r,n);throw e}}async function iJ(e,t){if(!(e instanceof URL)&&e!==o6)throw ix('"expectedIssuerIdentifier" must be an instance of URL',iA);if(!iS(t,Response))throw ix('"response" must be an instance of Response',iA);if(200!==t.status)throw i$('"response" is not a conform Authorization Server Metadata response (unexpected HTTP status code)',oq,t);oZ(t);let r=await o8(t);if(iG(r.issuer,'"response" body "issuer" property',oB,{body:r}),e!==o6&&new URL(r.issuer).href!==e.href)throw i$('"response" body "issuer" property does not match the expected value',oz,{expected:e.href,body:r,attribute:"issuer"});return r}function iz(e){var t=e,r="application/json";if(oh(t)!==r)throw function(e,...t){let r='"response" content-type must be ';if(t.length>2){let e=t.pop();r+=`${t.join(", ")}, or ${e}`}else 2===t.length?r+=`${t[0]} or ${t[1]}`:r+=t[0];return i$(r,oK,e)}(t,r)}function iX(){return iU(crypto.getRandomValues(new Uint8Array(32)))}async function iY(e){return iG(e,"codeVerifier"),iU(await crypto.subtle.digest("SHA-256",iD(e)))}function iZ(e){let t=e?.[iO];return"number"==typeof t&&Number.isFinite(t)?t:0}function iQ(e){let t=e?.[iT];return"number"==typeof t&&Number.isFinite(t)&&-1!==Math.sign(t)?t:30}function i0(){return Math.floor(Date.now()/1e3)}function i1(e){if("object"!=typeof e||null===e)throw ix('"as" must be an object',iA);iG(e.issuer,'"as.issuer"')}function i2(e){if("object"!=typeof e||null===e)throw ix('"client" must be an object',iA);iG(e.client_id,'"client.client_id"')}function i3(e,t){let r=i0()+iZ(t);return{jti:iX(),aud:e.issuer,exp:r+60,iat:r,nbf:r,iss:t.client_id,sub:t.client_id}}async function i4(e,t,r){if(!r.usages.includes("sign"))throw ix('CryptoKey instances used for signing assertions must include "sign" in their "usages"',iR);let n=`${iU(iD(JSON.stringify(e)))}.${iU(iD(JSON.stringify(t)))}`,i=iU(await crypto.subtle.sign(function(e){switch(e.algorithm.name){case"ECDSA":return{name:e.algorithm.name,hash:function(e){let{algorithm:t}=e;switch(t.namedCurve){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new iL("unsupported ECDSA namedCurve",{cause:e})}}(e)};case"RSA-PSS":switch(oQ(e),e.algorithm.hash.name){case"SHA-256":case"SHA-384":case"SHA-512":return{name:e.algorithm.name,saltLength:parseInt(e.algorithm.hash.name.slice(-3),10)>>3};default:throw new iL("unsupported RSA-PSS hash name",{cause:e})}case"RSASSA-PKCS1-v1_5":return oQ(e),e.algorithm.name;case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":case"Ed25519":return e.algorithm.name}throw new iL("unsupported CryptoKey algorithm name",{cause:e})}(r),r,iD(n)));return`${n}.${i}`}let i8=URL.parse?(e,t)=>URL.parse(e,t):(e,t)=>{try{return new URL(e,t)}catch{return null}};function i6(e,t){if(t&&"https:"!==e.protocol)throw i$("only requests to HTTPS are allowed",oV,e);if("https:"!==e.protocol&&"http:"!==e.protocol)throw i$("only HTTP and HTTPS requests are allowed",oF,e)}function i5(e,t,r,n){let i;if("string"!=typeof e||!(i=i8(e)))throw i$(`authorization server metadata does not contain a valid ${r?`"as.mtls_endpoint_aliases.${t}"`:`"as.${t}"`}`,void 0===e?oX:oY,{attribute:r?`mtls_endpoint_aliases.${t}`:t});return i6(i,n),i}function i9(e,t,r,n){return r&&e.mtls_endpoint_aliases&&t in e.mtls_endpoint_aliases?i5(e.mtls_endpoint_aliases[t],t,r,n):i5(e[t],t,r,n)}class i7 extends Error{cause;code;error;status;error_description;response;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=oL,this.cause=t.cause,this.error=t.cause.error,this.status=t.response.status,this.error_description=t.cause.error_description,Object.defineProperty(this,"response",{enumerable:!1,value:t.response}),Error.captureStackTrace?.(this,this.constructor)}}class oe extends Error{cause;code;error;error_description;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=o$,this.cause=t.cause,this.error=t.cause.get("error"),this.error_description=t.cause.get("error_description")??void 0,Error.captureStackTrace?.(this,this.constructor)}}class ot extends Error{cause;code;response;status;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=oU,this.cause=t.cause,this.status=t.response.status,this.response=t.response,Object.defineProperty(this,"response",{enumerable:!1}),Error.captureStackTrace?.(this,this.constructor)}}let or="[a-zA-Z0-9!#$%&\\'\\*\\+\\-\\.\\^_`\\|~]+",on=RegExp("^[,\\s]*("+or+")"),oi=RegExp("^[,\\s]*("+or+')\\s*=\\s*"((?:[^"\\\\]|\\\\[\\s\\S])*)"[,\\s]*(.*)'),oo=RegExp("^[,\\s]*"+("("+or+")\\s*=\\s*(")+or+")[,\\s]*(.*)"),oa=RegExp("^([a-zA-Z0-9\\-\\._\\~\\+\\/]+={0,2})(?:$|[,\\s])(.*)");async function os(e){if(e.status>399&&e.status<500){oZ(e),iz(e);try{let t=await e.clone().json();if(iH(t)&&"string"==typeof t.error&&t.error.length)return t}catch{}}}async function oc(e,t,r){if(e.status!==t){let t;if(ov(e),t=await os(e))throw await e.body?.cancel(),new i7("server responded with an error in the response body",{cause:t,response:e});throw i$(`"response" is not a conform ${r} response (unexpected HTTP status code)`,oq,e)}}function ou(e){if(!ox.has(e))throw ix('"options.DPoP" is not a valid DPoPHandle',iR)}async function ol(e,t,r,n,i,o){if(iG(e,'"accessToken"'),!(r instanceof URL))throw ix('"url" must be an instance of URL',iA);i6(r,o?.[iP]!==!0),n=iW(n),o?.DPoP&&(ou(o.DPoP),await o.DPoP.addProof(r,n,t.toUpperCase(),e)),n.set("authorization",`${n.has("dpop")?"DPoP":"Bearer"} ${e}`);let a=await (o?.[ik]||fetch)(r.href,{body:i,headers:Object.fromEntries(n.entries()),method:t,redirect:"manual",signal:iB(r,o?.signal)});return o?.DPoP?.cacheNonce(a,r),a}async function od(e,t,r,n){i1(e),i2(t);let i=i9(e,"userinfo_endpoint",t.use_mtls_endpoint_aliases,n?.[iP]!==!0),o=iW(n?.headers);return t.userinfo_signed_response_alg?o.set("accept","application/jwt"):(o.set("accept","application/json"),o.append("accept","application/jwt")),ol(r,"GET",i,o,null,{...n,[iO]:iZ(t)})}let op=Symbol();function oh(e){return e.headers.get("content-type")?.split(";")[0]}async function of(e,t,r,n,i){let o;if(i1(e),i2(t),!iS(n,Response))throw ix('"response" must be an instance of Response',iA);if(ov(n),200!==n.status)throw i$('"response" is not a conform UserInfo Endpoint response (unexpected HTTP status code)',oq,n);if(oZ(n),"application/jwt"===oh(n)){let{claims:r,jwt:a}=await o0(await n.text(),o1.bind(void 0,t.userinfo_signed_response_alg,e.userinfo_signing_alg_values_supported,void 0),iZ(t),iQ(t),i?.[iI]).then(oE.bind(void 0,t.client_id)).then(oR.bind(void 0,e));ob.set(n,a),o=r}else{if(t.userinfo_signed_response_alg)throw i$("JWT UserInfo Response expected",oH,n);o=await o8(n)}if(iG(o.sub,'"response" body "sub" property',oB,{body:o}),r===op);else if(iG(r,'"expectedSubject"'),o.sub!==r)throw i$('unexpected "response" body "sub" property value',oz,{expected:r,body:o,attribute:"sub"});return o}async function og(e,t,r,n,i,o,a){return await r(e,t,i,o),o.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),(a?.[ik]||fetch)(n.href,{body:i,headers:Object.fromEntries(o.entries()),method:"POST",redirect:"manual",signal:iB(n,a?.signal)})}async function om(e,t,r,n,i,o){let a=i9(e,"token_endpoint",t.use_mtls_endpoint_aliases,o?.[iP]!==!0);i.set("grant_type",n);let s=iW(o?.headers);s.set("accept","application/json"),o?.DPoP!==void 0&&(ou(o.DPoP),await o.DPoP.addProof(a,s,"POST"));let c=await og(e,t,r,a,i,s,o);return o?.DPoP?.cacheNonce(c,a),c}let oy=new WeakMap,ob=new WeakMap;function o_(e){if(!e.id_token)return;let t=oy.get(e);if(!t)throw ix('"ref" was already garbage collected or did not resolve from the proper sources',iR);return t}async function ow(e,t,r,n,i,o){if(i1(e),i2(t),!iS(r,Response))throw ix('"response" must be an instance of Response',iA);await oc(r,200,"Token Endpoint"),oZ(r);let a=await o8(r);if(iG(a.access_token,'"response" body "access_token" property',oB,{body:a}),iG(a.token_type,'"response" body "token_type" property',oB,{body:a}),a.token_type=a.token_type.toLowerCase(),void 0!==a.expires_in){let e="number"!=typeof a.expires_in?parseFloat(a.expires_in):a.expires_in;iF(e,!0,'"response" body "expires_in" property',oB,{body:a}),a.expires_in=e}if(void 0!==a.refresh_token&&iG(a.refresh_token,'"response" body "refresh_token" property',oB,{body:a}),void 0!==a.scope&&"string"!=typeof a.scope)throw i$('"response" body "scope" property must be a string',oB,{body:a});if(void 0!==a.id_token){iG(a.id_token,'"response" body "id_token" property',oB,{body:a});let o=["aud","exp","iat","iss","sub"];!0===t.require_auth_time&&o.push("auth_time"),void 0!==t.default_max_age&&(iF(t.default_max_age,!0,'"client.default_max_age"'),o.push("auth_time")),n?.length&&o.push(...n);let{claims:s,jwt:c}=await o0(a.id_token,o1.bind(void 0,t.id_token_signed_response_alg,e.id_token_signing_alg_values_supported,"RS256"),iZ(t),iQ(t),i).then(ok.bind(void 0,o)).then(oA.bind(void 0,e)).then(oS.bind(void 0,t.client_id));if(Array.isArray(s.aud)&&1!==s.aud.length){if(void 0===s.azp)throw i$('ID Token "aud" (audience) claim includes additional untrusted audiences',oJ,{claims:s,claim:"aud"});if(s.azp!==t.client_id)throw i$('unexpected ID Token "azp" (authorized party) claim value',oJ,{expected:t.client_id,claims:s,claim:"azp"})}void 0!==s.auth_time&&iF(s.auth_time,!0,'ID Token "auth_time" (authentication time)',oB,{claims:s}),ob.set(r,c),oy.set(a,s)}if(o?.[a.token_type]!==void 0)o[a.token_type](r,a);else if("dpop"!==a.token_type&&"bearer"!==a.token_type)throw new iL("unsupported `token_type` value",{cause:{body:a}});return a}function ov(e){let t;if(t=function(e){if(!iS(e,Response))throw ix('"response" must be an instance of Response',iA);let t=e.headers.get("www-authenticate");if(null===t)return;let r=[],n=t;for(;n;){let e,t=n.match(on),i=t?.["1"].toLowerCase();if(!i)return;let o=n.substring(t[0].length);if(o&&!o.match(/^[\s,]/))return;let a=o.match(/^\s+(.*)$/),s=!!a;n=a?a[1]:void 0;let c={};if(s)for(;n;){let r,i;if(t=n.match(oi)){if([,r,i,n]=t,i.includes("\\"))try{i=JSON.parse(`"${i}"`)}catch{}c[r.toLowerCase()]=i;continue}if(t=n.match(oo)){[,r,i,n]=t,c[r.toLowerCase()]=i;continue}if(t=n.match(oa)){if(Object.keys(c).length)break;[,e,n]=t;break}return}else n=o||void 0;let u={scheme:i,parameters:c};e&&(u.token68=e),r.push(u)}if(r.length)return r}(e))throw new ot("server responded with a challenge in the WWW-Authenticate HTTP Header",{cause:t,response:e})}function oE(e,t){return void 0!==t.claims.aud?oS(e,t):t}function oS(e,t){if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e))throw i$('unexpected JWT "aud" (audience) claim value',oJ,{expected:e,claims:t.claims,claim:"aud"})}else if(t.claims.aud!==e)throw i$('unexpected JWT "aud" (audience) claim value',oJ,{expected:e,claims:t.claims,claim:"aud"});return t}function oR(e,t){return void 0!==t.claims.iss?oA(e,t):t}function oA(e,t){let r=e[o5]?.(t)??e.issuer;if(t.claims.iss!==r)throw i$('unexpected JWT "iss" (issuer) claim value',oJ,{expected:r,claims:t.claims,claim:"iss"});return t}let ox=new WeakSet,oP=Symbol();async function oO(e,t,r,n,i,o,a){if(i1(e),i2(t),!ox.has(n))throw ix('"callbackParameters" must be an instance of URLSearchParams obtained from "validateAuthResponse()", or "validateJwtAuthResponse()',iR);iG(i,'"redirectUri"');let s=o2(n,"code");if(!s)throw i$('no authorization code in "callbackParameters"',oB);let c=new URLSearchParams(a?.additionalParameters);return c.set("redirect_uri",i),c.set("code",s),o!==oP&&(iG(o,'"codeVerifier"'),c.set("code_verifier",o)),om(e,t,r,"authorization_code",c,a)}let oT={aud:"audience",c_hash:"code hash",client_id:"client id",exp:"expiration time",iat:"issued at",iss:"issuer",jti:"jwt id",nonce:"nonce",s_hash:"state hash",sub:"subject",ath:"access token hash",htm:"http method",htu:"http uri",cnf:"confirmation",auth_time:"authentication time"};function ok(e,t){for(let r of e)if(void 0===t.claims[r])throw i$(`JWT "${r}" (${oT[r]}) claim missing`,oB,{claims:t.claims});return t}let oC=Symbol(),oI=Symbol();async function oN(e,t,r,n){return"string"==typeof n?.expectedNonce||"number"==typeof n?.maxAge||n?.requireIdToken?oj(e,t,r,n.expectedNonce,n.maxAge,n[iI],n.recognizedTokenTypes):oD(e,t,r,n?.[iI],n?.recognizedTokenTypes)}async function oj(e,t,r,n,i,o,a){let s=[];switch(n){case void 0:n=oC;break;case oC:break;default:iG(n,'"expectedNonce" argument'),s.push("nonce")}switch(i??=t.default_max_age){case void 0:i=oI;break;case oI:break;default:iF(i,!0,'"maxAge" argument'),s.push("auth_time")}let c=await ow(e,t,r,s,o,a);iG(c.id_token,'"response" body "id_token" property',oB,{body:c});let u=o_(c);if(i!==oI){let e=i0()+iZ(t),r=iQ(t);if(u.auth_time+i<e-r)throw i$("too much time has elapsed since the last End-User authentication",oG,{claims:u,now:e,tolerance:r,claim:"auth_time"})}if(n===oC){if(void 0!==u.nonce)throw i$('unexpected ID Token "nonce" claim value',oJ,{expected:void 0,claims:u,claim:"nonce"})}else if(u.nonce!==n)throw i$('unexpected ID Token "nonce" claim value',oJ,{expected:n,claims:u,claim:"nonce"});return c}async function oD(e,t,r,n,i){let o=await ow(e,t,r,void 0,n,i),a=o_(o);if(a){if(void 0!==t.default_max_age){iF(t.default_max_age,!0,'"client.default_max_age"');let e=i0()+iZ(t),r=iQ(t);if(a.auth_time+t.default_max_age<e-r)throw i$("too much time has elapsed since the last End-User authentication",oG,{claims:a,now:e,tolerance:r,claim:"auth_time"})}if(void 0!==a.nonce)throw i$('unexpected ID Token "nonce" claim value',oJ,{expected:void 0,claims:a,claim:"nonce"})}return o}let oU="OAUTH_WWW_AUTHENTICATE_CHALLENGE",oL="OAUTH_RESPONSE_BODY_ERROR",oM="OAUTH_UNSUPPORTED_OPERATION",o$="OAUTH_AUTHORIZATION_RESPONSE_ERROR",oH="OAUTH_JWT_USERINFO_EXPECTED",oW="OAUTH_PARSE_ERROR",oB="OAUTH_INVALID_RESPONSE",oK="OAUTH_RESPONSE_IS_NOT_JSON",oq="OAUTH_RESPONSE_IS_NOT_CONFORM",oV="OAUTH_HTTP_REQUEST_FORBIDDEN",oF="OAUTH_REQUEST_PROTOCOL_FORBIDDEN",oG="OAUTH_JWT_TIMESTAMP_CHECK_FAILED",oJ="OAUTH_JWT_CLAIM_COMPARISON_FAILED",oz="OAUTH_JSON_ATTRIBUTE_COMPARISON_FAILED",oX="OAUTH_MISSING_SERVER_METADATA",oY="OAUTH_INVALID_SERVER_METADATA";function oZ(e){if(e.bodyUsed)throw ix('"response" body has been used already',iR)}function oQ(e){let{algorithm:t}=e;if("number"!=typeof t.modulusLength||t.modulusLength<2048)throw new iL(`unsupported ${t.name} modulusLength`,{cause:e})}async function o0(e,t,r,n,i){let o,a,{0:s,1:c,length:u}=e.split(".");if(5===u)if(void 0!==i)e=await i(e),{0:s,1:c,length:u}=e.split(".");else throw new iL("JWE decryption is not configured",{cause:e});if(3!==u)throw i$("Invalid JWT",oB,e);try{o=JSON.parse(iD(iU(s)))}catch(e){throw i$("failed to parse JWT Header body as base64url encoded JSON",oW,e)}if(!iH(o))throw i$("JWT Header must be a top level object",oB,e);if(t(o),void 0!==o.crit)throw new iL('no JWT "crit" header parameter extensions are supported',{cause:{header:o}});try{a=JSON.parse(iD(iU(c)))}catch(e){throw i$("failed to parse JWT Payload body as base64url encoded JSON",oW,e)}if(!iH(a))throw i$("JWT Payload must be a top level object",oB,e);let l=i0()+r;if(void 0!==a.exp){if("number"!=typeof a.exp)throw i$('unexpected JWT "exp" (expiration time) claim type',oB,{claims:a});if(a.exp<=l-n)throw i$('unexpected JWT "exp" (expiration time) claim value, expiration is past current timestamp',oG,{claims:a,now:l,tolerance:n,claim:"exp"})}if(void 0!==a.iat&&"number"!=typeof a.iat)throw i$('unexpected JWT "iat" (issued at) claim type',oB,{claims:a});if(void 0!==a.iss&&"string"!=typeof a.iss)throw i$('unexpected JWT "iss" (issuer) claim type',oB,{claims:a});if(void 0!==a.nbf){if("number"!=typeof a.nbf)throw i$('unexpected JWT "nbf" (not before) claim type',oB,{claims:a});if(a.nbf>l+n)throw i$('unexpected JWT "nbf" (not before) claim value',oG,{claims:a,now:l,tolerance:n,claim:"nbf"})}if(void 0!==a.aud&&"string"!=typeof a.aud&&!Array.isArray(a.aud))throw i$('unexpected JWT "aud" (audience) claim type',oB,{claims:a});return{header:o,claims:a,jwt:e}}function o1(e,t,r,n){if(void 0!==e){if("string"==typeof e?n.alg!==e:!e.includes(n.alg))throw i$('unexpected JWT "alg" header parameter',oB,{header:n,expected:e,reason:"client configuration"});return}if(Array.isArray(t)){if(!t.includes(n.alg))throw i$('unexpected JWT "alg" header parameter',oB,{header:n,expected:t,reason:"authorization server metadata"});return}if(void 0!==r){if("string"==typeof r?n.alg!==r:"function"==typeof r?!r(n.alg):!r.includes(n.alg))throw i$('unexpected JWT "alg" header parameter',oB,{header:n,expected:r,reason:"default value"});return}throw i$('missing client or server configuration to verify used JWT "alg" header parameter',void 0,{client:e,issuer:t,fallback:r})}function o2(e,t){let{0:r,length:n}=e.getAll(t);if(n>1)throw i$(`"${t}" parameter must be provided only once`,oB);return r}let o3=Symbol(),o4=Symbol();async function o8(e,t=iz){let r;try{r=await e.json()}catch(r){throw t(e),i$('failed to parse "response" body as JSON',oW,r)}if(!iH(r))throw i$('"response" body must be a top level object',oB,{body:r});return r}let o6=Symbol(),o5=Symbol();async function o9(e,t,r){let{cookies:n,logger:i}=r,o=n[e],a=new Date;a.setTime(a.getTime()+9e5),i.debug(`CREATE_${e.toUpperCase()}`,{name:o.name,payload:t,COOKIE_TTL:900,expires:a});let s=await rH({...r.jwt,maxAge:900,token:{value:t},salt:o.name}),c={...o.options,expires:a};return{name:o.name,value:s,options:c}}async function o7(e,t,r){try{let{logger:n,cookies:i,jwt:o}=r;if(n.debug(`PARSE_${e.toUpperCase()}`,{cookie:t}),!t)throw new eT(`${e} cookie was missing`);let a=await rW({...o,token:t,salt:i[e].name});if(a?.value)return a.value;throw Error("Invalid cookie")}catch(t){throw new eT(`${e} value could not be parsed`,{cause:t})}}function ae(e,t,r){let{logger:n,cookies:i}=t,o=i[e];n.debug(`CLEAR_${e.toUpperCase()}`,{cookie:o}),r.push({name:o.name,value:"",options:{...i[e].options,maxAge:0}})}function at(e,t){return async function(r,n,i){let{provider:o,logger:a}=i;if(!o?.checks?.includes(e))return;let s=r?.[i.cookies[t].name];a.debug(`USE_${t.toUpperCase()}`,{value:s});let c=await o7(t,s,i);return ae(t,i,n),c}}let ar={async create(e){let t=iX(),r=await iY(t);return{cookie:await o9("pkceCodeVerifier",t,e),value:r}},use:at("pkce","pkceCodeVerifier")},an="encodedState",ai={async create(e,t){let{provider:r}=e;if(!r.checks.includes("state")){if(t)throw new eT("State data was provided but the provider is not configured to use state");return}let n={origin:t,random:iX()},i=await rH({secret:e.jwt.secret,token:n,salt:an,maxAge:900});return{cookie:await o9("state",i,e),value:i}},use:at("state","state"),async decode(e,t){try{t.logger.debug("DECODE_STATE",{state:e});let r=await rW({secret:t.jwt.secret,token:e,salt:an});if(r)return r;throw Error("Invalid state")}catch(e){throw new eT("State could not be decoded",{cause:e})}}},ao={async create(e){if(!e.provider.checks.includes("nonce"))return;let t=iX();return{cookie:await o9("nonce",t,e),value:t}},use:at("nonce","nonce")},aa="encodedWebauthnChallenge",as={create:async(e,t,r)=>({cookie:await o9("webauthnChallenge",await rH({secret:e.jwt.secret,token:{challenge:t,registerData:r},salt:aa,maxAge:900}),e)}),async use(e,t,r){let n=t?.[e.cookies.webauthnChallenge.name],i=await o7("webauthnChallenge",n,e),o=await rW({secret:e.jwt.secret,token:i,salt:aa});if(ae("webauthnChallenge",e,r),!o)throw new eT("WebAuthn challenge was missing");return o}};function ac(e){return encodeURIComponent(e).replace(/%20/g,"+")}async function au(e,t,r){var n,i;let o,a,s,c,u,{logger:l,provider:d}=r,{token:p,userinfo:h}=d;if(p?.url&&"authjs.dev"!==p.url.host||h?.url&&"authjs.dev"!==h.url.host)o={issuer:d.issuer??"https://authjs.dev",token_endpoint:p?.url.toString(),userinfo_endpoint:h?.url.toString()};else{let e=new URL(d.issuer),t=await iV(e,{[iP]:!0,[ik]:d[r9]});if(!(o=await iJ(e,t)).token_endpoint)throw TypeError("TODO: Authorization server did not provide a token endpoint.");if(!o.userinfo_endpoint)throw TypeError("TODO: Authorization server did not provide a userinfo endpoint.")}let f={client_id:d.clientId,...d.client};switch(f.token_endpoint_auth_method){case void 0:case"client_secret_basic":a=(e,t,r,n)=>{var i,o;let a,s,c;n.set("authorization",(i=d.clientId,o=d.clientSecret,a=ac(i),s=ac(o),c=btoa(`${a}:${s}`),`Basic ${c}`))};break;case"client_secret_post":iG(n=d.clientSecret,'"clientSecret"'),a=(e,t,r,i)=>{r.set("client_id",t.client_id),r.set("client_secret",n)};break;case"client_secret_jwt":iG(i=d.clientSecret,'"clientSecret"'),u=void 0,a=async(e,t,r,n)=>{c||=await crypto.subtle.importKey("raw",iD(i),{hash:"SHA-256",name:"HMAC"},!1,["sign"]);let o={alg:"HS256"},a=i3(e,t);u?.(o,a);let s=`${iU(iD(JSON.stringify(o)))}.${iU(iD(JSON.stringify(a)))}`,l=await crypto.subtle.sign(c.algorithm,c,iD(s));r.set("client_id",t.client_id),r.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),r.set("client_assertion",`${s}.${iU(new Uint8Array(l))}`)};break;case"private_key_jwt":a=function(e,t){let{key:r,kid:n}=e instanceof CryptoKey?{key:e}:e?.key instanceof CryptoKey?(void 0!==e.kid&&iG(e.kid,'"kid"'),{key:e.key,kid:e.kid}):{};var i='"clientPrivateKey.key"';if(!(r instanceof CryptoKey))throw ix(`${i} must be a CryptoKey`,iA);if("private"!==r.type)throw ix(`${i} must be a private CryptoKey`,iR);return async(e,i,o,a)=>{let s={alg:function(e){switch(e.algorithm.name){case"RSA-PSS":switch(e.algorithm.hash.name){case"SHA-256":return"PS256";case"SHA-384":return"PS384";case"SHA-512":return"PS512";default:throw new iL("unsupported RsaHashedKeyAlgorithm hash name",{cause:e})}case"RSASSA-PKCS1-v1_5":switch(e.algorithm.hash.name){case"SHA-256":return"RS256";case"SHA-384":return"RS384";case"SHA-512":return"RS512";default:throw new iL("unsupported RsaHashedKeyAlgorithm hash name",{cause:e})}case"ECDSA":switch(e.algorithm.namedCurve){case"P-256":return"ES256";case"P-384":return"ES384";case"P-521":return"ES512";default:throw new iL("unsupported EcKeyAlgorithm namedCurve",{cause:e})}case"Ed25519":case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return e.algorithm.name;case"EdDSA":return"Ed25519";default:throw new iL("unsupported CryptoKey algorithm name",{cause:e})}}(r),kid:n},c=i3(e,i);t?.[iC]?.(s,c),o.set("client_id",i.client_id),o.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),o.set("client_assertion",await i4(s,c,r))}}(d.token.clientPrivateKey,{[iC](e,t){t.aud=[o.issuer,o.token_endpoint]}});break;case"none":a=(e,t,r,n)=>{r.set("client_id",t.client_id)};break;default:throw Error("unsupported client authentication method")}let g=[],m=await ai.use(t,g,r);try{s=function(e,t,r,n){var i;if(i1(e),i2(t),r instanceof URL&&(r=r.searchParams),!(r instanceof URLSearchParams))throw ix('"parameters" must be an instance of URLSearchParams, or URL',iA);if(o2(r,"response"))throw i$('"parameters" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()',oB,{parameters:r});let o=o2(r,"iss"),a=o2(r,"state");if(!o&&e.authorization_response_iss_parameter_supported)throw i$('response parameter "iss" (issuer) missing',oB,{parameters:r});if(o&&o!==e.issuer)throw i$('unexpected "iss" (issuer) response parameter value',oB,{expected:e.issuer,parameters:r});switch(n){case void 0:case o4:if(void 0!==a)throw i$('unexpected "state" response parameter encountered',oB,{expected:void 0,parameters:r});break;case o3:break;default:if(iG(n,'"expectedState" argument'),a!==n)throw i$(void 0===a?'response parameter "state" missing':'unexpected "state" response parameter value',oB,{expected:n,parameters:r})}if(o2(r,"error"))throw new oe("authorization response from the server is an error",{cause:r});let s=o2(r,"id_token"),c=o2(r,"token");if(void 0!==s||void 0!==c)throw new iL("implicit and hybrid flows are not supported");return i=new URLSearchParams(r),ox.add(i),i}(o,f,new URLSearchParams(e),d.checks.includes("state")?m:o3)}catch(e){if(e instanceof oe){let t={providerId:d.id,...Object.fromEntries(e.cause.entries())};throw l.debug("OAuthCallbackError",t),new eU("OAuth Provider returned an error",t)}throw e}let y=await ar.use(t,g,r),b=d.callbackUrl;!r.isOnRedirectProxy&&d.redirectProxyUrl&&(b=d.redirectProxyUrl);let _=await oO(o,f,a,s,b,y??"decoy",{[iP]:!0,[ik]:(...e)=>(d.checks.includes("pkce")||e[1].body.delete("code_verifier"),(d[r9]??fetch)(...e))});d.token?.conform&&(_=await d.token.conform(_.clone())??_);let w={},v="oidc"===d.type;if(d[r7])switch(d.id){case"microsoft-entra-id":case"azure-ad":{let e=await _.clone().json();if(e.error){let t={providerId:d.id,...e};throw new eU(`OAuth Provider returned an error: ${e.error}`,t)}let{tid:t}=function(e){let t,r;if("string"!=typeof e)throw new ty("JWTs must use Compact JWS serialization, JWT must be a string");let{1:n,length:i}=e.split(".");if(5===i)throw new ty("Only JWTs using Compact JWS serialization can be decoded");if(3!==i)throw new ty("Invalid JWT");if(!n)throw new ty("JWTs must contain a payload");try{t=ts(n)}catch{throw new ty("Failed to base64url decode the payload")}try{r=JSON.parse(tt.decode(t))}catch{throw new ty("Failed to parse the decoded payload as JSON")}if(!tY(r))throw new ty("Invalid JWT Claims Set");return r}(e.id_token);if("string"==typeof t){let e=o.issuer?.match(/microsoftonline\.com\/(\w+)\/v2\.0/)?.[1]??"common",r=new URL(o.issuer.replace(e,t)),n=await iV(r,{[ik]:d[r9]});o=await iJ(r,n)}}}let E=await oN(o,f,_,{expectedNonce:await ao.use(t,g,r),requireIdToken:v});if(v){let t=o_(E);if(w=t,d[r7]&&"apple"===d.id)try{w.user=JSON.parse(e?.user)}catch{}if(!1===d.idToken){let e=await od(o,f,E.access_token,{[ik]:d[r9],[iP]:!0});w=await of(o,f,t.sub,e)}}else if(h?.request){let e=await h.request({tokens:E,provider:d});e instanceof Object&&(w=e)}else if(h?.url){let e=await od(o,f,E.access_token,{[ik]:d[r9],[iP]:!0});w=await e.json()}else throw TypeError("No userinfo endpoint configured");return E.expires_in&&(E.expires_at=Math.floor(Date.now()/1e3)+Number(E.expires_in)),{...await al(w,d,E,l),profile:w,cookies:g}}async function al(e,t,r,n){try{let n=await t.profile(e,r);return{user:{...n,id:crypto.randomUUID(),email:n.email?.toLowerCase()},account:{...r,provider:t.id,type:t.type,providerAccountId:n.id??crypto.randomUUID()}}}catch(r){n.debug("getProfile error details",e),n.error(new eL(r,{provider:t.id}))}}async function ad(e,t,r,n){let i=await am(e,t,r),{cookie:o}=await as.create(e,i.challenge,r);return{status:200,cookies:[...n??[],o],body:{action:"register",options:i},headers:{"Content-Type":"application/json"}}}async function ap(e,t,r,n){let i=await ag(e,t,r),{cookie:o}=await as.create(e,i.challenge);return{status:200,cookies:[...n??[],o],body:{action:"authenticate",options:i},headers:{"Content-Type":"application/json"}}}async function ah(e,t,r){let n,{adapter:i,provider:o}=e,a=t.body&&"string"==typeof t.body.data?JSON.parse(t.body.data):void 0;if(!a||"object"!=typeof a||!("id"in a)||"string"!=typeof a.id)throw new e_("Invalid WebAuthn Authentication response");let s=a_(ab(a.id)),c=await i.getAuthenticator(s);if(!c)throw new e_(`WebAuthn authenticator not found in database: ${JSON.stringify({credentialID:s})}`);let{challenge:u}=await as.use(e,t.cookies,r);try{var l;let r=o.getRelayingParty(e,t);n=await o.simpleWebAuthn.verifyAuthenticationResponse({...o.verifyAuthenticationOptions,expectedChallenge:u,response:a,authenticator:{...l=c,credentialDeviceType:l.credentialDeviceType,transports:aw(l.transports),credentialID:ab(l.credentialID),credentialPublicKey:ab(l.credentialPublicKey)},expectedOrigin:r.origin,expectedRPID:r.id})}catch(e){throw new ez(e)}let{verified:d,authenticationInfo:p}=n;if(!d)throw new ez("WebAuthn authentication response could not be verified");try{let{newCounter:e}=p;await i.updateAuthenticatorCounter(c.credentialID,e)}catch(e){throw new ev(`Failed to update authenticator counter. This may cause future authentication attempts to fail. ${JSON.stringify({credentialID:s,oldCounter:c.counter,newCounter:p.newCounter})}`,e)}let h=await i.getAccount(c.providerAccountId,o.id);if(!h)throw new e_(`WebAuthn account not found in database: ${JSON.stringify({credentialID:s,providerAccountId:c.providerAccountId})}`);let f=await i.getUser(h.userId);if(!f)throw new e_(`WebAuthn user not found in database: ${JSON.stringify({credentialID:s,providerAccountId:c.providerAccountId,userID:h.userId})}`);return{account:h,user:f}}async function af(e,t,r){var n;let i,{provider:o}=e,a=t.body&&"string"==typeof t.body.data?JSON.parse(t.body.data):void 0;if(!a||"object"!=typeof a||!("id"in a)||"string"!=typeof a.id)throw new e_("Invalid WebAuthn Registration response");let{challenge:s,registerData:c}=await as.use(e,t.cookies,r);if(!c)throw new e_("Missing user registration data in WebAuthn challenge cookie");try{let r=o.getRelayingParty(e,t);i=await o.simpleWebAuthn.verifyRegistrationResponse({...o.verifyRegistrationOptions,expectedChallenge:s,response:a,expectedOrigin:r.origin,expectedRPID:r.id})}catch(e){throw new ez(e)}if(!i.verified||!i.registrationInfo)throw new ez("WebAuthn registration response could not be verified");let u={providerAccountId:a_(i.registrationInfo.credentialID),provider:e.provider.id,type:o.type},l={providerAccountId:u.providerAccountId,counter:i.registrationInfo.counter,credentialID:a_(i.registrationInfo.credentialID),credentialPublicKey:a_(i.registrationInfo.credentialPublicKey),credentialBackedUp:i.registrationInfo.credentialBackedUp,credentialDeviceType:i.registrationInfo.credentialDeviceType,transports:(n=a.response.transports,n?.join(","))};return{user:c,account:u,authenticator:l}}async function ag(e,t,r){let{provider:n,adapter:i}=e,o=r&&r.id?await i.listAuthenticatorsByUserId(r.id):null,a=n.getRelayingParty(e,t);return await n.simpleWebAuthn.generateAuthenticationOptions({...n.authenticationOptions,rpID:a.id,allowCredentials:o?.map(e=>({id:ab(e.credentialID),type:"public-key",transports:aw(e.transports)}))})}async function am(e,t,r){let{provider:n,adapter:i}=e,o=r.id?await i.listAuthenticatorsByUserId(r.id):null,a=r1(32),s=n.getRelayingParty(e,t);return await n.simpleWebAuthn.generateRegistrationOptions({...n.registrationOptions,userID:a,userName:r.email,userDisplayName:r.name??void 0,rpID:s.id,rpName:s.name,excludeCredentials:o?.map(e=>({id:ab(e.credentialID),type:"public-key",transports:aw(e.transports)}))})}function ay(e){let{provider:t,adapter:r}=e;if(!r)throw new eC("An adapter is required for the WebAuthn provider");if(!t||"webauthn"!==t.type)throw new eB("Provider must be WebAuthn");return{...e,provider:t,adapter:r}}function ab(e){return new Uint8Array(Buffer.from(e,"base64"))}function a_(e){return Buffer.from(e).toString("base64")}function aw(e){return e?e.split(","):void 0}async function av(e,t,r,n){if(!t.provider)throw new eB("Callback route called without provider");let{query:i,body:o,method:a,headers:s}=e,{provider:c,adapter:u,url:l,callbackUrl:d,pages:p,jwt:h,events:f,callbacks:g,session:{strategy:m,maxAge:y},logger:b}=t,_="jwt"===m;try{if("oauth"===c.type||"oidc"===c.type){let a,s=c.authorization?.url.searchParams.get("response_mode")==="form_post"?o:i;if(t.isOnRedirectProxy&&s?.state){let e=await ai.decode(s.state,t);if(e?.origin&&new URL(e.origin).origin!==t.url.origin){let t=`${e.origin}?${new URLSearchParams(s)}`;return b.debug("Proxy redirecting to",t),{redirect:t,cookies:n}}}let m=await au(s,e.cookies,t);m.cookies.length&&n.push(...m.cookies),b.debug("authorization result",m);let{user:w,account:v,profile:E}=m;if(!w||!v||!E)return{redirect:`${l}/signin`,cookies:n};if(u){let{getUserByAccount:e}=u;a=await e({providerAccountId:v.providerAccountId,provider:c.id})}let S=await aE({user:a??w,account:v,profile:E},t);if(S)return{redirect:S,cookies:n};let{user:R,session:A,isNewUser:x}=await iE(r.value,w,v,t);if(_){let e={name:R.name,email:R.email,picture:R.image,sub:R.id?.toString()},i=await g.jwt({token:e,user:R,account:v,profile:E,isNewUser:x,trigger:x?"signUp":"signIn"});if(null===i)n.push(...r.clean());else{let e=t.cookies.sessionToken.name,o=await h.encode({...h,token:i,salt:e}),a=new Date;a.setTime(a.getTime()+1e3*y);let s=r.chunk(o,{expires:a});n.push(...s)}}else n.push({name:t.cookies.sessionToken.name,value:A.sessionToken,options:{...t.cookies.sessionToken.options,expires:A.expires}});if(await f.signIn?.({user:R,account:v,profile:E,isNewUser:x}),x&&p.newUser)return{redirect:`${p.newUser}${p.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:d})}`,cookies:n};return{redirect:d,cookies:n}}if("email"===c.type){let e=i?.token,o=i?.email;if(!e){let t=TypeError("Missing token. The sign-in URL was manually opened without token or the link was not sent correctly in the email.",{cause:{hasToken:!!e}});throw t.name="Configuration",t}let a=c.secret??t.secret,s=await u.useVerificationToken({identifier:o,token:await r0(`${e}${a}`)}),l=!!s,m=l&&s.expires.valueOf()<Date.now();if(!l||m||o&&s.identifier!==o)throw new eq({hasInvite:l,expired:m});let{identifier:b}=s,w=await u.getUserByEmail(b)??{id:crypto.randomUUID(),email:b,emailVerified:null},v={providerAccountId:w.email,userId:w.id,type:"email",provider:c.id},E=await aE({user:w,account:v},t);if(E)return{redirect:E,cookies:n};let{user:S,session:R,isNewUser:A}=await iE(r.value,w,v,t);if(_){let e={name:S.name,email:S.email,picture:S.image,sub:S.id?.toString()},i=await g.jwt({token:e,user:S,account:v,isNewUser:A,trigger:A?"signUp":"signIn"});if(null===i)n.push(...r.clean());else{let e=t.cookies.sessionToken.name,o=await h.encode({...h,token:i,salt:e}),a=new Date;a.setTime(a.getTime()+1e3*y);let s=r.chunk(o,{expires:a});n.push(...s)}}else n.push({name:t.cookies.sessionToken.name,value:R.sessionToken,options:{...t.cookies.sessionToken.options,expires:R.expires}});if(await f.signIn?.({user:S,account:v,isNewUser:A}),A&&p.newUser)return{redirect:`${p.newUser}${p.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:d})}`,cookies:n};return{redirect:d,cookies:n}}if("credentials"===c.type&&"POST"===a){let e=o??{};Object.entries(i??{}).forEach(([e,t])=>l.searchParams.set(e,t));let u=await c.authorize(e,new Request(l,{headers:s,method:a,body:JSON.stringify(o)}));if(u)u.id=u.id?.toString()??crypto.randomUUID();else throw new eP;let p={providerAccountId:u.id,type:"credentials",provider:c.id},m=await aE({user:u,account:p,credentials:e},t);if(m)return{redirect:m,cookies:n};let b={name:u.name,email:u.email,picture:u.image,sub:u.id},_=await g.jwt({token:b,user:u,account:p,isNewUser:!1,trigger:"signIn"});if(null===_)n.push(...r.clean());else{let e=t.cookies.sessionToken.name,i=await h.encode({...h,token:_,salt:e}),o=new Date;o.setTime(o.getTime()+1e3*y);let a=r.chunk(i,{expires:o});n.push(...a)}return await f.signIn?.({user:u,account:p}),{redirect:d,cookies:n}}else if("webauthn"===c.type&&"POST"===a){let i,o,a,s=e.body?.action;if("string"!=typeof s||"authenticate"!==s&&"register"!==s)throw new e_("Invalid action parameter");let c=ay(t);switch(s){case"authenticate":{let t=await ah(c,e,n);i=t.user,o=t.account;break}case"register":{let r=await af(t,e,n);i=r.user,o=r.account,a=r.authenticator}}await aE({user:i,account:o},t);let{user:u,isNewUser:l,session:m,account:b}=await iE(r.value,i,o,t);if(!b)throw new e_("Error creating or finding account");if(a&&u.id&&await c.adapter.createAuthenticator({...a,userId:u.id}),_){let e={name:u.name,email:u.email,picture:u.image,sub:u.id?.toString()},i=await g.jwt({token:e,user:u,account:b,isNewUser:l,trigger:l?"signUp":"signIn"});if(null===i)n.push(...r.clean());else{let e=t.cookies.sessionToken.name,o=await h.encode({...h,token:i,salt:e}),a=new Date;a.setTime(a.getTime()+1e3*y);let s=r.chunk(o,{expires:a});n.push(...s)}}else n.push({name:t.cookies.sessionToken.name,value:m.sessionToken,options:{...t.cookies.sessionToken.options,expires:m.expires}});if(await f.signIn?.({user:u,account:b,isNewUser:l}),l&&p.newUser)return{redirect:`${p.newUser}${p.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:d})}`,cookies:n};return{redirect:d,cookies:n}}throw new eB(`Callback for provider type (${c.type}) is not supported`)}catch(t){if(t instanceof e_)throw t;let e=new eS(t,{provider:c.id});throw b.debug("callback route error details",{method:a,query:i,body:o}),e}}async function aE(e,t){let r,{signIn:n,redirect:i}=t.callbacks;try{r=await n(e)}catch(e){if(e instanceof e_)throw e;throw new eE(e)}if(!r)throw new eE("AccessDenied");if("string"==typeof r)return await i({url:r,baseUrl:t.url.origin})}async function aS(e,t,r,n,i){let{adapter:o,jwt:a,events:s,callbacks:c,logger:u,session:{strategy:l,maxAge:d}}=e,p={body:null,headers:{"Content-Type":"application/json",...!n&&{"Cache-Control":"private, no-cache, no-store",Expires:"0",Pragma:"no-cache"}},cookies:r},h=t.value;if(!h)return p;if("jwt"===l){try{let r=e.cookies.sessionToken.name,o=await a.decode({...a,token:h,salt:r});if(!o)throw Error("Invalid JWT");let u=await c.jwt({token:o,...n&&{trigger:"update"},session:i}),l=iv(d);if(null!==u){let e={user:{name:u.name,email:u.email,image:u.picture},expires:l.toISOString()},n=await c.session({session:e,token:u});p.body=n;let i=await a.encode({...a,token:u,salt:r}),o=t.chunk(i,{expires:l});p.cookies?.push(...o),await s.session?.({session:n,token:u})}else p.cookies?.push(...t.clean())}catch(e){u.error(new ek(e)),p.cookies?.push(...t.clean())}return p}try{let{getSessionAndUser:r,deleteSession:a,updateSession:u}=o,l=await r(h);if(l&&l.session.expires.valueOf()<Date.now()&&(await a(h),l=null),l){let{user:t,session:r}=l,o=e.session.updateAge,a=r.expires.valueOf()-1e3*d+1e3*o,f=iv(d);a<=Date.now()&&await u({sessionToken:h,expires:f});let g=await c.session({session:{...r,user:t},user:t,newSession:i,...n?{trigger:"update"}:{}});p.body=g,p.cookies?.push({name:e.cookies.sessionToken.name,value:h,options:{...e.cookies.sessionToken.options,expires:f}}),await s.session?.({session:g})}else h&&p.cookies?.push(...t.clean())}catch(e){u.error(new eM(e))}return p}async function aR(e,t){let r,n,{logger:i,provider:o}=t,a=o.authorization?.url;if(!a||"authjs.dev"===a.host){let e=new URL(o.issuer),t=await iV(e,{[ik]:o[r9],[iP]:!0}),r=await iJ(e,t).catch(t=>{if(!(t instanceof TypeError)||"Invalid URL"!==t.message)throw t;throw TypeError(`Discovery request responded with an invalid issuer. expected: ${e}`)});if(!r.authorization_endpoint)throw TypeError("Authorization server did not provide an authorization endpoint.");a=new URL(r.authorization_endpoint)}let s=a.searchParams,c=o.callbackUrl;!t.isOnRedirectProxy&&o.redirectProxyUrl&&(c=o.redirectProxyUrl,n=o.callbackUrl,i.debug("using redirect proxy",{redirect_uri:c,data:n}));let u=Object.assign({response_type:"code",client_id:o.clientId,redirect_uri:c,...o.authorization?.params},Object.fromEntries(o.authorization?.url.searchParams??[]),e);for(let e in u)s.set(e,u[e]);let l=[];o.authorization?.url.searchParams.get("response_mode")==="form_post"&&(t.cookies.state.options.sameSite="none",t.cookies.state.options.secure=!0,t.cookies.nonce.options.sameSite="none",t.cookies.nonce.options.secure=!0);let d=await ai.create(t,n);if(d&&(s.set("state",d.value),l.push(d.cookie)),o.checks?.includes("pkce"))if(r&&!r.code_challenge_methods_supported?.includes("S256"))"oidc"===o.type&&(o.checks=["nonce"]);else{let{value:e,cookie:r}=await ar.create(t);s.set("code_challenge",e),s.set("code_challenge_method","S256"),l.push(r)}let p=await ao.create(t);return p&&(s.set("nonce",p.value),l.push(p.cookie)),"oidc"!==o.type||a.searchParams.has("scope")||a.searchParams.set("scope","openid profile email"),i.debug("authorization url is ready",{url:a,cookies:l,provider:o}),{redirect:a.toString(),cookies:l}}async function aA(e,t){let r,{body:n}=e,{provider:i,callbacks:o,adapter:a}=t,s=(i.normalizeIdentifier??function(e){if(!e)throw Error("Missing email from request body.");let[t,r]=e.toLowerCase().trim().split("@");return r=r.split(",")[0],`${t}@${r}`})(n?.email),c={id:crypto.randomUUID(),email:s,emailVerified:null},u=await a.getUserByEmail(s)??c,l={providerAccountId:s,userId:u.id,type:"email",provider:i.id};try{r=await o.signIn({user:u,account:l,email:{verificationRequest:!0}})}catch(e){throw new eE(e)}if(!r)throw new eE("AccessDenied");if("string"==typeof r)return{redirect:await o.redirect({url:r,baseUrl:t.url.origin})};let{callbackUrl:d,theme:p}=t,h=await i.generateVerificationToken?.()??r1(32),f=new Date(Date.now()+(i.maxAge??86400)*1e3),g=i.secret??t.secret,m=new URL(t.basePath,t.url.origin),y=i.sendVerificationRequest({identifier:s,token:h,expires:f,url:`${m}/callback/${i.id}?${new URLSearchParams({callbackUrl:d,token:h,email:s})}`,provider:i,theme:p,request:new Request(e.url,{headers:e.headers,method:e.method,body:"POST"===e.method?JSON.stringify(e.body??{}):void 0})}),b=a.createVerificationToken?.({identifier:s,token:await r0(`${h}${g}`),expires:f});return await Promise.all([y,b]),{redirect:`${m}/verify-request?${new URLSearchParams({provider:i.id,type:i.type})}`}}async function ax(e,t,r){let n=`${r.url.origin}${r.basePath}/signin`;if(!r.provider)return{redirect:n,cookies:t};switch(r.provider.type){case"oauth":case"oidc":{let{redirect:n,cookies:i}=await aR(e.query,r);return i&&t.push(...i),{redirect:n,cookies:t}}case"email":return{...await aA(e,r),cookies:t};default:return{redirect:n,cookies:t}}}async function aP(e,t,r){let{jwt:n,events:i,callbackUrl:o,logger:a,session:s}=r,c=t.value;if(!c)return{redirect:o,cookies:e};try{if("jwt"===s.strategy){let e=r.cookies.sessionToken.name,t=await n.decode({...n,token:c,salt:e});await i.signOut?.({token:t})}else{let e=await r.adapter?.deleteSession(c);await i.signOut?.({session:e})}}catch(e){a.error(new e$(e))}return e.push(...t.clean()),{redirect:o,cookies:e}}async function aO(e,t){let{adapter:r,jwt:n,session:{strategy:i}}=e,o=t.value;if(!o)return null;if("jwt"===i){let t=e.cookies.sessionToken.name,r=await n.decode({...n,token:o,salt:t});if(r&&r.sub)return{id:r.sub,name:r.name,email:r.email,image:r.picture}}else{let e=await r?.getSessionAndUser(o);if(e)return e.user}return null}async function aT(e,t,r,n){let i=ay(t),{provider:o}=i,{action:a}=e.query??{};if("register"!==a&&"authenticate"!==a&&void 0!==a)return{status:400,body:{error:"Invalid action"},cookies:n,headers:{"Content-Type":"application/json"}};let s=await aO(t,r),c=s?{user:s,exists:!0}:await o.getUserInfo(t,e),u=c?.user;switch(function(e,t,r){let{user:n,exists:i=!1}=r??{};switch(e){case"authenticate":return"authenticate";case"register":if(n&&t===i)return"register";break;case void 0:if(!t)if(!n)return"authenticate";else if(i)return"authenticate";else return"register"}return null}(a,!!s,c)){case"authenticate":return ap(i,e,u,n);case"register":if("string"==typeof u?.email)return ad(i,e,u,n);break;default:return{status:400,body:{error:"Invalid request"},cookies:n,headers:{"Content-Type":"application/json"}}}}async function ak(e,t){let{action:r,providerId:n,error:i,method:o}=e,a=t.skipCSRFCheck===r6,{options:s,cookies:c}=await no({authOptions:t,action:r,providerId:n,url:e.url,callbackUrl:e.body?.callbackUrl??e.query?.callbackUrl,csrfToken:e.body?.csrfToken,cookies:e.cookies,isPost:"POST"===o,csrfDisabled:a}),u=new eb(s.cookies.sessionToken,e.cookies,s.logger);if("GET"===o){let t=iw({...s,query:e.query,cookies:c});switch(r){case"callback":return await av(e,s,u,c);case"csrf":return t.csrf(a,s,c);case"error":return t.error(i);case"providers":return t.providers(s.providers);case"session":return await aS(s,u,c);case"signin":return t.signin(n,i);case"signout":return t.signout();case"verify-request":return t.verifyRequest();case"webauthn-options":return await aT(e,s,u,c)}}else{let{csrfTokenVerified:t}=s;switch(r){case"callback":return"credentials"===s.provider.type&&r3(r,t),await av(e,s,u,c);case"session":return r3(r,t),await aS(s,u,c,!0,e.body?.data);case"signin":return r3(r,t),await ax(e,c,s);case"signout":return r3(r,t),await aP(c,u,s)}}throw new eH(`Cannot handle action: ${r}`)}function aC(e,t,r,n,i){let o,a=i?.basePath,s=n.AUTH_URL??n.NEXTAUTH_URL;if(s)o=new URL(s),a&&"/"!==a&&"/"!==o.pathname&&(o.pathname!==a&&rG(i).warn("env-url-basepath-mismatch"),o.pathname="/");else{let e=r.get("x-forwarded-host")??r.get("host"),n=r.get("x-forwarded-proto")??t??"https",i=n.endsWith(":")?n:n+":";o=new URL(`${i}//${e}`)}let c=o.toString().replace(/\/$/,"");if(a){let t=a?.replace(/(^\/|\/$)/g,"")??"";return new URL(`${c}/${t}/${e}`)}return new URL(`${c}/${e}`)}async function aI(e,t){let r=rG(t),n=await rZ(e,t);if(!n)return Response.json("Bad request.",{status:400});let i=function(e,t){let{url:r}=e,n=[];if(!eZ&&t.debug&&n.push("debug-enabled"),!t.trustHost)return new eK(`Host must be trusted. URL was: ${e.url}`);if(!t.secret?.length)return new ej("Please define a `secret`");let i=e.query?.callbackUrl;if(i&&!eQ(i,r.origin))return new ex(`Invalid callback URL. Received: ${i}`);let{callbackUrl:o}=ey(t.useSecureCookies??"https:"===r.protocol),a=e.cookies?.[t.cookies?.callbackUrl?.name??o.name];if(a&&!eQ(a,r.origin))return new ex(`Invalid callback URL. Received: ${a}`);let s=!1;for(let e of t.providers){let t="function"==typeof e?e():e;if(("oauth"===t.type||"oidc"===t.type)&&!(t.issuer??t.options?.issuer)){let e,{authorization:r,token:n,userinfo:i}=t;if("string"==typeof r||r?.url?"string"==typeof n||n?.url?"string"==typeof i||i?.url||(e="userinfo"):e="token":e="authorization",e)return new eO(`Provider "${t.id}" is missing both \`issuer\` and \`${e}\` endpoint config. At least one of them is required`)}if("credentials"===t.type)e0=!0;else if("email"===t.type)e1=!0;else if("webauthn"===t.type){var c;if(e2=!0,t.simpleWebAuthnBrowserVersion&&(c=t.simpleWebAuthnBrowserVersion,!/^v\d+(?:\.\d+){0,2}$/.test(c)))return new e_(`Invalid provider config for "${t.id}": simpleWebAuthnBrowserVersion "${t.simpleWebAuthnBrowserVersion}" must be a valid semver string.`);if(t.enableConditionalUI){if(s)return new eG("Multiple webauthn providers have 'enableConditionalUI' set to True. Only one provider can have this option enabled at a time");if(s=!0,!Object.values(t.formFields).some(e=>e.autocomplete&&e.autocomplete.toString().indexOf("webauthn")>-1))return new eJ(`Provider "${t.id}" has 'enableConditionalUI' set to True, but none of its formFields have 'webauthn' in their autocomplete param`)}}}if(e0){let e=t.session?.strategy==="database",r=!t.providers.some(e=>"credentials"!==("function"==typeof e?e():e).type);if(e&&r)return new eW("Signing in with credentials only supported if JWT strategy is enabled");if(t.providers.some(e=>{let t="function"==typeof e?e():e;return"credentials"===t.type&&!t.authorize}))return new eN("Must define an authorize() handler to use credentials authentication provider")}let{adapter:u,session:l}=t,d=[];if(e1||l?.strategy==="database"||!l?.strategy&&u)if(e1){if(!u)return new eC("Email login requires an adapter");d.push(...e3)}else{if(!u)return new eC("Database session requires an adapter");d.push(...e4)}if(e2){if(!t.experimental?.enableWebAuthn)return new eY("WebAuthn is an experimental feature. To enable it, set `experimental.enableWebAuthn` to `true` in your config");if(n.push("experimental-webauthn"),!u)return new eC("WebAuthn requires an adapter");d.push(...e8)}if(u){let e=d.filter(e=>!(e in u));if(e.length)return new eI(`Required adapter methods were missing: ${e.join(", ")}`)}return eZ||(eZ=!0),n}(n,t);if(Array.isArray(i))i.forEach(r.warn);else if(i){if(r.error(i),!new Set(["signin","signout","error","verify-request"]).has(n.action)||"GET"!==n.method)return Response.json({message:"There was a problem with the server configuration. Check the server logs for more information."},{status:500});let{pages:e,theme:o}=t,a=e?.error&&n.url.searchParams.get("callbackUrl")?.startsWith(e.error);if(!e?.error||a)return a&&r.error(new eR(`The error page ${e?.error} should not require authentication`)),rQ(iw({theme:o}).error("Configuration"));let s=`${n.url.origin}${e.error}?error=Configuration`;return Response.redirect(s)}let o=e.headers?.has("X-Auth-Return-Redirect"),a=t.raw===r5;try{let e=await ak(n,t);if(a)return e;let r=rQ(e),i=r.headers.get("Location");if(!o||!i)return r;return Response.json({url:i},{headers:r.headers})}catch(d){r.error(d);let i=d instanceof e_;if(i&&a&&!o)throw d;if("POST"===e.method&&"session"===n.action)return Response.json(null,{status:400});let s=new URLSearchParams({error:d instanceof e_&&eF.has(d.type)?d.type:"Configuration"});d instanceof eP&&s.set("code",d.code);let c=i&&d.kind||"error",u=t.pages?.[c]??`${t.basePath}/${c.toLowerCase()}`,l=`${n.url.origin}${u}?${s}`;if(o)return Response.json({url:l});return Response.redirect(l)}}var aN=e.i(86205);function aj(e){let t=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!t)return e;let{origin:r}=new URL(t),{href:n,origin:i}=e.nextUrl;return new aN.NextRequest(n.replace(i,r),e)}function aD(e){try{e.secret??(e.secret=process.env.AUTH_SECRET??process.env.NEXTAUTH_SECRET);let t=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!t)return;let{pathname:r}=new URL(t);if("/"===r)return;e.basePath||(e.basePath=r)}catch{}finally{e.basePath||(e.basePath="/api/auth"),function(e,t,r=!1){try{let n=e.AUTH_URL;n&&(t.basePath?r||rG(t).warn("env-url-basepath-redundant"):t.basePath=new URL(n).pathname)}catch{}finally{t.basePath??(t.basePath="/auth")}if(!t.secret?.length){t.secret=[];let r=e.AUTH_SECRET;for(let n of(r&&t.secret.push(r),[1,2,3])){let r=e[`AUTH_SECRET_${n}`];r&&t.secret.unshift(r)}}t.redirectProxyUrl??(t.redirectProxyUrl=e.AUTH_REDIRECT_PROXY_URL),t.trustHost??(t.trustHost=!!(e.AUTH_URL??e.AUTH_TRUST_HOST??e.VERCEL??e.CF_PAGES??"production"!==e.NODE_ENV)),t.providers=t.providers.map(t=>{let{id:r}="function"==typeof t?t({}):t,n=r.toUpperCase().replace(/-/g,"_"),i=e[`AUTH_${n}_ID`],o=e[`AUTH_${n}_SECRET`],a=e[`AUTH_${n}_ISSUER`],s=e[`AUTH_${n}_KEY`],c="function"==typeof t?t({clientId:i,clientSecret:o,issuer:a,apiKey:s}):t;return"oauth"===c.type||"oidc"===c.type?(c.clientId??(c.clientId=i),c.clientSecret??(c.clientSecret=o),c.issuer??(c.issuer=a)):"email"===c.type&&(c.apiKey??(c.apiKey=s)),c})}(process.env,e,!0)}}var aU=e.i(48159);async function aL(e,t){return aI(new Request(aC("session",e.get("x-forwarded-proto"),e,process.env,t),{headers:{cookie:e.get("cookie")??""}}),{...t,callbacks:{...t.callbacks,async session(...e){let r=await t.callbacks?.session?.(...e)??{...e[0].session,expires:e[0].session.expires?.toISOString?.()??e[0].session.expires};return{user:e[0].user??e[0].token,...r}}}})}function aM(e){return"function"==typeof e}function a$(e,t){return"function"==typeof e?async(...r)=>{if(!r.length){let r=await (0,aU.headers)(),n=await e(void 0);return t?.(n),aL(r,n).then(e=>e.json())}if(r[0]instanceof Request){let n=r[0],i=r[1],o=await e(n);return t?.(o),aH([n,i],o)}if(aM(r[0])){let n=r[0];return async(...r)=>{let i=await e(r[0]);return t?.(i),aH(r,i,n)}}let n="req"in r[0]?r[0].req:r[0],i="res"in r[0]?r[0].res:r[1],o=await e(n);return t?.(o),aL(new Headers(n.headers),o).then(async e=>{let t=await e.json();for(let t of e.headers.getSetCookie())"headers"in i?i.headers.append("set-cookie",t):i.appendHeader("set-cookie",t);return t})}:(...t)=>{if(!t.length)return Promise.resolve((0,aU.headers)()).then(t=>aL(t,e).then(e=>e.json()));if(t[0]instanceof Request)return aH([t[0],t[1]],e);if(aM(t[0])){let r=t[0];return async(...t)=>aH(t,e,r).then(e=>e)}let r="req"in t[0]?t[0].req:t[0],n="res"in t[0]?t[0].res:t[1];return aL(new Headers(r.headers),e).then(async e=>{let t=await e.json();for(let t of e.headers.getSetCookie())"headers"in n?n.headers.append("set-cookie",t):n.appendHeader("set-cookie",t);return t})}}async function aH(e,t,r){let n=aj(e[0]),i=await aL(n.headers,t),o=await i.json(),a=!0;t.callbacks?.authorized&&(a=await t.callbacks.authorized({request:n,auth:o}));let s=aN.NextResponse.next?.();if(a instanceof Response){var c,u,l;let e,r;s=a;let i=a.headers.get("Location"),{pathname:o}=n.nextUrl;i&&(c=o,u=new URL(i).pathname,l=t,e=u.replace(`${c}/`,""),r=Object.values(l.pages??{}),(aW.has(e)||r.includes(u))&&u===c)&&(a=!0)}else if(r)n.auth=o,s=await r(n,e[1])??aN.NextResponse.next();else if(!a){let e=t.pages?.signIn??`${t.basePath}/signin`;if(n.nextUrl.pathname!==e){let t=n.nextUrl.clone();t.pathname=e,t.searchParams.set("callbackUrl",n.nextUrl.href),s=aN.NextResponse.redirect(t)}}let d=new Response(s?.body,s);for(let e of i.headers.getSetCookie())d.headers.append("set-cookie",e);return d}let aW=new Set(["providers","session","csrf","signin","signout","callback","verify-request","error"]);var aB=e.i(93704);async function aK(e,t={},r,n){let i=new Headers(await (0,aU.headers)()),{redirect:o=!0,redirectTo:a,...s}=t instanceof FormData?Object.fromEntries(t):t,c=a?.toString()??i.get("Referer")??"/",u=aC("signin",i.get("x-forwarded-proto"),i,process.env,n);if(!e)return u.searchParams.append("callbackUrl",c),o&&(0,aB.redirect)(u.toString()),u.toString();let l=`${u}/${e}?${new URLSearchParams(r)}`,d={};for(let t of n.providers){let{options:r,...n}="function"==typeof t?t():t,i=r?.id??n.id;if(i===e){d={id:i,type:r?.type??n.type};break}}if(!d.id){let e=`${u}?${new URLSearchParams({callbackUrl:c})}`;return o&&(0,aB.redirect)(e),e}"credentials"===d.type&&(l=l.replace("signin","callback")),i.set("Content-Type","application/x-www-form-urlencoded");let p=new Request(l,{method:"POST",headers:i,body:new URLSearchParams({...s,callbackUrl:c})}),h=await aI(p,{...n,raw:r5,skipCSRFCheck:r6}),f=await (0,aU.cookies)();for(let e of h?.cookies??[])f.set(e.name,e.value,e.options);let g=(h instanceof Response?h.headers.get("Location"):h.redirect)??l;return o?(0,aB.redirect)(g):g}async function aq(e,t){let r=new Headers(await (0,aU.headers)());r.set("Content-Type","application/x-www-form-urlencoded");let n=aC("signout",r.get("x-forwarded-proto"),r,process.env,t),i=new URLSearchParams({callbackUrl:e?.redirectTo??r.get("Referer")??"/"}),o=new Request(n,{method:"POST",headers:r,body:i}),a=await aI(o,{...t,raw:r5,skipCSRFCheck:r6}),s=await (0,aU.cookies)();for(let e of a?.cookies??[])s.set(e.name,e.value,e.options);return e?.redirect??!0?(0,aB.redirect)(a.redirect):a}async function aV(e,t){let r=new Headers(await (0,aU.headers)());r.set("Content-Type","application/json");let n=new Request(aC("session",r.get("x-forwarded-proto"),r,process.env,t),{method:"POST",headers:r,body:JSON.stringify({data:e})}),i=await aI(n,{...t,raw:r5,skipCSRFCheck:r6}),o=await (0,aU.cookies)();for(let e of i?.cookies??[])o.set(e.name,e.value,e.options);return i.body}let{handlers:aF,auth:aG,signIn:aJ,signOut:az}=function(e){if("function"==typeof e){let t=async t=>{let r=await e(t);return aD(r),aI(aj(t),r)};return{handlers:{GET:t,POST:t},auth:a$(e,e=>aD(e)),signIn:async(t,r,n)=>{let i=await e(void 0);return aD(i),aK(t,r,n,i)},signOut:async t=>{let r=await e(void 0);return aD(r),aq(t,r)},unstable_update:async t=>{let r=await e(void 0);return aD(r),aV(t,r)}}}aD(e);let t=t=>aI(aj(t),e);return{handlers:{GET:t,POST:t},auth:a$(e),signIn:(t,r,n)=>aK(t,r,n,e),signOut:t=>aq(t,e),unstable_update:t=>aV(t,e)}}({adapter:{createUser:({id:e,...t})=>eh.user.create(ef(t)),getUser:e=>eh.user.findUnique({where:{id:e}}),getUserByEmail:e=>eh.user.findUnique({where:{email:e}}),async getUserByAccount(e){let t=await eh.account.findUnique({where:{provider_providerAccountId:e},include:{user:!0}});return t?.user??null},updateUser:({id:e,...t})=>eh.user.update({where:{id:e},...ef(t)}),deleteUser:e=>eh.user.delete({where:{id:e}}),linkAccount:e=>eh.account.create({data:e}),unlinkAccount:e=>eh.account.delete({where:{provider_providerAccountId:e}}),async getSessionAndUser(e){let t=await eh.session.findUnique({where:{sessionToken:e},include:{user:!0}});if(!t)return null;let{user:r,...n}=t;return{user:r,session:n}},createSession:e=>eh.session.create(ef(e)),updateSession:e=>eh.session.update({where:{sessionToken:e.sessionToken},...ef(e)}),deleteSession:e=>eh.session.delete({where:{sessionToken:e}}),async createVerificationToken(e){let t=await eh.verificationToken.create(ef(e));return"id"in t&&t.id&&delete t.id,t},async useVerificationToken(e){try{let t=await eh.verificationToken.delete({where:{identifier_token:e}});return"id"in t&&t.id&&delete t.id,t}catch(e){if(e&&"object"==typeof e&&"code"in e&&"P2025"===e.code)return null;throw e}},getAccount:async(e,t)=>eh.account.findFirst({where:{providerAccountId:e,provider:t}}),createAuthenticator:async e=>eh.authenticator.create(ef(e)),getAuthenticator:async e=>eh.authenticator.findUnique({where:{credentialID:e}}),listAuthenticatorsByUserId:async e=>eh.authenticator.findMany({where:{userId:e}}),updateAuthenticatorCounter:async(e,t)=>eh.authenticator.update({where:{credentialID:e},data:{counter:t}})},providers:[{id:"google",name:"Google",type:"oidc",issuer:"https://accounts.google.com",style:{brandColor:"#1a73e8"},options:{clientId:process.env.AUTH_GOOGLE_ID,clientSecret:process.env.AUTH_GOOGLE_SECRET,authorization:{params:{prompt:"consent",access_type:"offline",response_type:"code"}}}}],session:{strategy:"jwt"},callbacks:{jwt:async({token:e,user:t,account:r})=>(t&&(e.id=t.id,e.roles=t.roles),r&&(e.accessToken=r.access_token),e),session:async({session:e,token:t})=>(e.user&&(e.user.id=t.id,e.user.roles=t.roles),e)}}),aX=Error("Cannot find module '@prisma/client'");throw aX.code="MODULE_NOT_FOUND",aX}];

//# sourceMappingURL=%5Broot-of-the-server%5D__460b78e5._.js.map